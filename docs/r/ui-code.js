(function(){
shadow$provide[108]=function(Pa,da,gb,oa){(function(k,f){"object"===typeof oa&&"undefined"!==typeof gb?gb.exports=f():"function"===typeof define&&define.amd?define(f):(k=k||self,k.CodeMirror=f())})(this,function(){function k(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}function f(n){for(var Q=n.childNodes.length;0<Q;--Q)n.removeChild(n.firstChild);return n}function h(n,Q){return f(n).appendChild(Q)}function l(n,Q,ta,pa){n=document.createElement(n);ta&&(n.className=ta);pa&&(n.style.cssText=pa);
if("string"==typeof Q)n.appendChild(document.createTextNode(Q));else if(Q)for(ta=0;ta<Q.length;++ta)n.appendChild(Q[ta]);return n}function u(n,Q,ta,pa){n=l(n,Q,ta,pa);n.setAttribute("role","presentation");return n}function q(n,Q){3==Q.nodeType&&(Q=Q.parentNode);if(n.contains)return n.contains(Q);do if(11==Q.nodeType&&(Q=Q.host),Q==n)return!0;while(Q=Q.parentNode)}function D(){try{var n=document.activeElement}catch(Q){n=document.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;
return n}function U(n,Q){var ta=n.className;k(Q).test(ta)||(n.className+=(ta?" ":"")+Q)}function aa(n,Q){n=n.split(" ");for(var ta=0;ta<n.length;ta++)n[ta]&&!k(n[ta]).test(Q)&&(Q+=" "+n[ta]);return Q}function X(n){var Q=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,Q)}}function S(n,Q,ta){Q||(Q={});for(var pa in n)!n.hasOwnProperty(pa)||!1===ta&&Q.hasOwnProperty(pa)||(Q[pa]=n[pa]);return Q}function V(n,Q,ta,pa,Oa){null==Q&&(Q=n.search(/[^\s\u00a0]/),-1==Q&&(Q=n.length));
pa=pa||0;for(Oa=Oa||0;;){var hb=n.indexOf("\t",pa);if(0>hb||hb>=Q)return Oa+(Q-pa);Oa+=hb-pa;Oa+=ta-Oa%ta;pa=hb+1}}function F(n,Q){for(var ta=0;ta<n.length;++ta)if(n[ta]==Q)return ta;return-1}function t(n,Q,ta){for(var pa=0,Oa=0;;){var hb=n.indexOf("\t",pa);-1==hb&&(hb=n.length);var yb=hb-pa;if(hb==n.length||Oa+yb>=Q)return pa+Math.min(yb,Q-Oa);Oa+=hb-pa;Oa+=ta-Oa%ta;pa=hb+1;if(Oa>=Q)return pa}}function w(n){for(;Eh.length<=n;)Eh.push(x(Eh)+" ");return Eh[n]}function x(n){return n[n.length-1]}function I(n,
Q){for(var ta=[],pa=0;pa<n.length;pa++)ta[pa]=Q(n[pa],pa);return ta}function R(n,Q,ta){for(var pa=0,Oa=ta(Q);pa<n.length&&ta(n[pa])<=Oa;)pa++;n.splice(pa,0,Q)}function B(){}function v(n,Q){Object.create?n=Object.create(n):(B.prototype=n,n=new B);Q&&S(Q,n);return n}function O(n){return/\w/.test(n)||""<n&&(n.toUpperCase()!=n.toLowerCase()||Ck.test(n))}function N(n,Q){return Q?-1<Q.source.indexOf("\\w")&&O(n)?!0:Q.test(n):O(n)}function A(n){for(var Q in n)if(n.hasOwnProperty(Q)&&n[Q])return!1;return!0}
function J(n){return 768<=n.charCodeAt(0)&&jk.test(n)}function T(n,Q,ta){for(;(0>ta?0<Q:Q<n.length)&&J(n.charAt(Q));)Q+=ta;return Q}function z(n,Q,ta){for(var pa=Q>ta?-1:1;;){if(Q==ta)return Q;var Oa=(Q+ta)/2;Oa=0>pa?Math.ceil(Oa):Math.floor(Oa);if(Oa==Q)return n(Oa)?Q:ta;n(Oa)?ta=Oa:Q=Oa+pa}}function ba(n,Q,ta,pa){if(!n)return pa(Q,ta,"ltr",0);for(var Oa=!1,hb=0;hb<n.length;++hb){var yb=n[hb];if(yb.from<ta&&yb.to>Q||Q==ta&&yb.to==Q)pa(Math.max(yb.from,Q),Math.min(yb.to,ta),1==yb.level?"rtl":"ltr",
hb),Oa=!0}Oa||pa(Q,ta,"ltr")}function K(n,Q,ta){var pa;Qj=null;for(var Oa=0;Oa<n.length;++Oa){var hb=n[Oa];if(hb.from<Q&&hb.to>Q)return Oa;hb.to==Q&&(hb.from!=hb.to&&"before"==ta?pa=Oa:Qj=Oa);hb.from==Q&&(hb.from!=hb.to&&"before"!=ta?pa=Oa:Qj=Oa)}return null!=pa?pa:Qj}function r(n,Q){var ta=n.order;null==ta&&(ta=n.order=Li(n.text,Q));return ta}function Y(n,Q,ta){if(n.removeEventListener)n.removeEventListener(Q,ta,!1);else if(n.detachEvent)n.detachEvent("on"+Q,ta);else{var pa=(n=n._handlers)&&n[Q];
pa&&(ta=F(pa,ta),-1<ta&&(n[Q]=pa.slice(0,ta).concat(pa.slice(ta+1))))}}function Z(n,Q){var ta=n._handlers&&n._handlers[Q]||aj;if(ta.length)for(var pa=Array.prototype.slice.call(arguments,2),Oa=0;Oa<ta.length;++Oa)ta[Oa].apply(null,pa)}function E(n,Q,ta){"string"==typeof Q&&(Q={type:Q,preventDefault:function(){this.defaultPrevented=!0}});Z(n,ta||Q.type,n,Q);return Ga(Q)||Q.codemirrorIgnore}function C(n){var Q=n._handlers&&n._handlers.cursorActivity;if(Q){n=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=
[]);for(var ta=0;ta<Q.length;++ta)-1==F(n,Q[ta])&&n.push(Q[ta])}}function W(n,Q){return 0<(n._handlers&&n._handlers[Q]||aj).length}function fa(n){n.prototype.on=function(Q,ta){rg(this,Q,ta)};n.prototype.off=function(Q,ta){Y(this,Q,ta)}}function ja(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function Ba(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function Ga(n){return null!=n.defaultPrevented?n.defaultPrevented:0==n.returnValue}function ua(n){ja(n);Ba(n)}function Fa(n){var Q=
n.which;null==Q&&(n.button&1?Q=1:n.button&2?Q=3:n.button&4&&(Q=2));Ch&&n.ctrlKey&&1==Q&&(Q=3);return Q}function Xa(n,Q){2<arguments.length&&(Q.dependencies=Array.prototype.slice.call(arguments,2));sh[n]=Q}function Sa(n){if("string"==typeof n&&uh.hasOwnProperty(n))n=uh[n];else if(n&&"string"==typeof n.name&&uh.hasOwnProperty(n.name)){var Q=uh[n.name];"string"==typeof Q&&(Q={name:Q});n=v(Q,n);n.name=Q.name}else{if("string"==typeof n&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return Sa("application/xml");if("string"==
typeof n&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return Sa("application/json")}return"string"==typeof n?{name:n}:n||{name:"null"}}function eb(n,Q){Q=Sa(Q);var ta=sh[Q.name];if(!ta)return eb(n,"text/plain");n=ta(n,Q);if(hi.hasOwnProperty(Q.name)){ta=hi[Q.name];for(var pa in ta)ta.hasOwnProperty(pa)&&(n.hasOwnProperty(pa)&&(n["_"+pa]=n[pa]),n[pa]=ta[pa])}n.name=Q.name;Q.helperType&&(n.helperType=Q.helperType);if(Q.modeProps)for(var Oa in Q.modeProps)n[Oa]=Q.modeProps[Oa];return n}function Va(n,Q){n=hi.hasOwnProperty(n)?
hi[n]:hi[n]={};S(Q,n)}function La(n,Q){if(!0===Q)return Q;if(n.copyState)return n.copyState(Q);n={};for(var ta in Q){var pa=Q[ta];pa instanceof Array&&(pa=pa.concat([]));n[ta]=pa}return n}function Ra(n,Q){for(var ta;n.innerMode;){ta=n.innerMode(Q);if(!ta||ta.mode==n)break;Q=ta.state;n=ta.mode}return ta||{mode:n,state:Q}}function la(n,Q,ta){return n.startState?n.startState(Q,ta):!0}function ma(n,Q){Q-=n.first;if(0>Q||Q>=n.size)throw Error("There is no line "+(Q+n.first)+" in the document.");for(;!n.lines;)for(var ta=
0;;++ta){var pa=n.children[ta],Oa=pa.chunkSize();if(Q<Oa){n=pa;break}Q-=Oa}return n.lines[Q]}function Aa(n,Q,ta){var pa=[],Oa=Q.line;n.iter(Q.line,ta.line+1,function(hb){hb=hb.text;Oa==ta.line&&(hb=hb.slice(0,ta.ch));Oa==Q.line&&(hb=hb.slice(Q.ch));pa.push(hb);++Oa});return pa}function Da(n,Q,ta){var pa=[];n.iter(Q,ta,function(Oa){pa.push(Oa.text)});return pa}function Qa(n,Q){if(Q-=n.height)for(;n;n=n.parent)n.height+=Q}function Ea(n){if(null==n.parent)return null;var Q=n.parent;n=F(Q.lines,n);for(var ta=
Q.parent;ta;Q=ta,ta=ta.parent)for(var pa=0;ta.children[pa]!=Q;++pa)n+=ta.children[pa].chunkSize();return n+Q.first}function kb(n,Q){var ta=n.first;a:do{for(var pa=0;pa<n.children.length;++pa){var Oa=n.children[pa],hb=Oa.height;if(Q<hb){n=Oa;continue a}Q-=hb;ta+=Oa.chunkSize()}return ta}while(!n.lines);for(pa=0;pa<n.lines.length;++pa){Oa=n.lines[pa].height;if(Q<Oa)break;Q-=Oa}return ta+pa}function cb(n,Q){return Q>=n.first&&Q<n.first+n.size}function Mb(n,Q){return String(n.lineNumberFormatter(Q+n.firstLineNumber))}
function Gb(n,Q,ta){void 0===ta&&(ta=null);if(!(this instanceof Gb))return new Gb(n,Q,ta);this.line=n;this.ch=Q;this.sticky=ta}function Wb(n,Q){return n.line-Q.line||n.ch-Q.ch}function sa(n,Q){return n.sticky==Q.sticky&&0==Wb(n,Q)}function ra(n){return Gb(n.line,n.ch)}function xa(n,Q){return 0>Wb(n,Q)?Q:n}function Ia(n,Q){return 0>Wb(n,Q)?n:Q}function bb(n,Q){if(Q.line<n.first)return Gb(n.first,0);var ta=n.first+n.size-1;if(Q.line>ta)return Gb(ta,ma(n,ta).text.length);n=ma(n,Q.line).text.length;ta=
Q.ch;Q=null==ta||ta>n?Gb(Q.line,n):0>ta?Gb(Q.line,0):Q;return Q}function Hb(n,Q){for(var ta=[],pa=0;pa<Q.length;pa++)ta[pa]=bb(n,Q[pa]);return ta}function zb(n,Q,ta,pa){var Oa=[n.state.modeGen],hb={};ub(n,Q.text,n.doc.mode,ta,function(ic,Bc){return Oa.push(ic,Bc)},hb,pa);var yb=ta.state;pa=function(ic){ta.baseTokens=Oa;var Bc=n.state.overlays[ic],Lc=1,gd=0;ta.state=!0;ub(n,Q.text,Bc.mode,ta,function(Dd,Jd){for(var se=Lc;gd<Dd;){var cf=Oa[Lc];cf>Dd&&Oa.splice(Lc,1,Dd,Oa[Lc+1],cf);Lc+=2;gd=Math.min(Dd,
cf)}if(Jd)if(Bc.opaque)Oa.splice(se,Lc-se,Dd,"overlay "+Jd),Lc=se+2;else for(;se<Lc;se+=2)Dd=Oa[se+1],Oa[se+1]=(Dd?Dd+" ":"")+"overlay "+Jd},hb);ta.state=yb;ta.baseTokens=null;ta.baseTokenPos=1};for(var Kb=0;Kb<n.state.overlays.length;++Kb)pa(Kb);return{styles:Oa,classes:hb.bgClass||hb.textClass?hb:null}}function mb(n,Q,ta){if(!Q.styles||Q.styles[0]!=n.state.modeGen){var pa=Jb(n,Ea(Q)),Oa=Q.text.length>n.options.maxHighlightLength&&La(n.doc.mode,pa.state),hb=zb(n,Q,pa);Oa&&(pa.state=Oa);Q.stateAfter=
pa.save(!Oa);Q.styles=hb.styles;hb.classes?Q.styleClasses=hb.classes:Q.styleClasses&&(Q.styleClasses=null);ta===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return Q.styles}function Jb(n,Q,ta){var pa=n.doc,Oa=n.display;if(!pa.mode.startState)return new Ih(pa,!0,Q);var hb=Rc(n,Q,ta),yb=hb>pa.first&&ma(pa,hb-1).stateAfter,Kb=yb?Ih.fromSaved(pa,yb,hb):new Ih(pa,la(pa.mode),hb);pa.iter(hb,Q,function(ic){Eb(n,ic.text,Kb);var Bc=Kb.line;ic.stateAfter=
Bc==Q-1||0==Bc%5||Bc>=Oa.viewFrom&&Bc<Oa.viewTo?Kb.save():null;Kb.nextLine()});ta&&(pa.modeFrontier=Kb.line);return Kb}function Eb(n,Q,ta,pa){var Oa=n.doc.mode;n=new ii(Q,n.options.tabSize,ta);n.start=n.pos=pa||0;for(""==Q&&Db(Oa,ta.state);!n.eol();)bc(Oa,n,ta.state),n.start=n.pos}function Db(n,Q){if(n.blankLine)return n.blankLine(Q);if(n.innerMode&&(n=Ra(n,Q),n.mode.blankLine))return n.mode.blankLine(n.state)}function bc(n,Q,ta,pa){for(var Oa=0;10>Oa;Oa++){pa&&(pa[0]=Ra(n,ta).mode);var hb=n.token(Q,
ta);if(Q.pos>Q.start)return hb}throw Error("Mode "+n.name+" failed to advance stream.");}function jc(n,Q,ta,pa){var Oa=n.doc,hb=Oa.mode;Q=bb(Oa,Q);var yb=ma(Oa,Q.line);ta=Jb(n,Q.line,ta);n=new ii(yb.text,n.options.tabSize,ta);var Kb;for(pa&&(Kb=[]);(pa||n.pos<Q.ch)&&!n.eol();){n.start=n.pos;var ic=bc(hb,n,ta.state);pa&&Kb.push(new nj(n,ic,La(Oa.mode,ta.state)))}return pa?Kb:new nj(n,ic,ta.state)}function Tc(n,Q){if(n)for(;;){var ta=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!ta)break;n=n.slice(0,
ta.index)+n.slice(ta.index+ta[0].length);var pa=ta[1]?"bgClass":"textClass";null==Q[pa]?Q[pa]=ta[2]:(new RegExp("(?:^|\\s)"+ta[2]+"(?:$|\\s)")).test(Q[pa])||(Q[pa]+=" "+ta[2])}return n}function ub(n,Q,ta,pa,Oa,hb,yb){var Kb=ta.flattenSpans;null==Kb&&(Kb=n.options.flattenSpans);var ic=0,Bc=null,Lc=new ii(Q,n.options.tabSize,pa),gd=n.options.addModeClass&&[null];for(""==Q&&Tc(Db(ta,pa.state),hb);!Lc.eol();){if(Lc.pos>n.options.maxHighlightLength){Kb=!1;yb&&Eb(n,Q,pa,Lc.pos);Lc.pos=Q.length;var Dd=null}else Dd=
Tc(bc(ta,Lc,pa.state,gd),hb);if(gd){var Jd=gd[0].name;Jd&&(Dd="m-"+(Dd?Jd+" "+Dd:Jd))}if(!Kb||Bc!=Dd){for(;ic<Lc.start;)ic=Math.min(Lc.start,ic+5E3),Oa(ic,Bc);Bc=Dd}Lc.start=Lc.pos}for(;ic<Lc.pos;)n=Math.min(Lc.pos,ic+5E3),Oa(n,Bc),ic=n}function Rc(n,Q,ta){for(var pa,Oa,hb=n.doc,yb=ta?-1:Q-(n.doc.mode.innerMode?1E3:100);Q>yb;--Q){if(Q<=hb.first)return hb.first;var Kb=ma(hb,Q-1),ic=Kb.stateAfter;if(ic&&(!ta||Q+(ic instanceof Gj?ic.lookAhead:0)<=hb.modeFrontier))return Q;Kb=V(Kb.text,null,n.options.tabSize);
if(null==Oa||pa>Kb)Oa=Q-1,pa=Kb}return Oa}function Gd(n,Q){n.modeFrontier=Math.min(n.modeFrontier,Q);if(!(n.highlightFrontier<Q-10)){for(var ta=n.first,pa=Q-1;pa>ta;pa--){var Oa=ma(n,pa).stateAfter;if(Oa&&(!(Oa instanceof Gj)||pa+Oa.lookAhead<Q)){ta=pa+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,ta)}}function Kd(n,Q,ta){this.marker=n;this.from=Q;this.to=ta}function Vd(n,Q){if(n)for(var ta=0;ta<n.length;++ta){var pa=n[ta];if(pa.marker==Q)return pa}}function ze(n,Q){if(Q.full)return null;
var ta=cb(n,Q.from.line)&&ma(n,Q.from.line).markedSpans,pa=cb(n,Q.to.line)&&ma(n,Q.to.line).markedSpans;if(!ta&&!pa)return null;n=Q.from.ch;var Oa=Q.to.ch,hb=0==Wb(Q.from,Q.to),yb;if(ta)for(var Kb=0;Kb<ta.length;++Kb){var ic=ta[Kb],Bc=ic.marker;if(null==ic.from||(Bc.inclusiveLeft?ic.from<=n:ic.from<n)||!(ic.from!=n||"bookmark"!=Bc.type||hb&&ic.marker.insertLeft)){var Lc=null==ic.to||(Bc.inclusiveRight?ic.to>=n:ic.to>n);(yb||(yb=[])).push(new Kd(Bc,ic.from,Lc?null:ic.to))}}ta=yb;var gd;if(pa)for(yb=
0;yb<pa.length;++yb)if(Kb=pa[yb],ic=Kb.marker,null==Kb.to||(ic.inclusiveRight?Kb.to>=Oa:Kb.to>Oa)||Kb.from==Oa&&"bookmark"==ic.type&&(!hb||Kb.marker.insertLeft))Bc=null==Kb.from||(ic.inclusiveLeft?Kb.from<=Oa:Kb.from<Oa),(gd||(gd=[])).push(new Kd(ic,Bc?null:Kb.from-Oa,null==Kb.to?null:Kb.to-Oa));pa=1==Q.text.length;Oa=x(Q.text).length+(pa?n:0);if(ta)for(hb=0;hb<ta.length;++hb)if(yb=ta[hb],null==yb.to)(Kb=Vd(gd,yb.marker),Kb)?pa&&(yb.to=null==Kb.to?null:Kb.to+Oa):yb.to=n;if(gd)for(n=0;n<gd.length;++n)hb=
gd[n],null!=hb.to&&(hb.to+=Oa),null==hb.from?Vd(ta,hb.marker)||(hb.from=Oa,pa&&(ta||(ta=[])).push(hb)):(hb.from+=Oa,pa&&(ta||(ta=[])).push(hb));ta&&(ta=ee(ta));gd&&gd!=ta&&(gd=ee(gd));n=[ta];if(!pa){Q=Q.text.length-2;var Dd;if(0<Q&&ta)for(pa=0;pa<ta.length;++pa)null==ta[pa].to&&(Dd||(Dd=[])).push(new Kd(ta[pa].marker,null,null));for(ta=0;ta<Q;++ta)n.push(Dd);n.push(gd)}return n}function ee(n){for(var Q=0;Q<n.length;++Q){var ta=n[Q];null!=ta.from&&ta.from==ta.to&&!1!==ta.marker.clearWhenEmpty&&n.splice(Q--,
1)}return n.length?n:null}function bd(n,Q,ta){var pa=null;n.iter(Q.line,ta.line+1,function(Lc){if(Lc.markedSpans)for(var gd=0;gd<Lc.markedSpans.length;++gd){var Dd=Lc.markedSpans[gd].marker;!Dd.readOnly||pa&&-1!=F(pa,Dd)||(pa||(pa=[])).push(Dd)}});if(!pa)return null;n=[{from:Q,to:ta}];for(Q=0;Q<pa.length;++Q){ta=pa[Q];for(var Oa=ta.find(0),hb=0;hb<n.length;++hb){var yb=n[hb];if(!(0>Wb(yb.to,Oa.from)||0<Wb(yb.from,Oa.to))){var Kb=[hb,1],ic=Wb(yb.from,Oa.from),Bc=Wb(yb.to,Oa.to);(0>ic||!ta.inclusiveLeft&&
!ic)&&Kb.push({from:yb.from,to:Oa.from});(0<Bc||!ta.inclusiveRight&&!Bc)&&Kb.push({from:Oa.to,to:yb.to});n.splice.apply(n,Kb);hb+=Kb.length-3}}}return n}function Bd(n){var Q=n.markedSpans;if(Q){for(var ta=0;ta<Q.length;++ta)Q[ta].marker.detachLine(n);n.markedSpans=null}}function Ld(n,Q){if(Q){for(var ta=0;ta<Q.length;++ta)Q[ta].marker.attachLine(n);n.markedSpans=Q}}function fe(n,Q){var ta=n.lines.length-Q.lines.length;if(0!=ta)return ta;ta=n.find();var pa=Q.find(),Oa=Wb(ta.from,pa.from)||(n.inclusiveLeft?
-1:0)-(Q.inclusiveLeft?-1:0);return Oa?-Oa:(ta=Wb(ta.to,pa.to)||(n.inclusiveRight?1:0)-(Q.inclusiveRight?1:0))?ta:Q.id-n.id}function Ee(n,Q){n=ji&&n.markedSpans;if(n)for(var ta,pa=0;pa<n.length;++pa)if(ta=n[pa],ta.marker.collapsed&&null==(Q?ta.from:ta.to)&&(!Oa||0>fe(Oa,ta.marker)))var Oa=ta.marker;return Oa}function dd(n,Q,ta,pa,Oa){n=ma(n,Q);if(n=ji&&n.markedSpans)for(Q=0;Q<n.length;++Q){var hb=n[Q];if(hb.marker.collapsed){var yb=hb.marker.find(0),Kb=Wb(yb.from,ta)||(hb.marker.inclusiveLeft?-1:
0)-(Oa.inclusiveLeft?-1:0),ic=Wb(yb.to,pa)||(hb.marker.inclusiveRight?1:0)-(Oa.inclusiveRight?1:0);if(!(0<=Kb&&0>=ic||0>=Kb&&0<=ic)&&(0>=Kb&&(hb.marker.inclusiveRight&&Oa.inclusiveLeft?0<=Wb(yb.to,ta):0<Wb(yb.to,ta))||0<=Kb&&(hb.marker.inclusiveRight&&Oa.inclusiveLeft?0>=Wb(yb.from,pa):0>Wb(yb.from,pa))))return!0}}}function nd(n){for(var Q;Q=Ee(n,!0);)n=Q.find(-1,!0).line;return n}function Dc(n,Q){n=ma(n,Q);var ta=nd(n);return n==ta?Q:Ea(ta)}function jd(n,Q){if(Q>n.lastLine())return Q;var ta=ma(n,
Q);if(!Qd(n,ta))return Q;for(;n=Ee(ta,!1);)ta=n.find(1,!0).line;return Ea(ta)+1}function Qd(n,Q){var ta=ji&&Q.markedSpans;if(ta)for(var pa,Oa=0;Oa<ta.length;++Oa)if(pa=ta[Oa],pa.marker.collapsed&&(null==pa.from||!pa.marker.widgetNode&&0==pa.from&&pa.marker.inclusiveLeft&&ae(n,Q,pa)))return!0}function ae(n,Q,ta){if(null==ta.to)return Q=ta.marker.find(1,!0),ae(n,Q.line,Vd(Q.line.markedSpans,ta.marker));if(ta.marker.inclusiveRight&&ta.to==Q.text.length)return!0;for(var pa,Oa=0;Oa<Q.markedSpans.length;++Oa)if(pa=
Q.markedSpans[Oa],pa.marker.collapsed&&!pa.marker.widgetNode&&pa.from==ta.to&&(null==pa.to||pa.to!=ta.from)&&(pa.marker.inclusiveLeft||ta.marker.inclusiveRight)&&ae(n,Q,pa))return!0}function te(n){n=nd(n);for(var Q=0,ta=n.parent,pa=0;pa<ta.lines.length;++pa){var Oa=ta.lines[pa];if(Oa==n)break;else Q+=Oa.height}for(n=ta.parent;n;ta=n,n=ta.parent)for(pa=0;pa<n.children.length&&(Oa=n.children[pa],Oa!=ta);++pa)Q+=Oa.height;return Q}function Bb(n){if(0==n.height)return 0;for(var Q=n.text.length,ta,pa=
n;ta=Ee(pa,!0);)ta=ta.find(0,!0),pa=ta.from.line,Q+=ta.from.ch-ta.to.ch;for(pa=n;ta=Ee(pa,!1);)n=ta.find(0,!0),Q-=pa.text.length-n.from.ch,pa=n.to.line,Q+=pa.text.length-n.to.ch;return Q}function $b(n){var Q=n.display;n=n.doc;Q.maxLine=ma(n,n.first);Q.maxLineLength=Bb(Q.maxLine);Q.maxLineChanged=!0;n.iter(function(ta){var pa=Bb(ta);pa>Q.maxLineLength&&(Q.maxLineLength=pa,Q.maxLine=ta)})}function Gc(n,Q){if(!n||/^\s*$/.test(n))return null;Q=Q.addModeClass?Jk:Uj;return Q[n]||(Q[n]=n.replace(/\S+/g,
"cm-$\x26"))}function Jc(n,Q){var ta=u("span",null,null,vg?"padding-right: .1px":null);ta={pre:u("pre",[ta],"CodeMirror-line"),content:ta,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")};Q.measure={};for(var pa=0;pa<=(Q.rest?Q.rest.length:0);pa++){var Oa=pa?Q.rest[pa-1]:Q.line,hb=void 0;ta.pos=0;ta.addToken=Zc;var yb=n.display.measure;if(null!=wj)yb=wj;else{var Kb=h(yb,document.createTextNode("AخA")),ic=lj(Kb,0,1).getBoundingClientRect();Kb=lj(Kb,1,2).getBoundingClientRect();
f(yb);yb=ic&&ic.left!=ic.right?wj=3>Kb.right-ic.right:!1}yb&&(hb=r(Oa,n.doc.direction))&&(ta.addToken=xd(ta.addToken,hb));ta.map=[];var Bc=Q!=n.display.externalMeasured&&Ea(Oa);a:{var Lc=Kb=ic=yb=void 0,gd=void 0,Dd=void 0,Jd=void 0;hb=ta;Bc=mb(n,Oa,Bc);var se=Oa.markedSpans,cf=Oa.text,lf=0;if(se)for(var Hf=cf.length,ff=0,Ff=1,lg="",ag=0;;){if(ag==ff){gd=Lc=Kb=Dd="";ic=yb=null;ag=Infinity;for(var ig=[],Mf=void 0,cg=0;cg<se.length;++cg){var Of=se[cg],Fg=Of.marker;if("bookmark"==Fg.type&&Of.from==ff&&
Fg.widgetNode)ig.push(Fg);else if(Of.from<=ff&&(null==Of.to||Of.to>ff||Fg.collapsed&&Of.to==ff&&Of.from==ff)){null!=Of.to&&Of.to!=ff&&ag>Of.to&&(ag=Of.to,Lc="");Fg.className&&(gd+=" "+Fg.className);Fg.css&&(Dd=(Dd?Dd+";":"")+Fg.css);Fg.startStyle&&Of.from==ff&&(Kb+=" "+Fg.startStyle);Fg.endStyle&&Of.to==ag&&(Mf||(Mf=[])).push(Fg.endStyle,Of.to);Fg.title&&((yb||(yb={})).title=Fg.title);if(Fg.attributes)for(var Rg in Fg.attributes)(yb||(yb={}))[Rg]=Fg.attributes[Rg];Fg.collapsed&&(!ic||0>fe(ic.marker,
Fg))&&(ic=Of)}else Of.from>ff&&ag>Of.from&&(ag=Of.from)}if(Mf)for(cg=0;cg<Mf.length;cg+=2)Mf[cg+1]==ag&&(Lc+=" "+Mf[cg]);if(!ic||ic.from==ff)for(Mf=0;Mf<ig.length;++Mf)Sd(hb,0,ig[Mf]);if(ic&&(ic.from||0)==ff){Sd(hb,(null==ic.to?Hf+1:ic.to)-ff,ic.marker,null==ic.from);if(null==ic.to)break a;ic.to==ff&&(ic=!1)}}if(ff>=Hf)break;for(ig=Math.min(Hf,ag);;){if(lg){Mf=ff+lg.length;ic||(cg=Mf>ig?lg.slice(0,ig-ff):lg,hb.addToken(hb,cg,Jd?Jd+gd:gd,Kb,ff+cg.length==ag?Lc:"",Dd,yb));if(Mf>=ig){lg=lg.slice(ig-
ff);ff=ig;break}ff=Mf;Kb=""}lg=cf.slice(lf,lf=Bc[Ff++]);Jd=Gc(Bc[Ff++],hb.cm.options)}}else for(yb=1;yb<Bc.length;yb+=2)hb.addToken(hb,cf.slice(lf,lf=Bc[yb]),Gc(Bc[yb+1],hb.cm.options))}Oa.styleClasses&&(Oa.styleClasses.bgClass&&(ta.bgClass=aa(Oa.styleClasses.bgClass,ta.bgClass||"")),Oa.styleClasses.textClass&&(ta.textClass=aa(Oa.styleClasses.textClass,ta.textClass||"")));0==ta.map.length&&(Oa=ta.map,hb=Oa.push,yb=ta.content,ic=yb.appendChild,Kb=n.display.measure,null==Rk&&(Lc=l("span","​"),h(Kb,
l("span",[Lc,document.createTextNode("x")])),0!=Kb.firstChild.offsetHeight&&(Rk=1>=Lc.offsetWidth&&2<Lc.offsetHeight&&!(Yg&&8>xg))),Kb=Rk?l("span","​"):l("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px"),Kb.setAttribute("cm-text",""),hb.call(Oa,0,0,ic.call(yb,Kb)));0==pa?(Q.measure.map=ta.map,Q.measure.cache={}):((Q.measure.maps||(Q.measure.maps=[])).push(ta.map),(Q.measure.caches||(Q.measure.caches=[])).push({}))}vg&&(Rg=ta.content.lastChild,/\bcm-tab\b/.test(Rg.className)||
Rg.querySelector&&Rg.querySelector(".cm-tab"))&&(ta.content.className="cm-tab-wrap-hack");Z(n,"renderLine",n,Q.line,ta.pre);ta.pre.className&&(ta.textClass=aa(ta.pre.className,ta.textClass||""));return ta}function ud(n){var Q=l("span","•","cm-invalidchar");Q.title="\\u"+n.charCodeAt(0).toString(16);Q.setAttribute("aria-label",Q.title);return Q}function Zc(n,Q,ta,pa,Oa,hb,yb){if(Q){if(n.splitSpaces){var Kb=n.trailingSpace;if(1<Q.length&&!/  /.test(Q))Kb=Q;else{for(var ic="",Bc=0;Bc<Q.length;Bc++){var Lc=
Q.charAt(Bc);" "!=Lc||!Kb||Bc!=Q.length-1&&32!=Q.charCodeAt(Bc+1)||(Lc=" ");ic+=Lc;Kb=" "==Lc}Kb=ic}}else Kb=Q;ic=Kb;Bc=n.cm.state.specialChars;Lc=!1;if(Bc.test(Q)){Kb=document.createDocumentFragment();for(var gd=0;;){Bc.lastIndex=gd;var Dd=Bc.exec(Q),Jd=Dd?Dd.index-gd:Q.length-gd;if(Jd){var se=document.createTextNode(ic.slice(gd,gd+Jd));Yg&&9>xg?Kb.appendChild(l("span",[se])):Kb.appendChild(se);n.map.push(n.pos,n.pos+Jd,se);n.col+=Jd;n.pos+=Jd}if(!Dd)break;gd+=Jd+1;"\t"==Dd[0]?(Dd=n.cm.options.tabSize,
Dd-=n.col%Dd,Jd=Kb.appendChild(l("span",w(Dd),"cm-tab")),Jd.setAttribute("role","presentation"),Jd.setAttribute("cm-text","\t"),n.col+=Dd):("\r"==Dd[0]||"\n"==Dd[0]?(Jd=Kb.appendChild(l("span","\r"==Dd[0]?"␍":"␤","cm-invalidchar")),Jd.setAttribute("cm-text",Dd[0])):(Jd=n.cm.options.specialCharPlaceholder(Dd[0]),Jd.setAttribute("cm-text",Dd[0]),Yg&&9>xg?Kb.appendChild(l("span",[Jd])):Kb.appendChild(Jd)),n.col+=1);n.map.push(n.pos,n.pos+1,Jd);n.pos++}}else n.col+=Q.length,Kb=document.createTextNode(ic),
n.map.push(n.pos,n.pos+Q.length,Kb),Yg&&9>xg&&(Lc=!0),n.pos+=Q.length;n.trailingSpace=32==ic.charCodeAt(Q.length-1);if(ta||pa||Oa||Lc||hb||yb){Q=ta||"";pa&&(Q+=pa);Oa&&(Q+=Oa);pa=l("span",[Kb],Q,hb);if(yb)for(var cf in yb)yb.hasOwnProperty(cf)&&"style"!=cf&&"class"!=cf&&pa.setAttribute(cf,yb[cf]);return n.content.appendChild(pa)}n.content.appendChild(Kb)}}function xd(n,Q){return function(ta,pa,Oa,hb,yb,Kb,ic){Oa=Oa?Oa+" cm-force-border":"cm-force-border";for(var Bc=ta.pos,Lc=Bc+pa.length;;){for(var gd=
void 0,Dd=0;Dd<Q.length&&!(gd=Q[Dd],gd.to>Bc&&gd.from<=Bc);Dd++);if(gd.to>=Lc)return n(ta,pa,Oa,hb,yb,Kb,ic);n(ta,pa.slice(0,gd.to-Bc),Oa,hb,null,Kb,ic);hb=null;pa=pa.slice(gd.to-Bc);Bc=gd.to}}}function Sd(n,Q,ta,pa){var Oa=!pa&&ta.widgetNode;Oa&&n.map.push(n.pos,n.pos+Q,Oa);!pa&&n.cm.display.input.needsContentAttribute&&(Oa||(Oa=n.content.appendChild(document.createElement("span"))),Oa.setAttribute("cm-marker",ta.id));Oa&&(n.cm.display.input.setUneditable(Oa),n.content.appendChild(Oa));n.pos+=Q;
n.trailingSpace=!1}function ie(n,Q,ta){for(var pa=this.line=Q,Oa;pa=Ee(pa,!1);)pa=pa.find(1,!0).line,(Oa||(Oa=[])).push(pa);this.size=(this.rest=Oa)?Ea(x(this.rest))-ta+1:1;this.node=this.text=null;this.hidden=Qd(n,Q)}function Be(n,Q,ta){var pa=[],Oa;for(Oa=Q;Oa<ta;)Q=new ie(n.doc,ma(n.doc,Oa),Oa),Oa+=Q.size,pa.push(Q);return pa}function uc(n,Q){if(n=n.ownsGroup)try{var ta=n.delayedCallbacks,pa=0;do{for(;pa<ta.length;pa++)ta[pa].call(null);for(var Oa=0;Oa<n.ops.length;Oa++){var hb=n.ops[Oa];if(hb.cursorActivityHandlers)for(;hb.cursorActivityCalled<
hb.cursorActivityHandlers.length;)hb.cursorActivityHandlers[hb.cursorActivityCalled++].call(null,hb.cm)}}while(pa<ta.length)}finally{Hj=null,Q(n)}}function Oc(n,Q){var ta=n._handlers&&n._handlers[Q]||aj;if(ta.length){var pa=Array.prototype.slice.call(arguments,2);if(Hj)var Oa=Hj.delayedCallbacks;else kj?Oa=kj:(Oa=kj=[],setTimeout(Nd,0));for(var hb=function(Kb){Oa.push(function(){return ta[Kb].apply(null,pa)})},yb=0;yb<ta.length;++yb)hb(yb)}}function Nd(){var n=kj;kj=null;for(var Q=0;Q<n.length;++Q)n[Q]()}
function Od(n,Q,ta,pa){for(var Oa=0;Oa<Q.changes.length;Oa++){var hb=Q.changes[Oa];if("text"==hb){hb=n;var yb=Q,Kb=yb.text.className,ic=ye(hb,yb);yb.text==yb.node&&(yb.node=ic.pre);yb.text.parentNode.replaceChild(ic.pre,yb.text);yb.text=ic.pre;ic.bgClass!=yb.bgClass||ic.textClass!=yb.textClass?(yb.bgClass=ic.bgClass,yb.textClass=ic.textClass,me(hb,yb)):Kb&&(yb.text.className=Kb)}else if("gutter"==hb)od(n,Q,ta,pa);else if("class"==hb)me(n,Q);else if("widget"==hb){hb=n;yb=Q;Kb=pa;yb.alignable&&(yb.alignable=
null);ic=k("CodeMirror-linewidget");for(var Bc=yb.node.firstChild,Lc;Bc;Bc=Lc)Lc=Bc.nextSibling,ic.test(Bc.className)&&yb.node.removeChild(Bc);ge(hb,yb,Kb)}}Q.changes=null}function pe(n){n.node==n.text&&(n.node=l("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),Yg&&8>xg&&(n.node.style.zIndex=2));return n.node}function ye(n,Q){var ta=n.display.externalMeasured;return ta&&ta.line==Q.line?(n.display.externalMeasured=null,
Q.measure=ta.measure,ta.built):Jc(n,Q)}function me(n,Q){var ta=Q.bgClass?Q.bgClass+" "+(Q.line.bgClass||""):Q.line.bgClass;ta&&(ta+=" CodeMirror-linebackground");if(Q.background)ta?Q.background.className=ta:(Q.background.parentNode.removeChild(Q.background),Q.background=null);else if(ta){var pa=pe(Q);Q.background=pa.insertBefore(l("div",null,ta),pa.firstChild);n.display.input.setUneditable(Q.background)}Q.line.wrapClass?pe(Q).className=Q.line.wrapClass:Q.node!=Q.text&&(Q.node.className="");Q.text.className=
(Q.textClass?Q.textClass+" "+(Q.line.textClass||""):Q.line.textClass)||""}function od(n,Q,ta,pa){Q.gutter&&(Q.node.removeChild(Q.gutter),Q.gutter=null);Q.gutterBackground&&(Q.node.removeChild(Q.gutterBackground),Q.gutterBackground=null);if(Q.line.gutterClass){var Oa=pe(Q);Q.gutterBackground=l("div",null,"CodeMirror-gutter-background "+Q.line.gutterClass,"left: "+(n.options.fixedGutter?pa.fixedPos:-pa.gutterTotalWidth)+"px; width: "+pa.gutterTotalWidth+"px");n.display.input.setUneditable(Q.gutterBackground);
Oa.insertBefore(Q.gutterBackground,Q.text)}Oa=Q.line.gutterMarkers;if(n.options.lineNumbers||Oa){var hb=pe(Q),yb=Q.gutter=l("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?pa.fixedPos:-pa.gutterTotalWidth)+"px");yb.setAttribute("aria-hidden","true");n.display.input.setUneditable(yb);hb.insertBefore(yb,Q.text);Q.line.gutterClass&&(yb.className+=" "+Q.line.gutterClass);!n.options.lineNumbers||Oa&&Oa["CodeMirror-linenumbers"]||(Q.lineNumber=yb.appendChild(l("div",Mb(n.options,
ta),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+pa.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px")));if(Oa)for(Q=0;Q<n.display.gutterSpecs.length;++Q)ta=n.display.gutterSpecs[Q].className,(hb=Oa.hasOwnProperty(ta)&&Oa[ta])&&yb.appendChild(l("div",[hb],"CodeMirror-gutter-elt","left: "+pa.gutterLeft[ta]+"px; width: "+pa.gutterWidth[ta]+"px"))}}function hd(n,Q,ta,pa){var Oa=ye(n,Q);Q.text=Q.node=Oa.pre;Oa.bgClass&&(Q.bgClass=Oa.bgClass);Oa.textClass&&(Q.textClass=
Oa.textClass);me(n,Q);od(n,Q,ta,pa);ge(n,Q,pa);return Q.node}function ge(n,Q,ta){$d(n,Q.line,Q,ta,!0);if(Q.rest)for(var pa=0;pa<Q.rest.length;pa++)$d(n,Q.rest[pa],Q,ta,!1)}function $d(n,Q,ta,pa,Oa){if(Q.widgets){var hb=pe(ta),yb=0;for(Q=Q.widgets;yb<Q.length;++yb){var Kb=Q[yb],ic=l("div",[Kb.node],"CodeMirror-linewidget"+(Kb.className?" "+Kb.className:""));Kb.handleMouseEvents||ic.setAttribute("cm-ignore-events","true");var Bc=Kb,Lc=ic,gd=pa;if(Bc.noHScroll){(ta.alignable||(ta.alignable=[])).push(Lc);
var Dd=gd.wrapperWidth;Lc.style.left=gd.fixedPos+"px";Bc.coverGutter||(Dd-=gd.gutterTotalWidth,Lc.style.paddingLeft=gd.gutterTotalWidth+"px");Lc.style.width=Dd+"px"}Bc.coverGutter&&(Lc.style.zIndex=5,Lc.style.position="relative",Bc.noHScroll||(Lc.style.marginLeft=-gd.gutterTotalWidth+"px"));n.display.input.setUneditable(ic);Oa&&Kb.above?hb.insertBefore(ic,ta.gutter||ta.text):hb.appendChild(ic);Oc(Kb,"redraw")}}}function cd(n){if(null!=n.height)return n.height;var Q=n.doc.cm;if(!Q)return 0;if(!q(document.body,
n.node)){var ta="position: relative;";n.coverGutter&&(ta+="margin-left: -"+Q.display.gutters.offsetWidth+"px;");n.noHScroll&&(ta+="width: "+Q.display.wrapper.clientWidth+"px;");h(Q.display.measure,l("div",[n.node],null,ta))}return n.height=n.node.parentNode.offsetHeight}function Ie(n,Q){for(Q=Q.target||Q.srcElement;Q!=n.wrapper;Q=Q.parentNode)if(!Q||1==Q.nodeType&&"true"==Q.getAttribute("cm-ignore-events")||Q.parentNode==n.sizer&&Q!=n.mover)return!0}function Je(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}
function Ad(n){if(n.cachedPaddingH)return n.cachedPaddingH;var Q=h(n.measure,l("pre","x","CodeMirror-line-like"));Q=window.getComputedStyle?window.getComputedStyle(Q):Q.currentStyle;Q={left:parseInt(Q.paddingLeft),right:parseInt(Q.paddingRight)};isNaN(Q.left)||isNaN(Q.right)||(n.cachedPaddingH=Q);return Q}function $e(n){return 50-n.display.nativeBarWidth}function qf(n){return n.display.scroller.clientWidth-$e(n)-n.display.barWidth}function Ye(n){return n.display.scroller.clientHeight-$e(n)-n.display.barHeight}
function af(n,Q,ta){if(n.line==Q)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var pa=0;pa<n.rest.length;pa++)if(n.rest[pa]==Q)return{map:n.measure.maps[pa],cache:n.measure.caches[pa]};for(Q=0;Q<n.rest.length;Q++)if(Ea(n.rest[Q])>ta)return{map:n.measure.maps[Q],cache:n.measure.caches[Q],before:!0}}}function jg(n,Q){if(Q>=n.display.viewFrom&&Q<n.display.viewTo)return n.display.view[be(n,Q)];if((n=n.display.externalMeasured)&&Q>=n.lineN&&Q<n.lineN+n.size)return n}function oe(n,Q){var ta=
Ea(Q),pa=jg(n,ta);pa&&!pa.text?pa=null:pa&&pa.changes&&(Od(n,pa,ta,Xf(n)),n.curOp.forceUpdate=!0);if(!pa){var Oa=nd(Q);pa=Ea(Oa);Oa=n.display.externalMeasured=new ie(n.doc,Oa,pa);Oa.lineN=pa;pa=Oa.built=Jc(n,Oa);Oa.text=pa.pre;h(n.display.lineMeasure,pa.pre);pa=Oa}n=af(pa,Q,ta);return{line:Q,view:pa,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function If(n,Q,ta,pa,Oa){Q.before&&(ta=-1);var hb=ta+(pa||"");if(Q.cache.hasOwnProperty(hb))n=Q.cache[hb];else{Q.rect||(Q.rect=Q.view.text.getBoundingClientRect());
if(!Q.hasHeights){var yb=Q.view,Kb=Q.rect,ic=n.options.lineWrapping,Bc=ic&&qf(n);if(!yb.measure.heights||ic&&yb.measure.width!=Bc){var Lc=yb.measure.heights=[];if(ic)for(yb.measure.width=Bc,yb=yb.text.firstChild.getClientRects(),ic=0;ic<yb.length-1;ic++){Bc=yb[ic];var gd=yb[ic+1];2<Math.abs(Bc.bottom-gd.bottom)&&Lc.push((Bc.bottom+gd.top)/2-Kb.top)}Lc.push(Kb.bottom-Kb.top)}Q.hasHeights=!0}Lc=pa;yb=hg(Q.map,ta,Lc);pa=yb.node;Kb=yb.start;ic=yb.end;ta=yb.collapse;if(3==pa.nodeType){for(var Dd=0;4>Dd;Dd++){for(;Kb&&
J(Q.line.text.charAt(yb.coverStart+Kb));)--Kb;for(;yb.coverStart+ic<yb.coverEnd&&J(Q.line.text.charAt(yb.coverStart+ic));)++ic;if(Yg&&9>xg&&0==Kb&&ic==yb.coverEnd-yb.coverStart)var Jd=pa.parentNode.getBoundingClientRect();else{Jd=lj(pa,Kb,ic).getClientRects();ic=Fk;if("left"==Lc)for(Bc=0;Bc<Jd.length&&(ic=Jd[Bc]).left==ic.right;Bc++);else for(Bc=Jd.length-1;0<=Bc&&(ic=Jd[Bc]).left==ic.right;Bc--);Jd=ic}if(Jd.left||Jd.right||0==Kb)break;ic=Kb;--Kb;ta="right"}Yg&&11>xg&&((Dd=!window.screen||null==screen.logicalXDPI||
screen.logicalXDPI==screen.deviceXDPI)||(null!=Ph?Dd=Ph:(Lc=h(n.display.measure,l("span","x")),Dd=Lc.getBoundingClientRect(),Lc=lj(Lc,0,1).getBoundingClientRect(),Dd=Ph=1<Math.abs(Dd.left-Lc.left)),Dd=!Dd),Dd||(Dd=screen.logicalXDPI/screen.deviceXDPI,Lc=screen.logicalYDPI/screen.deviceYDPI,Jd={left:Jd.left*Dd,right:Jd.right*Dd,top:Jd.top*Lc,bottom:Jd.bottom*Lc}))}else 0<Kb&&(ta=Lc="right"),Jd=n.options.lineWrapping&&1<(Dd=pa.getClientRects()).length?Dd["right"==Lc?Dd.length-1:0]:pa.getBoundingClientRect();
!(Yg&&9>xg)||Kb||Jd&&(Jd.left||Jd.right)||(Jd=(Jd=pa.parentNode.getClientRects()[0])?{left:Jd.left,right:Jd.left+Jf(n.display),top:Jd.top,bottom:Jd.bottom}:Fk);pa=Jd.top-Q.rect.top;Kb=Jd.bottom-Q.rect.top;Dd=(pa+Kb)/2;Lc=Q.view.measure.heights;for(yb=0;yb<Lc.length-1&&!(Dd<Lc[yb]);yb++);ta={left:("right"==ta?Jd.right:Jd.left)-Q.rect.left,right:("left"==ta?Jd.left:Jd.right)-Q.rect.left,top:yb?Lc[yb-1]:0,bottom:Lc[yb]};Jd.left||Jd.right||(ta.bogus=!0);n.options.singleCursorHeightPerLine||(ta.rtop=pa,
ta.rbottom=Kb);n=ta;n.bogus||(Q.cache[hb]=n)}return{left:n.left,right:n.right,top:Oa?n.rtop:n.top,bottom:Oa?n.rbottom:n.bottom}}function hg(n,Q,ta){for(var pa,Oa,hb,yb,Kb,ic,Bc=0;Bc<n.length;Bc+=3){Kb=n[Bc];ic=n[Bc+1];if(Q<Kb)Oa=0,hb=1,yb="left";else if(Q<ic)Oa=Q-Kb,hb=Oa+1;else if(Bc==n.length-3||Q==ic&&n[Bc+3]>Q)hb=ic-Kb,Oa=hb-1,Q>=ic&&(yb="right");if(null!=Oa){pa=n[Bc+2];Kb==ic&&ta==(pa.insertLeft?"left":"right")&&(yb=ta);if("left"==ta&&0==Oa)for(;Bc&&n[Bc-2]==n[Bc-3]&&n[Bc-1].insertLeft;)pa=n[(Bc-=
3)+2],yb="left";if("right"==ta&&Oa==ic-Kb)for(;Bc<n.length-3&&n[Bc+3]==n[Bc+4]&&!n[Bc+5].insertLeft;)pa=n[(Bc+=3)+2],yb="right";break}}return{node:pa,start:Oa,end:hb,collapse:yb,coverStart:Kb,coverEnd:ic}}function zg(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var Q=0;Q<n.rest.length;Q++)n.measure.caches[Q]={}}function pf(n){n.display.externalMeasure=null;f(n.display.lineMeasure);for(var Q=0;Q<n.display.view.length;Q++)zg(n.display.view[Q])}function bg(n){pf(n);n.display.cachedCharWidth=
n.display.cachedTextHeight=n.display.cachedPaddingH=null;n.options.lineWrapping||(n.display.maxLineChanged=!0);n.display.lineNumChars=null}function wg(){return Sj&&mi?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Tf(){return Sj&&mi?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||
document.body).scrollTop}function sg(n){var Q=0;if(n.widgets)for(var ta=0;ta<n.widgets.length;++ta)n.widgets[ta].above&&(Q+=cd(n.widgets[ta]));return Q}function zc(n,Q,ta,pa,Oa){Oa||(Oa=sg(Q),ta.top+=Oa,ta.bottom+=Oa);if("line"==pa)return ta;pa||(pa="local");Q=te(Q);Q="local"==pa?Q+n.display.lineSpace.offsetTop:Q-n.display.viewOffset;if("page"==pa||"window"==pa)n=n.display.lineSpace.getBoundingClientRect(),Q+=n.top+("window"==pa?0:Tf()),pa=n.left+("window"==pa?0:wg()),ta.left+=pa,ta.right+=pa;ta.top+=
Q;ta.bottom+=Q;return ta}function Wa(n,Q,ta){if("div"==ta)return Q;var pa=Q.left;Q=Q.top;"page"==ta?(pa-=wg(),Q-=Tf()):"local"!=ta&&ta||(ta=n.display.sizer.getBoundingClientRect(),pa+=ta.left,Q+=ta.top);n=n.display.lineSpace.getBoundingClientRect();return{left:pa-n.left,top:Q-n.top}}function Ha(n,Q,ta,pa,Oa){pa||(pa=ma(n.doc,Q.line));var hb=pa;Q=Q.ch;pa=If(n,oe(n,pa),Q,Oa);return zc(n,hb,pa,ta)}function m(n,Q,ta,pa,Oa,hb){function yb(Dd,Jd){Dd=If(n,Oa,Dd,Jd?"right":"left",hb);Jd?Dd.left=Dd.right:
Dd.right=Dd.left;return zc(n,pa,Dd,ta)}function Kb(Dd,Jd,se){return yb(se?Dd-1:Dd,1==ic[Jd].level!=se)}pa=pa||ma(n.doc,Q.line);Oa||(Oa=oe(n,pa));var ic=r(pa,n.doc.direction),Bc=Q.ch;Q=Q.sticky;Bc>=pa.text.length?(Bc=pa.text.length,Q="before"):0>=Bc&&(Bc=0,Q="after");if(!ic)return yb("before"==Q?Bc-1:Bc,"before"==Q);var Lc=K(ic,Bc,Q),gd=Qj;Lc=Kb(Bc,Lc,"before"==Q);null!=gd&&(Lc.other=Kb(Bc,gd,"before"!=Q));return Lc}function Na(n,Q){var ta=0;Q=bb(n.doc,Q);n.options.lineWrapping||(ta=Jf(n.display)*
Q.ch);Q=ma(n.doc,Q.line);n=te(Q)+n.display.lineSpace.offsetTop;return{left:ta,right:ta,top:n,bottom:n+Q.height}}function Xb(n,Q,ta,pa,Oa){n=Gb(n,Q,ta);n.xRel=Oa;pa&&(n.outside=pa);return n}function Xc(n,Q,ta){var pa=n.doc;ta+=n.display.viewOffset;if(0>ta)return Xb(pa.first,0,null,-1,-1);var Oa=kb(pa,ta),hb=pa.first+pa.size-1;if(Oa>hb)return Xb(pa.first+pa.size-1,ma(pa,hb).text.length,null,1,1);0>Q&&(Q=0);for(var yb=ma(pa,Oa);;){hb=Se(n,yb,Oa,Q,ta);var Kb=void 0;var ic=hb.ch+(0<hb.xRel||0<hb.outside?
1:0);if(yb=ji&&yb.markedSpans)for(var Bc=0;Bc<yb.length;++Bc){var Lc=yb[Bc];Lc.marker.collapsed&&(null==Lc.from||Lc.from<ic)&&(null==Lc.to||Lc.to>ic)&&(!Kb||0>fe(Kb,Lc.marker))&&(Kb=Lc.marker)}if(!Kb)return hb;hb=Kb.find(1);if(hb.line==Oa)return hb;yb=ma(pa,Oa=hb.line)}}function Id(n,Q,ta,pa){pa-=sg(Q);Q=Q.text.length;var Oa=z(function(hb){return If(n,ta,hb-1).bottom<=pa},Q,0);Q=z(function(hb){return If(n,ta,hb).top>pa},Oa,Q);return{begin:Oa,end:Q}}function Td(n,Q,ta,pa){ta||(ta=oe(n,Q));pa=zc(n,
Q,If(n,ta,pa),"line").top;return Id(n,Q,ta,pa)}function nf(n,Q,ta,pa){return n.bottom<=ta?!1:n.top>ta?!0:(pa?n.left:n.right)>Q}function Se(n,Q,ta,pa,Oa){Oa-=te(Q);var hb=oe(n,Q),yb=sg(Q),Kb=0,ic=Q.text.length,Bc=!0,Lc=r(Q,n.doc.direction);Lc&&(Lc=(n.options.lineWrapping?Vf:Rd)(n,Q,ta,hb,Lc,pa,Oa),Kb=(Bc=1!=Lc.level)?Lc.from:Lc.to-1,ic=Bc?Lc.to:Lc.from-1);var gd=null,Dd=null;Lc=z(function(se){var cf=If(n,hb,se);cf.top+=yb;cf.bottom+=yb;if(!nf(cf,pa,Oa,!1))return!1;cf.top<=Oa&&cf.left<=pa&&(gd=se,Dd=
cf);return!0},Kb,ic);var Jd=!1;Dd?(Kb=pa-Dd.left<Dd.right-pa,Bc=Kb==Bc,Lc=gd+(Bc?0:1),Bc=Bc?"after":"before",Kb=Kb?Dd.left:Dd.right):(Bc||Lc!=ic&&Lc!=Kb||Lc++,Bc=0==Lc?"after":Lc==Q.text.length?"before":If(n,hb,Lc-(Bc?1:0)).bottom+yb<=Oa==Bc?"after":"before",Jd=m(n,Gb(ta,Lc,Bc),"line",Q,hb),Kb=Jd.left,Jd=Oa<Jd.top?-1:Oa>=Jd.bottom?1:0);Lc=T(Q.text,Lc,1);return Xb(ta,Lc,Bc,Jd,pa-Kb)}function Rd(n,Q,ta,pa,Oa,hb,yb){var Kb=z(function(Lc){Lc=Oa[Lc];var gd=1!=Lc.level;return nf(m(n,Gb(ta,gd?Lc.to:Lc.from,
gd?"before":"after"),"line",Q,pa),hb,yb,!0)},0,Oa.length-1),ic=Oa[Kb];if(0<Kb){var Bc=1!=ic.level;Bc=m(n,Gb(ta,Bc?ic.from:ic.to,Bc?"after":"before"),"line",Q,pa);nf(Bc,hb,yb,!0)&&Bc.top>yb&&(ic=Oa[Kb-1])}return ic}function Vf(n,Q,ta,pa,Oa,hb,yb){yb=Id(n,Q,pa,yb);ta=yb.begin;yb=yb.end;/\s/.test(Q.text.charAt(yb-1))&&yb--;for(var Kb=Q=null,ic=0;ic<Oa.length;ic++){var Bc=Oa[ic];if(!(Bc.from>=yb||Bc.to<=ta)){var Lc=If(n,pa,1!=Bc.level?Math.min(yb,Bc.to)-1:Math.max(ta,Bc.from)).right;Lc=Lc<hb?hb-Lc+1E9:
Lc-hb;if(!Q||Kb>Lc)Q=Bc,Kb=Lc}}Q||(Q=Oa[Oa.length-1]);Q.from<ta&&(Q={from:ta,to:Q.to,level:Q.level});Q.to>yb&&(Q={from:Q.from,to:yb,level:Q.level});return Q}function jf(n){if(null!=n.cachedTextHeight)return n.cachedTextHeight;if(null==wh){wh=l("pre",null,"CodeMirror-line-like");for(var Q=0;49>Q;++Q)wh.appendChild(document.createTextNode("x")),wh.appendChild(l("br"));wh.appendChild(document.createTextNode("x"))}h(n.measure,wh);Q=wh.offsetHeight/50;3<Q&&(n.cachedTextHeight=Q);f(n.measure);return Q||
1}function Jf(n){if(null!=n.cachedCharWidth)return n.cachedCharWidth;var Q=l("span","xxxxxxxxxx"),ta=l("pre",[Q],"CodeMirror-line-like");h(n.measure,ta);Q=Q.getBoundingClientRect();Q=(Q.right-Q.left)/10;2<Q&&(n.cachedCharWidth=Q);return Q||10}function Xf(n){for(var Q=n.display,ta={},pa={},Oa=Q.gutters.clientLeft,hb=Q.gutters.firstChild,yb=0;hb;hb=hb.nextSibling,++yb){var Kb=n.display.gutterSpecs[yb].className;ta[Kb]=hb.offsetLeft+hb.clientLeft+Oa;pa[Kb]=hb.clientWidth}return{fixedPos:Pg(Q),gutterTotalWidth:Q.gutters.offsetWidth,
gutterLeft:ta,gutterWidth:pa,wrapperWidth:Q.wrapper.clientWidth}}function Pg(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function dh(n){var Q=jf(n.display),ta=n.options.lineWrapping,pa=ta&&Math.max(5,n.display.scroller.clientWidth/Jf(n.display)-3);return function(Oa){if(Qd(n.doc,Oa))return 0;var hb=0;if(Oa.widgets)for(var yb=0;yb<Oa.widgets.length;yb++)Oa.widgets[yb].height&&(hb+=Oa.widgets[yb].height);return ta?hb+(Math.ceil(Oa.text.length/pa)||1)*Q:hb+
Q}}function Zg(n){var Q=n.doc,ta=dh(n);Q.iter(function(pa){var Oa=ta(pa);Oa!=pa.height&&Qa(pa,Oa)})}function Yf(n,Q,ta,pa){var Oa=n.display;if(!ta&&"true"==(Q.target||Q.srcElement).getAttribute("cm-not-content"))return null;ta=Oa.lineSpace.getBoundingClientRect();try{var hb=Q.clientX-ta.left;var yb=Q.clientY-ta.top}catch(ic){return null}Q=Xc(n,hb,yb);var Kb;pa&&0<Q.xRel&&(Kb=ma(n.doc,Q.line).text).length==Q.ch&&(pa=V(Kb,Kb.length,n.options.tabSize)-Kb.length,Q=Gb(Q.line,Math.max(0,Math.round((hb-
Ad(n.display).left)/Jf(n.display))-pa)));return Q}function be(n,Q){if(Q>=n.display.viewTo)return null;Q-=n.display.viewFrom;if(0>Q)return null;n=n.display.view;for(var ta=0;ta<n.length;ta++)if(Q-=n[ta].size,0>Q)return ta}function Kf(n,Q,ta,pa){null==Q&&(Q=n.doc.first);null==ta&&(ta=n.doc.first+n.doc.size);pa||(pa=0);var Oa=n.display;pa&&ta<Oa.viewTo&&(null==Oa.updateLineNumbers||Oa.updateLineNumbers>Q)&&(Oa.updateLineNumbers=Q);n.curOp.viewChanged=!0;if(Q>=Oa.viewTo)ji&&Dc(n.doc,Q)<Oa.viewTo&&Ue(n);
else if(ta<=Oa.viewFrom)ji&&jd(n.doc,ta+pa)>Oa.viewFrom?Ue(n):(Oa.viewFrom+=pa,Oa.viewTo+=pa);else if(Q<=Oa.viewFrom&&ta>=Oa.viewTo)Ue(n);else if(Q<=Oa.viewFrom){var hb=Pf(n,ta,ta+pa,1);hb?(Oa.view=Oa.view.slice(hb.index),Oa.viewFrom=hb.lineN,Oa.viewTo+=pa):Ue(n)}else if(ta>=Oa.viewTo)(hb=Pf(n,Q,Q,-1))?(Oa.view=Oa.view.slice(0,hb.index),Oa.viewTo=hb.lineN):Ue(n);else{hb=Pf(n,Q,Q,-1);var yb=Pf(n,ta,ta+pa,1);hb&&yb?(Oa.view=Oa.view.slice(0,hb.index).concat(Be(n,hb.lineN,yb.lineN)).concat(Oa.view.slice(yb.index)),
Oa.viewTo+=pa):Ue(n)}if(n=Oa.externalMeasured)ta<n.lineN?n.lineN+=pa:Q<n.lineN+n.size&&(Oa.externalMeasured=null)}function he(n,Q,ta){n.curOp.viewChanged=!0;var pa=n.display,Oa=n.display.externalMeasured;Oa&&Q>=Oa.lineN&&Q<Oa.lineN+Oa.size&&(pa.externalMeasured=null);Q<pa.viewFrom||Q>=pa.viewTo||(n=pa.view[be(n,Q)],null!=n.node&&(n=n.changes||(n.changes=[]),-1==F(n,ta)&&n.push(ta)))}function Ue(n){n.display.viewFrom=n.display.viewTo=n.doc.first;n.display.view=[];n.display.viewOffset=0}function Pf(n,
Q,ta,pa){var Oa=be(n,Q),hb=n.display.view;if(!ji||ta==n.doc.first+n.doc.size)return{index:Oa,lineN:ta};for(var yb=n.display.viewFrom,Kb=0;Kb<Oa;Kb++)yb+=hb[Kb].size;if(yb!=Q){if(0<pa){if(Oa==hb.length-1)return null;Q=yb+hb[Oa].size-Q;Oa++}else Q=yb-Q;ta+=Q}for(;Dc(n.doc,ta)!=ta;){if(Oa==(0>pa?0:hb.length-1))return null;ta+=pa*hb[Oa-(0>pa?1:0)].size;Oa+=pa}return{index:Oa,lineN:ta}}function Ig(n){n=n.display.view;for(var Q=0,ta=0;ta<n.length;ta++){var pa=n[ta];pa.hidden||pa.node&&!pa.changes||++Q}return Q}
function Ya(n){n.display.input.showSelection(n.display.input.prepareSelection())}function Cb(n,Q){void 0===Q&&(Q=!0);var ta=n.doc,pa={},Oa=pa.cursors=document.createDocumentFragment(),hb=pa.selection=document.createDocumentFragment(),yb=n.options.$customCursor;yb&&(Q=!0);for(var Kb=0;Kb<ta.sel.ranges.length;Kb++)if(Q||Kb!=ta.sel.primIndex){var ic=ta.sel.ranges[Kb];if(!(ic.from().line>=n.display.viewTo||ic.to().line<n.display.viewFrom)){var Bc=ic.empty();if(yb){var Lc=yb(n,ic);Lc&&fc(n,Lc,Oa)}else(Bc||
n.options.showCursorWhenSelecting)&&fc(n,ic.head,Oa);Bc||rc(n,ic,hb)}}return pa}function fc(n,Q,ta){var pa=m(n,Q,"div",null,null,!n.options.singleCursorHeightPerLine),Oa=ta.appendChild(l("div"," ","CodeMirror-cursor"));Oa.style.left=pa.left+"px";Oa.style.top=pa.top+"px";Oa.style.height=Math.max(0,pa.bottom-pa.top)*n.options.cursorHeight+"px";/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)&&(Q=Ha(n,Q,"div",null,null),Q=Q.right-Q.left,Oa.style.width=(0<Q?Q:n.defaultCharWidth())+"px");pa.other&&
(n=ta.appendChild(l("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),n.style.display="",n.style.left=pa.other.left+"px",n.style.top=pa.other.top+"px",n.style.height=.85*(pa.other.bottom-pa.other.top)+"px")}function lc(n,Q){return n.top-Q.top||n.left-Q.left}function rc(n,Q,ta){function pa(Jd,se,cf,lf){0>se&&(se=0);se=Math.round(se);lf=Math.round(lf);Kb.appendChild(l("div",null,"CodeMirror-selected","position: absolute; left: "+Jd+"px;\n                             top: "+se+"px; width: "+
(null==cf?Lc-Jd:cf)+"px;\n                             height: "+(lf-se)+"px"))}function Oa(Jd,se,cf){function lf(Mf,cg){return Ha(n,Gb(Jd,Mf),"div",ff,cg)}function Hf(Mf,cg,Of){Mf=Td(n,ff,null,Mf);cg="ltr"==cg==("after"==Of)?"left":"right";Of="after"==Of?Mf.begin:Mf.end-(/\s/.test(ff.text.charAt(Mf.end-1))?2:1);return lf(Of,cg)[cg]}var ff=ma(yb,Jd),Ff=ff.text.length,lg,ag,ig=r(ff,yb.direction);ba(ig,se||0,null==cf?Ff:cf,function(Mf,cg,Of,Fg){var Rg="ltr"==Of,Bg=lf(Mf,Rg?"left":"right"),Eg=lf(cg-
1,Rg?"right":"left"),xi=null==se&&0==Mf,rh=null==cf&&cg==Ff,ih=0==Fg;Fg=!ig||Fg==ig.length-1;3>=Eg.top-Bg.top?(cg=(gd?xi:rh)&&ih?Bc:(Rg?Bg:Eg).left,pa(cg,Bg.top,((gd?rh:xi)&&Fg?Lc:(Rg?Eg:Bg).right)-cg,Bg.bottom)):(Rg?(Rg=gd&&xi&&ih?Bc:Bg.left,xi=gd?Lc:Hf(Mf,Of,"before"),Mf=gd?Bc:Hf(cg,Of,"after"),rh=gd&&rh&&Fg?Lc:Eg.right):(Rg=gd?Hf(Mf,Of,"before"):Bc,xi=!gd&&xi&&ih?Lc:Bg.right,Mf=!gd&&rh&&Fg?Bc:Eg.left,rh=gd?Hf(cg,Of,"after"):Lc),pa(Rg,Bg.top,xi-Rg,Bg.bottom),Bg.bottom<Eg.top&&pa(Bc,Bg.bottom,null,
Eg.top),pa(Mf,Eg.top,rh-Mf,Eg.bottom));if(!lg||0>lc(Bg,lg))lg=Bg;0>lc(Eg,lg)&&(lg=Eg);if(!ag||0>lc(Bg,ag))ag=Bg;0>lc(Eg,ag)&&(ag=Eg)});return{start:lg,end:ag}}var hb=n.display,yb=n.doc,Kb=document.createDocumentFragment(),ic=Ad(n.display),Bc=ic.left,Lc=Math.max(hb.sizerWidth,qf(n)-hb.sizer.offsetLeft)-ic.right,gd="ltr"==yb.direction;hb=Q.from();Q=Q.to();if(hb.line==Q.line)Oa(hb.line,hb.ch,Q.ch);else{var Dd=ma(yb,hb.line);ic=ma(yb,Q.line);ic=nd(Dd)==nd(ic);hb=Oa(hb.line,hb.ch,ic?Dd.text.length+1:null).end;
Q=Oa(Q.line,ic?0:null,Q.ch).start;ic&&(hb.top<Q.top-2?(pa(hb.right,hb.top,null,hb.bottom),pa(Bc,Q.top,Q.left,Q.bottom)):pa(hb.right,hb.top,Q.left-hb.right,hb.bottom));hb.bottom<Q.top&&pa(Bc,hb.bottom,null,Q.top)}ta.appendChild(Kb)}function Pc(n){if(n.state.focused){var Q=n.display;clearInterval(Q.blinker);var ta=!0;Q.cursorDiv.style.visibility="";0<n.options.cursorBlinkRate?Q.blinker=setInterval(function(){n.hasFocus()||cc(n);Q.cursorDiv.style.visibility=(ta=!ta)?"":"hidden"},n.options.cursorBlinkRate):
0>n.options.cursorBlinkRate&&(Q.cursorDiv.style.visibility="hidden")}}function $a(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||Nb(n))}function xb(n){n.state.delayingBlurEvent=!0;setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&cc(n))},100)}function Nb(n,Q){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1);"nocursor"!=n.options.readOnly&&(n.state.focused||(Z(n,"focus",n,Q),n.state.focused=!0,U(n.display.wrapper,
"CodeMirror-focused"),n.curOp||n.display.selForContextMenu==n.doc.sel||(n.display.input.reset(),vg&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),Pc(n))}function cc(n,Q){n.state.delayingBlurEvent||(n.state.focused&&(Z(n,"blur",n,Q),n.state.focused=!1,Ji(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function vc(n){for(var Q=n.display,ta=Q.lineDiv.offsetTop,
pa=Math.max(0,Q.scroller.getBoundingClientRect().top),Oa=Q.lineDiv.getBoundingClientRect().top,hb=0,yb=0;yb<Q.view.length;yb++){var Kb=Q.view[yb],ic=n.options.lineWrapping,Bc=0;if(!Kb.hidden){Oa+=Kb.line.height;if(Yg&&8>xg){ic=Kb.node.offsetTop+Kb.node.offsetHeight;var Lc=ic-ta;ta=ic}else{var gd=Kb.node.getBoundingClientRect();Lc=gd.bottom-gd.top;!ic&&Kb.text.firstChild&&(Bc=Kb.text.firstChild.getBoundingClientRect().right-gd.left-1)}ic=Kb.line.height-Lc;if(.005<ic||-.005>ic)if(Oa<pa&&(hb-=ic),Qa(Kb.line,
Lc),ed(Kb.line),Kb.rest)for(Lc=0;Lc<Kb.rest.length;Lc++)ed(Kb.rest[Lc]);Bc>n.display.sizerWidth&&(Bc=Math.ceil(Bc/Jf(n.display)),Bc>n.display.maxLineLength&&(n.display.maxLineLength=Bc,n.display.maxLine=Kb.line,n.display.maxLineChanged=!0))}}2<Math.abs(hb)&&(Q.scroller.scrollTop+=hb)}function ed(n){if(n.widgets)for(var Q=0;Q<n.widgets.length;++Q){var ta=n.widgets[Q],pa=ta.node.parentNode;pa&&(ta.height=pa.offsetHeight)}}function jb(n,Q,ta){var pa=ta&&null!=ta.top?Math.max(0,ta.top):n.scroller.scrollTop;
pa=Math.floor(pa-n.lineSpace.offsetTop);var Oa=ta&&null!=ta.bottom?ta.bottom:pa+n.wrapper.clientHeight;pa=kb(Q,pa);Oa=kb(Q,Oa);if(ta&&ta.ensure){var hb=ta.ensure.from.line;ta=ta.ensure.to.line;hb<pa?(pa=hb,Oa=kb(Q,te(ma(Q,hb))+n.wrapper.clientHeight)):Math.min(ta,Q.lastLine())>=Oa&&(pa=kb(Q,te(ma(Q,ta))-n.wrapper.clientHeight),Oa=ta)}return{from:pa,to:Math.max(Oa,pa+1)}}function Qb(n,Q){var ta=n.display,pa=jf(n.display);0>Q.top&&(Q.top=0);var Oa=n.curOp&&null!=n.curOp.scrollTop?n.curOp.scrollTop:
ta.scroller.scrollTop,hb=Ye(n),yb={};Q.bottom-Q.top>hb&&(Q.bottom=Q.top+hb);var Kb=n.doc.height+Je(ta),ic=Q.top<pa;pa=Q.bottom>Kb-pa;Q.top<Oa?yb.scrollTop=ic?0:Q.top:Q.bottom>Oa+hb&&(hb=Math.min(Q.top,(pa?Kb:Q.bottom)-hb),hb!=Oa&&(yb.scrollTop=hb));Oa=n.options.fixedGutter?0:ta.gutters.offsetWidth;hb=n.curOp&&null!=n.curOp.scrollLeft?n.curOp.scrollLeft:ta.scroller.scrollLeft-Oa;n=qf(n)-ta.gutters.offsetWidth;if(ta=Q.right-Q.left>n)Q.right=Q.left+n;10>Q.left?yb.scrollLeft=0:Q.left<hb?yb.scrollLeft=
Math.max(0,Q.left+Oa-(ta?0:10)):Q.right>n+hb-3&&(yb.scrollLeft=Q.right+(ta?0:10)-n);return yb}function pc(n,Q){null!=Q&&(vd(n),n.curOp.scrollTop=(null==n.curOp.scrollTop?n.doc.scrollTop:n.curOp.scrollTop)+Q)}function Qc(n){vd(n);var Q=n.getCursor();n.curOp.scrollToPos={from:Q,to:Q,margin:n.options.cursorScrollMargin}}function Cc(n,Q,ta){null==Q&&null==ta||vd(n);null!=Q&&(n.curOp.scrollLeft=Q);null!=ta&&(n.curOp.scrollTop=ta)}function vd(n){var Q=n.curOp.scrollToPos;if(Q){n.curOp.scrollToPos=null;
var ta=Na(n,Q.from),pa=Na(n,Q.to);Wd(n,ta,pa,Q.margin)}}function Wd(n,Q,ta,pa){Q=Qb(n,{left:Math.min(Q.left,ta.left),top:Math.min(Q.top,ta.top)-pa,right:Math.max(Q.right,ta.right),bottom:Math.max(Q.bottom,ta.bottom)+pa});Cc(n,Q.scrollLeft,Q.scrollTop)}function we(n,Q){2>Math.abs(n.doc.scrollTop-Q)||(Hh||Le(n,{top:Q}),ue(n,Q,!0),Hh&&Le(n),Mc(n,100))}function ue(n,Q,ta){Q=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,Q));if(n.display.scroller.scrollTop!=Q||ta)n.doc.scrollTop=
Q,n.display.scrollbars.setScrollTop(Q),n.display.scroller.scrollTop!=Q&&(n.display.scroller.scrollTop=Q)}function sd(n,Q,ta,pa){Q=Math.max(0,Math.min(Q,n.display.scroller.scrollWidth-n.display.scroller.clientWidth));(ta?Q==n.doc.scrollLeft:2>Math.abs(n.doc.scrollLeft-Q))&&!pa||(n.doc.scrollLeft=Q,kf(n),n.display.scroller.scrollLeft!=Q&&(n.display.scroller.scrollLeft=Q),n.display.scrollbars.setScrollLeft(Q))}function Fe(n){var Q=n.display,ta=Q.gutters.offsetWidth,pa=Math.round(n.doc.height+Je(n.display));
return{clientHeight:Q.scroller.clientHeight,viewHeight:Q.wrapper.clientHeight,scrollWidth:Q.scroller.scrollWidth,clientWidth:Q.scroller.clientWidth,viewWidth:Q.wrapper.clientWidth,barLeft:n.options.fixedGutter?ta:0,docHeight:pa,scrollHeight:pa+$e(n)+Q.barHeight,nativeBarWidth:Q.nativeBarWidth,gutterWidth:ta}}function Ge(n,Q){Q||(Q=Fe(n));var ta=n.display.barWidth,pa=n.display.barHeight;Me(n,Q);for(Q=0;4>Q&&ta!=n.display.barWidth||pa!=n.display.barHeight;Q++)ta!=n.display.barWidth&&n.options.lineWrapping&&
vc(n),Me(n,Fe(n)),ta=n.display.barWidth,pa=n.display.barHeight}function Me(n,Q){var ta=n.display,pa=ta.scrollbars.update(Q);ta.sizer.style.paddingRight=(ta.barWidth=pa.right)+"px";ta.sizer.style.paddingBottom=(ta.barHeight=pa.bottom)+"px";ta.heightForcer.style.borderBottom=pa.bottom+"px solid transparent";pa.right&&pa.bottom?(ta.scrollbarFiller.style.display="block",ta.scrollbarFiller.style.height=pa.bottom+"px",ta.scrollbarFiller.style.width=pa.right+"px"):ta.scrollbarFiller.style.display="";pa.bottom&&
n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(ta.gutterFiller.style.display="block",ta.gutterFiller.style.height=pa.bottom+"px",ta.gutterFiller.style.width=Q.gutterWidth+"px"):ta.gutterFiller.style.display=""}function rf(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&Ji(n.display.wrapper,n.display.scrollbars.addClass));n.display.scrollbars=new Mi[n.options.scrollbarStyle](function(Q){n.display.wrapper.insertBefore(Q,n.display.scrollbarFiller);
rg(Q,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)});Q.setAttribute("cm-not-content","true")},function(Q,ta){"horizontal"==ta?sd(n,Q):we(n,Q)},n);n.display.scrollbars.addClass&&U(n.display.wrapper,n.display.scrollbars.addClass)}function Ma(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,
scrollTop:null,scrollToPos:null,focus:!1,id:++Kk,markArrays:null};n=n.curOp;Hj?Hj.ops.push(n):n.ownsGroup=Hj={ops:[n],delayedCallbacks:[]}}function lb(n){(n=n.curOp)&&uc(n,function(Q){for(var ta=0;ta<Q.ops.length;ta++)Q.ops[ta].cm.curOp=null;Q=Q.ops;for(ta=0;ta<Q.length;ta++){var pa=Q[ta],Oa=pa.cm,hb=Oa.display,yb=Oa.display;!yb.scrollbarsClipped&&yb.scroller.offsetWidth&&(yb.nativeBarWidth=yb.scroller.offsetWidth-yb.scroller.clientWidth,yb.heightForcer.style.height=$e(Oa)+"px",yb.sizer.style.marginBottom=
-yb.nativeBarWidth+"px",yb.sizer.style.borderRightWidth=$e(Oa)+"px",yb.scrollbarsClipped=!0);pa.updateMaxLine&&$b(Oa);pa.mustUpdate=pa.viewChanged||pa.forceUpdate||null!=pa.scrollTop||pa.scrollToPos&&(pa.scrollToPos.from.line<hb.viewFrom||pa.scrollToPos.to.line>=hb.viewTo)||hb.maxLineChanged&&Oa.options.lineWrapping;pa.update=pa.mustUpdate&&new xj(Oa,pa.mustUpdate&&{top:pa.scrollTop,ensure:pa.scrollToPos},pa.forceUpdate)}for(ta=0;ta<Q.length;ta++)pa=Q[ta],pa.updatedDisplay=pa.mustUpdate&&yd(pa.cm,
pa.update);for(ta=0;ta<Q.length;ta++)if(pa=Q[ta],Oa=pa.cm,hb=Oa.display,pa.updatedDisplay&&vc(Oa),pa.barMeasure=Fe(Oa),hb.maxLineChanged&&!Oa.options.lineWrapping&&(yb=hb.maxLine.text.length,yb=If(Oa,oe(Oa,hb.maxLine),yb,void 0),pa.adjustWidthTo=yb.left+3,Oa.display.sizerWidth=pa.adjustWidthTo,pa.barMeasure.scrollWidth=Math.max(hb.scroller.clientWidth,hb.sizer.offsetLeft+pa.adjustWidthTo+$e(Oa)+Oa.display.barWidth),pa.maxScrollLeft=Math.max(0,hb.sizer.offsetLeft+pa.adjustWidthTo-qf(Oa))),pa.updatedDisplay||
pa.selectionChanged)pa.preparedSelection=hb.input.prepareSelection();for(ta=0;ta<Q.length;ta++)pa=Q[ta],Oa=pa.cm,null!=pa.adjustWidthTo&&(Oa.display.sizer.style.minWidth=pa.adjustWidthTo+"px",pa.maxScrollLeft<Oa.doc.scrollLeft&&sd(Oa,Math.min(Oa.display.scroller.scrollLeft,pa.maxScrollLeft),!0),Oa.display.maxLineChanged=!1),hb=pa.focus&&pa.focus==D(),pa.preparedSelection&&Oa.display.input.showSelection(pa.preparedSelection,hb),(pa.updatedDisplay||pa.startHeight!=Oa.doc.height)&&Ge(Oa,pa.barMeasure),
pa.updatedDisplay&&Ed(Oa,pa.barMeasure),pa.selectionChanged&&Pc(Oa),Oa.state.focused&&pa.updateInput&&Oa.display.input.reset(pa.typing),hb&&$a(pa.cm);for(ta=0;ta<Q.length;ta++){var Kb=void 0;pa=Q[ta];Oa=pa.cm;hb=Oa.display;yb=Oa.doc;pa.updatedDisplay&&ne(Oa,pa.update);null==hb.wheelStartX||null==pa.scrollTop&&null==pa.scrollLeft&&!pa.scrollToPos||(hb.wheelStartX=hb.wheelStartY=null);null!=pa.scrollTop&&ue(Oa,pa.scrollTop,pa.forceScroll);null!=pa.scrollLeft&&sd(Oa,pa.scrollLeft,!0,!0);if(pa.scrollToPos){var ic=
bb(yb,pa.scrollToPos.from);var Bc=bb(yb,pa.scrollToPos.to);var Lc=pa.scrollToPos.margin;null==Lc&&(Lc=0);Oa.options.lineWrapping||ic!=Bc||(Bc="before"==ic.sticky?Gb(ic.line,ic.ch+1,"before"):ic,ic=ic.ch?Gb(ic.line,"before"==ic.sticky?ic.ch-1:ic.ch,"after"):ic);for(var gd=0;5>gd;gd++){var Dd=!1;Kb=m(Oa,ic);var Jd=Bc&&Bc!=ic?m(Oa,Bc):Kb;Kb={left:Math.min(Kb.left,Jd.left),top:Math.min(Kb.top,Jd.top)-Lc,right:Math.max(Kb.left,Jd.left),bottom:Math.max(Kb.bottom,Jd.bottom)+Lc};Jd=Qb(Oa,Kb);var se=Oa.doc.scrollTop,
cf=Oa.doc.scrollLeft;null!=Jd.scrollTop&&(we(Oa,Jd.scrollTop),1<Math.abs(Oa.doc.scrollTop-se)&&(Dd=!0));null!=Jd.scrollLeft&&(sd(Oa,Jd.scrollLeft),1<Math.abs(Oa.doc.scrollLeft-cf)&&(Dd=!0));if(!Dd)break}Bc=Kb;E(Oa,"scrollCursorIntoView")||(Lc=Oa.display,gd=Lc.sizer.getBoundingClientRect(),ic=null,0>Bc.top+gd.top?ic=!0:Bc.bottom+gd.top>(window.innerHeight||document.documentElement.clientHeight)&&(ic=!1),null==ic||kk||(Bc=l("div","​",null,"position: absolute;\n                         top: "+(Bc.top-
Lc.viewOffset-Oa.display.lineSpace.offsetTop)+"px;\n                         height: "+(Bc.bottom-Bc.top+$e(Oa)+Lc.barHeight)+"px;\n                         left: "+Bc.left+"px; width: "+Math.max(2,Bc.right-Bc.left)+"px;"),Oa.display.lineSpace.appendChild(Bc),Bc.scrollIntoView(ic),Oa.display.lineSpace.removeChild(Bc)))}Bc=pa.maybeHiddenMarkers;ic=pa.maybeUnhiddenMarkers;if(Bc)for(Lc=0;Lc<Bc.length;++Lc)Bc[Lc].lines.length||Z(Bc[Lc],"hide");if(ic)for(Bc=0;Bc<ic.length;++Bc)ic[Bc].lines.length&&Z(ic[Bc],
"unhide");hb.wrapper.offsetHeight&&(yb.scrollTop=Oa.display.scroller.scrollTop);pa.changeObjs&&Z(Oa,"changes",Oa,pa.changeObjs);pa.update&&pa.update.finish()}})}function vb(n,Q){if(n.curOp)return Q();Ma(n);try{return Q()}finally{lb(n)}}function nb(n,Q){return function(){if(n.curOp)return Q.apply(n,arguments);Ma(n);try{return Q.apply(n,arguments)}finally{lb(n)}}}function ac(n){return function(){if(this.curOp)return n.apply(this,arguments);Ma(this);try{return n.apply(this,arguments)}finally{lb(this)}}}
function yc(n){return function(){var Q=this.cm;if(!Q||Q.curOp)return n.apply(this,arguments);Ma(Q);try{return n.apply(this,arguments)}finally{lb(Q)}}}function Mc(n,Q){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(Q,X(md,n))}function md(n){var Q=n.doc;if(!(Q.highlightFrontier>=n.display.viewTo)){var ta=+new Date+n.options.workTime,pa=Jb(n,Q.highlightFrontier),Oa=[];Q.iter(pa.line,Math.min(Q.first+Q.size,n.display.viewTo+500),function(hb){if(pa.line>=n.display.viewFrom){var yb=hb.styles,
Kb=hb.text.length>n.options.maxHighlightLength?La(Q.mode,pa.state):null,ic=zb(n,hb,pa,!0);Kb&&(pa.state=Kb);hb.styles=ic.styles;Kb=hb.styleClasses;(ic=ic.classes)?hb.styleClasses=ic:Kb&&(hb.styleClasses=null);ic=!yb||yb.length!=hb.styles.length||Kb!=ic&&(!Kb||!ic||Kb.bgClass!=ic.bgClass||Kb.textClass!=ic.textClass);for(Kb=0;!ic&&Kb<yb.length;++Kb)ic=yb[Kb]!=hb.styles[Kb];ic&&Oa.push(pa.line);hb.stateAfter=pa.save()}else hb.text.length<=n.options.maxHighlightLength&&Eb(n,hb.text,pa),hb.stateAfter=
0==pa.line%5?pa.save():null;pa.nextLine();if(+new Date>ta)return Mc(n,n.options.workDelay),!0});Q.highlightFrontier=pa.line;Q.modeFrontier=Math.max(Q.modeFrontier,pa.line);Oa.length&&vb(n,function(){for(var hb=0;hb<Oa.length;hb++)he(n,Oa[hb],"text")})}}function yd(n,Q){var ta=n.display,pa=n.doc;if(Q.editorIsHidden)return Ue(n),!1;if(!Q.force&&Q.visible.from>=ta.viewFrom&&Q.visible.to<=ta.viewTo&&(null==ta.updateLineNumbers||ta.updateLineNumbers>=ta.viewTo)&&ta.renderedView==ta.view&&0==Ig(n))return!1;
og(n)&&(Ue(n),Q.dims=Xf(n));var Oa=pa.first+pa.size,hb=Math.max(Q.visible.from-n.options.viewportMargin,pa.first),yb=Math.min(Oa,Q.visible.to+n.options.viewportMargin);ta.viewFrom<hb&&20>hb-ta.viewFrom&&(hb=Math.max(pa.first,ta.viewFrom));ta.viewTo>yb&&20>ta.viewTo-yb&&(yb=Math.min(Oa,ta.viewTo));ji&&(hb=Dc(n.doc,hb),yb=jd(n.doc,yb));pa=hb!=ta.viewFrom||yb!=ta.viewTo||ta.lastWrapHeight!=Q.wrapperHeight||ta.lastWrapWidth!=Q.wrapperWidth;Oa=n.display;0==Oa.view.length||hb>=Oa.viewTo||yb<=Oa.viewFrom?
(Oa.view=Be(n,hb,yb),Oa.viewFrom=hb):(Oa.viewFrom>hb?Oa.view=Be(n,hb,Oa.viewFrom).concat(Oa.view):Oa.viewFrom<hb&&(Oa.view=Oa.view.slice(be(n,hb))),Oa.viewFrom=hb,Oa.viewTo<yb?Oa.view=Oa.view.concat(Be(n,Oa.viewTo,yb)):Oa.viewTo>yb&&(Oa.view=Oa.view.slice(0,be(n,yb))));Oa.viewTo=yb;ta.viewOffset=te(ma(n.doc,ta.viewFrom));n.display.mover.style.top=ta.viewOffset+"px";yb=Ig(n);if(!pa&&0==yb&&!Q.force&&ta.renderedView==ta.view&&(null==ta.updateLineNumbers||ta.updateLineNumbers>=ta.viewTo))return!1;n.hasFocus()?
hb=null:(hb=D())&&q(n.display.lineDiv,hb)?(hb={activeElt:hb},window.getSelection&&(Oa=window.getSelection(),Oa.anchorNode&&Oa.extend&&q(n.display.lineDiv,Oa.anchorNode)&&(hb.anchorNode=Oa.anchorNode,hb.anchorOffset=Oa.anchorOffset,hb.focusNode=Oa.focusNode,hb.focusOffset=Oa.focusOffset))):hb=null;4<yb&&(ta.lineDiv.style.display="none");Qe(n,ta.updateLineNumbers,Q.dims);4<yb&&(ta.lineDiv.style.display="");ta.renderedView=ta.view;(yb=hb)&&yb.activeElt&&yb.activeElt!=D()&&(yb.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(yb.activeElt.nodeName)&&
yb.anchorNode&&q(document.body,yb.anchorNode)&&q(document.body,yb.focusNode)&&(hb=window.getSelection(),Oa=document.createRange(),Oa.setEnd(yb.anchorNode,yb.anchorOffset),Oa.collapse(!1),hb.removeAllRanges(),hb.addRange(Oa),hb.extend(yb.focusNode,yb.focusOffset)));f(ta.cursorDiv);f(ta.selectionDiv);ta.gutters.style.height=ta.sizer.style.minHeight=0;pa&&(ta.lastWrapHeight=Q.wrapperHeight,ta.lastWrapWidth=Q.wrapperWidth,Mc(n,400));ta.updateLineNumbers=null;return!0}function ne(n,Q){for(var ta=Q.viewport,
pa=!0;;pa=!1){if(pa&&n.options.lineWrapping&&Q.oldDisplayWidth!=qf(n))pa&&(Q.visible=jb(n.display,n.doc,ta));else if(ta&&null!=ta.top&&(ta={top:Math.min(n.doc.height+Je(n.display)-Ye(n),ta.top)}),Q.visible=jb(n.display,n.doc,ta),Q.visible.from>=n.display.viewFrom&&Q.visible.to<=n.display.viewTo)break;if(!yd(n,Q))break;vc(n);pa=Fe(n);Ya(n);Ge(n,pa);Ed(n,pa);Q.force=!1}Q.signal(n,"update",n);if(n.display.viewFrom!=n.display.reportedViewFrom||n.display.viewTo!=n.display.reportedViewTo)Q.signal(n,"viewportChange",
n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo}function Le(n,Q){Q=new xj(n,Q);if(yd(n,Q)){vc(n);ne(n,Q);var ta=Fe(n);Ya(n);Ge(n,ta);Ed(n,ta);Q.finish()}}function Qe(n,Q,ta){function pa(Dd){var Jd=Dd.nextSibling;vg&&Ch&&n.display.currentWheelTarget==Dd?Dd.style.display="none":Dd.parentNode.removeChild(Dd);return Jd}var Oa=n.display,hb=n.options.lineNumbers,yb=Oa.lineDiv,Kb=yb.firstChild,ic=Oa.view;Oa=Oa.viewFrom;for(var Bc=
0;Bc<ic.length;Bc++){var Lc=ic[Bc];if(!Lc.hidden)if(Lc.node&&Lc.node.parentNode==yb){for(;Kb!=Lc.node;)Kb=pa(Kb);Kb=hb&&null!=Q&&Q<=Oa&&Lc.lineNumber;Lc.changes&&(-1<F(Lc.changes,"gutter")&&(Kb=!1),Od(n,Lc,Oa,ta));Kb&&(f(Lc.lineNumber),Lc.lineNumber.appendChild(document.createTextNode(Mb(n.options,Oa))));Kb=Lc.node.nextSibling}else{var gd=hd(n,Lc,Oa,ta);yb.insertBefore(gd,Kb)}Oa+=Lc.size}for(;Kb;)Kb=pa(Kb)}function Xe(n){n.sizer.style.marginLeft=n.gutters.offsetWidth+"px";Oc(n,"gutterChanged",n)}
function Ed(n,Q){n.display.sizer.style.minHeight=Q.docHeight+"px";n.display.heightForcer.style.top=Q.docHeight+"px";n.display.gutters.style.height=Q.docHeight+n.display.barHeight+$e(n)+"px"}function kf(n){var Q=n.display,ta=Q.view;if(Q.alignWidgets||Q.gutters.firstChild&&n.options.fixedGutter){for(var pa=Pg(Q)-Q.scroller.scrollLeft+n.doc.scrollLeft,Oa=Q.gutters.offsetWidth,hb=pa+"px",yb=0;yb<ta.length;yb++)if(!ta[yb].hidden){n.options.fixedGutter&&(ta[yb].gutter&&(ta[yb].gutter.style.left=hb),ta[yb].gutterBackground&&
(ta[yb].gutterBackground.style.left=hb));var Kb=ta[yb].alignable;if(Kb)for(var ic=0;ic<Kb.length;ic++)Kb[ic].style.left=hb}n.options.fixedGutter&&(Q.gutters.style.left=pa+Oa+"px")}}function og(n){if(!n.options.lineNumbers)return!1;var Q=n.doc;Q=Mb(n.options,Q.first+Q.size-1);var ta=n.display;if(Q.length!=ta.lineNumChars){var pa=ta.measure.appendChild(l("div",[l("div",Q)],"CodeMirror-linenumber CodeMirror-gutter-elt")),Oa=pa.firstChild.offsetWidth;pa=pa.offsetWidth-Oa;ta.lineGutter.style.width="";
ta.lineNumInnerWidth=Math.max(Oa,ta.lineGutter.offsetWidth-pa)+1;ta.lineNumWidth=ta.lineNumInnerWidth+pa;ta.lineNumChars=ta.lineNumInnerWidth?Q.length:-1;ta.lineGutter.style.width=ta.lineNumWidth+"px";Xe(n.display);return!0}return!1}function kg(n,Q){for(var ta=[],pa=!1,Oa=0;Oa<n.length;Oa++){var hb=n[Oa],yb=null;"string"!=typeof hb&&(yb=hb.style,hb=hb.className);if("CodeMirror-linenumbers"==hb)if(Q)pa=!0;else continue;ta.push({className:hb,style:yb})}Q&&!pa&&ta.push({className:"CodeMirror-linenumbers",
style:null});return ta}function Uf(n){var Q=n.gutters,ta=n.gutterSpecs;f(Q);n.lineGutter=null;for(var pa=0;pa<ta.length;++pa){var Oa=ta[pa],hb=Oa.className;Oa=Oa.style;var yb=Q.appendChild(l("div",null,"CodeMirror-gutter "+hb));Oa&&(yb.style.cssText=Oa);"CodeMirror-linenumbers"==hb&&(n.lineGutter=yb,yb.style.width=(n.lineNumWidth||1)+"px")}Q.style.display=ta.length?"":"none";Xe(n)}function dg(n){Uf(n.display);Kf(n);kf(n)}function tg(n,Q,ta,pa){this.input=ta;this.scrollbarFiller=l("div",null,"CodeMirror-scrollbar-filler");
this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=l("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=u("div",null,"CodeMirror-code");this.selectionDiv=l("div",null,null,"position: relative; z-index: 1");this.cursorDiv=l("div",null,"CodeMirror-cursors");this.measure=l("div",null,"CodeMirror-measure");this.lineMeasure=l("div",null,"CodeMirror-measure");this.lineSpace=u("div",[this.measure,this.lineMeasure,this.selectionDiv,
this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var Oa=u("div",[this.lineSpace],"CodeMirror-lines");this.mover=l("div",[Oa],null,"position: relative");this.sizer=l("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=l("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=l("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=l("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex",
"-1");this.wrapper=l("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");this.wrapper.setAttribute("translate","no");Yg&&8>xg&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);vg||Hh&&Cj||(this.scroller.draggable=!0);n&&(n.appendChild?n.appendChild(this.wrapper):n(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=Q.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=
0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=kg(pa.gutters,pa.lineNumbers);Uf(this);ta.init(this)}
function fh(n){var Q=n.wheelDeltaX,ta=n.wheelDeltaY;null==Q&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(Q=n.detail);null==ta&&n.detail&&n.axis==n.VERTICAL_AXIS?ta=n.detail:null==ta&&(ta=n.wheelDelta);return{x:Q,y:ta}}function sb(n){n=fh(n);n.x*=Ni;n.y*=Ni;return n}function tb(n,Q){var ta=fh(Q),pa=ta.x;ta=ta.y;var Oa=Ni;0===Q.deltaMode&&(pa=Q.deltaX,ta=Q.deltaY,Oa=1);var hb=n.display,yb=hb.scroller,Kb=yb.scrollWidth>yb.clientWidth,ic=yb.scrollHeight>yb.clientHeight;if(pa&&Kb||ta&&ic){if(ta&&Ch&&vg){Kb=
Q.target;var Bc=hb.view;a:for(;Kb!=yb;Kb=Kb.parentNode)for(var Lc=0;Lc<Bc.length;Lc++)if(Bc[Lc].node==Kb){n.display.currentWheelTarget=Kb;break a}}!pa||Hh||ei||null==Oa?(ta&&null!=Oa&&(Oa*=ta,ic=n.doc.scrollTop,Kb=ic+hb.wrapper.clientHeight,0>Oa?ic=Math.max(0,ic+Oa-50):Kb=Math.min(n.doc.height,Kb+Oa+50),Le(n,{top:ic,bottom:Kb})),20>Rh&&0!==Q.deltaMode&&(null==hb.wheelStartX?(hb.wheelStartX=yb.scrollLeft,hb.wheelStartY=yb.scrollTop,hb.wheelDX=pa,hb.wheelDY=ta,setTimeout(function(){if(null!=hb.wheelStartX){var gd=
yb.scrollLeft-hb.wheelStartX,Dd=yb.scrollTop-hb.wheelStartY;gd=Dd&&hb.wheelDY&&Dd/hb.wheelDY||gd&&hb.wheelDX&&gd/hb.wheelDX;hb.wheelStartX=hb.wheelStartY=null;gd&&(Ni=(Ni*Rh+gd)/(Rh+1),++Rh)}},200)):(hb.wheelDX+=pa,hb.wheelDY+=ta))):(ta&&ic&&we(n,Math.max(0,yb.scrollTop+ta*Oa)),sd(n,Math.max(0,yb.scrollLeft+pa*Oa)),(!ta||ta&&ic)&&ja(Q),hb.wheelStartX=null)}}function Lb(n,Q,ta){n=n&&n.options.selectionsMayTouch;ta=Q[ta];Q.sort(function(ic,Bc){return Wb(ic.from(),Bc.from())});ta=F(Q,ta);for(var pa=
1;pa<Q.length;pa++){var Oa=Q[pa],hb=Q[pa-1],yb=Wb(hb.to(),Oa.from());if(n&&!Oa.empty()?0<yb:0<=yb){yb=Ia(hb.from(),Oa.from());var Kb=xa(hb.to(),Oa.to());Oa=hb.empty()?Oa.from()==Oa.head:hb.from()==hb.head;pa<=ta&&--ta;Q.splice(--pa,2,new Wf(Oa?Kb:yb,Oa?yb:Kb))}}return new vi(Q,ta)}function Vb(n,Q){return new vi([new Wf(n,Q||n)],0)}function hc(n){return n.text?Gb(n.from.line+n.text.length-1,x(n.text).length+(1==n.text.length?n.from.ch:0)):n.to}function dc(n,Q){if(0>Wb(n,Q.from))return n;if(0>=Wb(n,
Q.to))return hc(Q);var ta=n.line+Q.text.length-(Q.to.line-Q.from.line)-1,pa=n.ch;n.line==Q.to.line&&(pa+=hc(Q).ch-Q.to.ch);return Gb(ta,pa)}function Fc(n,Q){for(var ta=[],pa=0;pa<n.sel.ranges.length;pa++){var Oa=n.sel.ranges[pa];ta.push(new Wf(dc(Oa.anchor,Q),dc(Oa.head,Q)))}return Lb(n.cm,ta,n.sel.primIndex)}function Yc(n,Q,ta){return n.line==Q.line?Gb(ta.line,n.ch-Q.ch+ta.ch):Gb(ta.line+(n.line-Q.line),n.ch)}function Nc(n){n.doc.mode=eb(n.options,n.doc.modeOption);fd(n)}function fd(n){n.doc.iter(function(Q){Q.stateAfter&&
(Q.stateAfter=null);Q.styles&&(Q.styles=null)});n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first;Mc(n,100);n.state.modeGen++;n.curOp&&Kf(n)}function mc(n,Q){return 0==Q.from.ch&&0==Q.to.ch&&""==x(Q.text)&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function wd(n,Q,ta,pa){function Oa(se,cf,lf){se.text=cf;se.stateAfter&&(se.stateAfter=null);se.styles&&(se.styles=null);null!=se.order&&(se.order=null);Bd(se);Ld(se,lf);cf=pa?pa(se):1;cf!=se.height&&Qa(se,cf);Oc(se,"change",se,Q)}function hb(se,cf){for(var lf=
[];se<cf;++se)lf.push(new ek(ic[se],ta?ta[se]:null,pa));return lf}var yb=Q.from,Kb=Q.to,ic=Q.text,Bc=ma(n,yb.line),Lc=ma(n,Kb.line),gd=x(ic),Dd=ta?ta[ic.length-1]:null,Jd=Kb.line-yb.line;Q.full?(n.insert(0,hb(0,ic.length)),n.remove(ic.length,n.size-ic.length)):mc(n,Q)?(Kb=hb(0,ic.length-1),Oa(Lc,Lc.text,Dd),Jd&&n.remove(yb.line,Jd),Kb.length&&n.insert(yb.line,Kb)):Bc==Lc?1==ic.length?Oa(Bc,Bc.text.slice(0,yb.ch)+gd+Bc.text.slice(Kb.ch),Dd):(Jd=hb(1,ic.length-1),Jd.push(new ek(gd+Bc.text.slice(Kb.ch),
Dd,pa)),Oa(Bc,Bc.text.slice(0,yb.ch)+ic[0],ta?ta[0]:null),n.insert(yb.line+1,Jd)):1==ic.length?(Oa(Bc,Bc.text.slice(0,yb.ch)+ic[0]+Lc.text.slice(Kb.ch),ta?ta[0]:null),n.remove(yb.line+1,Jd)):(Oa(Bc,Bc.text.slice(0,yb.ch)+ic[0],ta?ta[0]:null),Oa(Lc,gd+Lc.text.slice(Kb.ch),Dd),Dd=hb(1,ic.length-1),1<Jd&&n.remove(yb.line+1,Jd-1),n.insert(yb.line+1,Dd));Oc(n,"change",n,Q)}function Xd(n,Q,ta){function pa(Oa,hb,yb){if(Oa.linked)for(var Kb=0;Kb<Oa.linked.length;++Kb){var ic=Oa.linked[Kb];if(ic.doc!=hb){var Bc=
yb&&ic.sharedHist;if(!ta||Bc)Q(ic.doc,Bc),pa(ic.doc,Oa,Bc)}}}pa(n,null,!0)}function ce(n,Q){if(Q.cm)throw Error("This document is already in use.");n.doc=Q;Q.cm=n;Zg(n);Nc(n);De(n);n.options.direction=Q.direction;n.options.lineWrapping||$b(n);n.options.mode=Q.modeOption;Kf(n)}function De(n){("rtl"==n.doc.direction?U:Ji)(n.display.lineDiv,"CodeMirror-rtl")}function Ua(n){vb(n,function(){De(n);Kf(n)})}function pb(n){this.done=[];this.undone=[];this.undoDepth=n?n.undoDepth:Infinity;this.lastModTime=
this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=n?n.maxGeneration:1}function Rb(n,Q){var ta={from:ra(Q.from),to:hc(Q),text:Aa(n,Q.from,Q.to)};Fd(n,ta,Q.from.line,Q.to.line+1);Xd(n,function(pa){return Fd(pa,ta,Q.from.line,Q.to.line+1)},!0);return ta}function ec(n){for(;n.length;)if(x(n).ranges)n.pop();else break}function Sc(n,Q,ta,pa){var Oa=n.history;Oa.undone.length=0;var hb=+new Date,yb;if(yb=Oa.lastOp==pa||Oa.lastOrigin==
Q.origin&&Q.origin&&("+"==Q.origin.charAt(0)&&Oa.lastModTime>hb-(n.cm?n.cm.options.historyEventDelay:500)||"*"==Q.origin.charAt(0))){if(Oa.lastOp==pa){ec(Oa.done);var Kb=x(Oa.done)}else Oa.done.length&&!x(Oa.done).ranges?Kb=x(Oa.done):1<Oa.done.length&&!Oa.done[Oa.done.length-2].ranges?(Oa.done.pop(),Kb=x(Oa.done)):Kb=void 0;yb=Kb}if(yb){var ic=x(Kb.changes);0==Wb(Q.from,Q.to)&&0==Wb(Q.from,ic.to)?ic.to=hc(Q):Kb.changes.push(Rb(n,Q))}else for((Kb=x(Oa.done))&&Kb.ranges||kd(n.sel,Oa.done),Kb={changes:[Rb(n,
Q)],generation:Oa.generation},Oa.done.push(Kb);Oa.done.length>Oa.undoDepth;)Oa.done.shift(),Oa.done[0].ranges||Oa.done.shift();Oa.done.push(ta);Oa.generation=++Oa.maxGeneration;Oa.lastModTime=Oa.lastSelTime=hb;Oa.lastOp=Oa.lastSelOp=pa;Oa.lastOrigin=Oa.lastSelOrigin=Q.origin;ic||Z(n,"historyAdded")}function kd(n,Q){var ta=x(Q);ta&&ta.ranges&&ta.equals(n)||Q.push(n)}function Fd(n,Q,ta,pa){var Oa=Q["spans_"+n.id],hb=0;n.iter(Math.max(n.first,ta),Math.min(n.first+n.size,pa),function(yb){yb.markedSpans&&
((Oa||(Oa=Q["spans_"+n.id]={}))[hb]=yb.markedSpans);++hb})}function Yd(n,Q){var ta;if(ta=Q["spans_"+n.id]){for(var pa=[],Oa=0;Oa<Q.text.length;++Oa){var hb=pa,yb=hb.push;var Kb=void 0;var ic=ta[Oa];if(ic){for(var Bc=0;Bc<ic.length;++Bc)ic[Bc].marker.explicitlyCleared?Kb||(Kb=ic.slice(0,Bc)):Kb&&Kb.push(ic[Bc]);Kb=Kb?Kb.length?Kb:null:ic}else Kb=null;yb.call(hb,Kb)}ta=pa}else ta=null;n=ze(n,Q);if(!ta)return n;if(!n)return ta;for(Q=0;Q<ta.length;++Q)if(pa=ta[Q],Oa=n[Q],pa&&Oa)a:for(hb=0;hb<Oa.length;++hb){yb=
Oa[hb];for(Kb=0;Kb<pa.length;++Kb)if(pa[Kb].marker==yb.marker)continue a;pa.push(yb)}else Oa&&(ta[Q]=Oa);return ta}function je(n,Q,ta){for(var pa=[],Oa=0;Oa<n.length;++Oa){var hb=n[Oa];if(hb.ranges)pa.push(ta?vi.prototype.deepCopy.call(hb):hb);else{hb=hb.changes;var yb=[];pa.push({changes:yb});for(var Kb=0;Kb<hb.length;++Kb){var ic=hb[Kb],Bc;yb.push({from:ic.from,to:ic.to,text:ic.text});if(Q)for(var Lc in ic)(Bc=Lc.match(/^spans_(\d+)$/))&&-1<F(Q,Number(Bc[1]))&&(x(yb)[Lc]=ic[Lc],delete ic[Lc])}}}return pa}
function re(n,Q,ta,pa){return pa?(n=n.anchor,ta&&(pa=0>Wb(Q,n),pa!=0>Wb(ta,n)?(n=Q,Q=ta):pa!=0>Wb(Q,ta)&&(Q=ta)),new Wf(n,Q)):new Wf(ta||Q,Q)}function xe(n,Q,ta,pa,Oa){null==Oa&&(Oa=n.cm&&(n.cm.display.shift||n.extend));id(n,new vi([re(n.sel.primary(),Q,ta,Oa)],0),pa)}function Af(n,Q,ta){for(var pa=[],Oa=n.cm&&(n.cm.display.shift||n.extend),hb=0;hb<n.sel.ranges.length;hb++)pa[hb]=re(n.sel.ranges[hb],Q[hb],null,Oa);Q=Lb(n.cm,pa,n.sel.primIndex);id(n,Q,ta)}function Qf(n,Q,ta,pa){var Oa=n.sel.ranges.slice(0);
Oa[Q]=ta;id(n,Lb(n.cm,Oa,n.sel.primIndex),pa)}function Hc(n,Q,ta){ta={ranges:Q.ranges,update:function(pa){this.ranges=[];for(var Oa=0;Oa<pa.length;Oa++)this.ranges[Oa]=new Wf(bb(n,pa[Oa].anchor),bb(n,pa[Oa].head))},origin:ta&&ta.origin};Z(n,"beforeSelectionChange",n,ta);n.cm&&Z(n.cm,"beforeSelectionChange",n.cm,ta);return ta.ranges!=Q.ranges?Lb(n.cm,ta.ranges,ta.ranges.length-1):Q}function td(n,Q,ta){var pa=n.history.done,Oa=x(pa);Oa&&Oa.ranges?(pa[pa.length-1]=Q,ke(n,Q,ta)):id(n,Q,ta)}function id(n,
Q,ta){ke(n,Q,ta);Q=n.sel;var pa=n.cm?n.cm.curOp.id:NaN,Oa=n.history,hb=ta&&ta.origin,yb;if(!(yb=pa==Oa.lastSelOp)&&(yb=hb&&Oa.lastSelOrigin==hb)&&!(yb=Oa.lastModTime==Oa.lastSelTime&&Oa.lastOrigin==hb)){yb=x(Oa.done);var Kb=hb.charAt(0);yb="*"==Kb||"+"==Kb&&yb.ranges.length==Q.ranges.length&&yb.somethingSelected()==Q.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}yb?Oa.done[Oa.done.length-1]=Q:kd(Q,Oa.done);Oa.lastSelTime=+new Date;Oa.lastSelOrigin=
hb;Oa.lastSelOp=pa;ta&&!1!==ta.clearRedo&&ec(Oa.undone)}function ke(n,Q,ta){if(W(n,"beforeSelectionChange")||n.cm&&W(n.cm,"beforeSelectionChange"))Q=Hc(n,Q,ta);var pa=ta&&ta.bias||(0>Wb(Q.primary().head,n.sel.primary().head)?-1:1);Ob(n,Ac(n,Q,pa,!0));ta&&!1===ta.scroll||!n.cm||"nocursor"==n.cm.getOption("readOnly")||Qc(n.cm)}function Ob(n,Q){Q.equals(n.sel)||(n.sel=Q,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,C(n.cm)),Oc(n,"cursorActivity",n))}function gc(n){Ob(n,Ac(n,n.sel,null,
!1))}function Ac(n,Q,ta,pa){for(var Oa,hb=0;hb<Q.ranges.length;hb++){var yb=Q.ranges[hb],Kb=Q.ranges.length==n.sel.ranges.length&&n.sel.ranges[hb],ic=y(n,yb.anchor,Kb&&Kb.anchor,ta,pa);Kb=y(n,yb.head,Kb&&Kb.head,ta,pa);if(Oa||ic!=yb.anchor||Kb!=yb.head)Oa||(Oa=Q.ranges.slice(0,hb)),Oa[hb]=new Wf(ic,Kb)}return Oa?Lb(n.cm,Oa,Q.primIndex):Q}function Uc(n,Q,ta,pa,Oa){var hb=ma(n,Q.line);if(hb.markedSpans)for(var yb=0;yb<hb.markedSpans.length;++yb){var Kb=hb.markedSpans[yb],ic=Kb.marker,Bc="selectLeft"in
ic?!ic.selectLeft:ic.inclusiveLeft,Lc="selectRight"in ic?!ic.selectRight:ic.inclusiveRight;if((null==Kb.from||(Bc?Kb.from<=Q.ch:Kb.from<Q.ch))&&(null==Kb.to||(Lc?Kb.to>=Q.ch:Kb.to>Q.ch))){if(Oa&&(Z(ic,"beforeCursorEnter"),ic.explicitlyCleared))if(hb.markedSpans){--yb;continue}else break;if(ic.atomic){if(ta){yb=ic.find(0>pa?1:-1);Kb=void 0;if(0>pa?Lc:Bc)yb=wa(n,yb,-pa,yb&&yb.line==Q.line?hb:null);if(yb&&yb.line==Q.line&&(Kb=Wb(yb,ta))&&(0>pa?0>Kb:0<Kb))return Uc(n,yb,Q,pa,Oa)}ta=ic.find(0>pa?-1:1);
if(0>pa?Bc:Lc)ta=wa(n,ta,pa,ta.line==Q.line?hb:null);return ta?Uc(n,ta,Q,pa,Oa):null}}}return Q}function y(n,Q,ta,pa,Oa){pa=pa||1;Q=Uc(n,Q,ta,pa,Oa)||!Oa&&Uc(n,Q,ta,pa,!0)||Uc(n,Q,ta,-pa,Oa)||!Oa&&Uc(n,Q,ta,-pa,!0);return Q?Q:(n.cantEdit=!0,Gb(n.first,0))}function wa(n,Q,ta,pa){return 0>ta&&0==Q.ch?Q.line>n.first?bb(n,Gb(Q.line-1)):null:0<ta&&Q.ch==(pa||ma(n,Q.line)).text.length?Q.line<n.first+n.size-1?Gb(Q.line+1,0):null:new Gb(Q.line,Q.ch+ta)}function fb(n){n.setSelection(Gb(n.firstLine(),0),Gb(n.lastLine()),
Ag)}function Ib(n,Q,ta){var pa={canceled:!1,from:Q.from,to:Q.to,text:Q.text,origin:Q.origin,cancel:function(){return pa.canceled=!0}};ta&&(pa.update=function(Oa,hb,yb,Kb){Oa&&(pa.from=bb(n,Oa));hb&&(pa.to=bb(n,hb));yb&&(pa.text=yb);void 0!==Kb&&(pa.origin=Kb)});Z(n,"beforeChange",n,pa);n.cm&&Z(n.cm,"beforeChange",n.cm,pa);return pa.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:pa.from,to:pa.to,text:pa.text,origin:pa.origin}}function kc(n,Q,ta){if(n.cm){if(!n.cm.curOp)return nb(n.cm,kc)(n,
Q,ta);if(n.cm.state.suppressEdits)return}if(W(n,"beforeChange")||n.cm&&W(n.cm,"beforeChange"))if(Q=Ib(n,Q,!0),!Q)return;if(ta=hj&&!ta&&bd(n,Q.from,Q.to))for(var pa=ta.length-1;0<=pa;--pa)$c(n,{from:ta[pa].from,to:ta[pa].to,text:pa?[""]:Q.text,origin:Q.origin});else $c(n,Q)}function $c(n,Q){if(1!=Q.text.length||""!=Q.text[0]||0!=Wb(Q.from,Q.to)){var ta=Fc(n,Q);Sc(n,Q,ta,n.cm?n.cm.curOp.id:NaN);Zd(n,Q,ta,ze(n,Q));var pa=[];Xd(n,function(Oa,hb){hb||-1!=F(pa,Oa.history)||(Sf(Oa.history,Q),pa.push(Oa.history));
Zd(Oa,Q,null,ze(Oa,Q))})}}function zd(n,Q,ta){var pa=n.cm&&n.cm.state.suppressEdits;if(!pa||ta){for(var Oa=n.history,hb,yb=n.sel,Kb="undo"==Q?Oa.done:Oa.undone,ic="undo"==Q?Oa.undone:Oa.done,Bc=0;Bc<Kb.length&&(hb=Kb[Bc],ta?!hb.ranges||hb.equals(n.sel):hb.ranges);Bc++);if(Bc!=Kb.length){for(Oa.lastOrigin=Oa.lastSelOrigin=null;;)if(hb=Kb.pop(),hb.ranges){kd(hb,ic);if(ta&&!hb.equals(n.sel)){id(n,hb,{clearRedo:!1});return}yb=hb}else{if(pa){Kb.push(hb);return}break}var Lc=[];kd(yb,ic);ic.push({changes:Lc,
generation:Oa.generation});Oa.generation=hb.generation||++Oa.maxGeneration;var gd=W(n,"beforeChange")||n.cm&&W(n.cm,"beforeChange");ta=function(Dd){var Jd=hb.changes[Dd];Jd.origin=Q;if(gd&&!Ib(n,Jd,!1))return Kb.length=0,{};Lc.push(Rb(n,Jd));var se=Dd?Fc(n,Jd):x(Kb);Zd(n,Jd,se,Yd(n,Jd));!Dd&&n.cm&&n.cm.scrollIntoView({from:Jd.from,to:hc(Jd)});var cf=[];Xd(n,function(lf,Hf){Hf||-1!=F(cf,lf.history)||(Sf(lf.history,Jd),cf.push(lf.history));Zd(lf,Jd,null,Yd(lf,Jd))})};for(pa=hb.changes.length-1;0<=pa;--pa)if(Oa=
ta(pa))return Oa.v}}}function rd(n,Q){if(0!=Q&&(n.first+=Q,n.sel=new vi(I(n.sel.ranges,function(Oa){return new Wf(Gb(Oa.anchor.line+Q,Oa.anchor.ch),Gb(Oa.head.line+Q,Oa.head.ch))}),n.sel.primIndex),n.cm)){Kf(n.cm,n.first,n.first-Q,Q);for(var ta=n.cm.display,pa=ta.viewFrom;pa<ta.viewTo;pa++)he(n.cm,pa,"gutter")}}function Zd(n,Q,ta,pa){if(n.cm&&!n.cm.curOp)return nb(n.cm,Zd)(n,Q,ta,pa);if(Q.to.line<n.first)rd(n,Q.text.length-1-(Q.to.line-Q.from.line));else if(!(Q.from.line>n.lastLine())){if(Q.from.line<
n.first){var Oa=Q.text.length-1-(n.first-Q.from.line);rd(n,Oa);Q={from:Gb(n.first,0),to:Gb(Q.to.line+Oa,Q.to.ch),text:[x(Q.text)],origin:Q.origin}}Oa=n.lastLine();Q.to.line>Oa&&(Q={from:Q.from,to:Gb(Oa,ma(n,Oa).text.length),text:[Q.text[0]],origin:Q.origin});Q.removed=Aa(n,Q.from,Q.to);ta||(ta=Fc(n,Q));n.cm?ve(n.cm,Q,pa):wd(n,Q,pa);ke(n,ta,Ag);n.cantEdit&&y(n,Gb(n.firstLine(),0))&&(n.cantEdit=!1)}}function ve(n,Q,ta){var pa=n.doc,Oa=n.display,hb=Q.from,yb=Q.to,Kb=!1,ic=hb.line;n.options.lineWrapping||
(ic=Ea(nd(ma(pa,hb.line))),pa.iter(ic,yb.line+1,function(Bc){if(Bc==Oa.maxLine)return Kb=!0}));-1<pa.sel.contains(Q.from,Q.to)&&C(n);wd(pa,Q,ta,dh(n));n.options.lineWrapping||(pa.iter(ic,hb.line+Q.text.length,function(Bc){var Lc=Bb(Bc);Lc>Oa.maxLineLength&&(Oa.maxLine=Bc,Oa.maxLineLength=Lc,Oa.maxLineChanged=!0,Kb=!1)}),Kb&&(n.curOp.updateMaxLine=!0));Gd(pa,hb.line);Mc(n,400);ta=Q.text.length-(yb.line-hb.line)-1;Q.full?Kf(n):hb.line!=yb.line||1!=Q.text.length||mc(n.doc,Q)?Kf(n,hb.line,yb.line+1,ta):
he(n,hb.line,"text");ta=W(n,"changes");if((pa=W(n,"change"))||ta)Q={from:hb,to:yb,text:Q.text,removed:Q.removed,origin:Q.origin},pa&&Oc(n,"change",n,Q),ta&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(Q);n.display.selForContextMenu=null}function Pe(n,Q,ta,pa,Oa){pa||(pa=ta);0>Wb(pa,ta)&&(pa=[pa,ta],ta=pa[0],pa=pa[1]);"string"==typeof Q&&(Q=n.splitLines(Q));kc(n,{from:ta,to:pa,text:Q,origin:Oa})}function hf(n,Q,ta,pa){ta<n.line?n.line+=pa:Q<n.line&&(n.line=Q,n.ch=0)}function eg(n,Q,ta,pa){for(var Oa=
0;Oa<n.length;++Oa){var hb=n[Oa],yb=!0;if(hb.ranges)for(hb.copied||(hb=n[Oa]=hb.deepCopy(),hb.copied=!0),yb=0;yb<hb.ranges.length;yb++)hf(hb.ranges[yb].anchor,Q,ta,pa),hf(hb.ranges[yb].head,Q,ta,pa);else{for(var Kb=0;Kb<hb.changes.length;++Kb){var ic=hb.changes[Kb];if(ta<ic.from.line)ic.from=Gb(ic.from.line+pa,ic.from.ch),ic.to=Gb(ic.to.line+pa,ic.to.ch);else if(Q<=ic.to.line){yb=!1;break}}yb||(n.splice(0,Oa+1),Oa=0)}}}function Sf(n,Q){var ta=Q.from.line,pa=Q.to.line;Q=Q.text.length-(pa-ta)-1;eg(n.done,
ta,pa,Q);eg(n.undone,ta,pa,Q)}function gg(n,Q,ta,pa){var Oa=Q,hb=Q;"number"==typeof Q?hb=ma(n,Math.max(n.first,Math.min(Q,n.first+n.size-1))):Oa=Ea(Q);if(null==Oa)return null;pa(hb,Oa)&&n.cm&&he(n.cm,Oa,ta);return hb}function vf(n){this.lines=n;this.parent=null;for(var Q=0,ta=0;ta<n.length;++ta)n[ta].parent=this,Q+=n[ta].height;this.height=Q}function df(n){this.children=n;for(var Q=0,ta=0,pa=0;pa<n.length;++pa){var Oa=n[pa];Q+=Oa.chunkSize();ta+=Oa.height;Oa.parent=this}this.size=Q;this.height=ta;
this.parent=null}function Gf(n,Q,ta,pa){var Oa=new Dj(n,ta,pa),hb=n.cm;hb&&Oa.noHScroll&&(hb.display.alignWidgets=!0);gg(n,Q,"widget",function(yb){var Kb=yb.widgets||(yb.widgets=[]);null==Oa.insertAt?Kb.push(Oa):Kb.splice(Math.min(Kb.length,Math.max(0,Oa.insertAt)),0,Oa);Oa.line=yb;hb&&!Qd(n,yb)&&(Kb=te(yb)<n.scrollTop,Qa(yb,yb.height+cd(Oa)),Kb&&pc(hb,Oa.height),hb.curOp.forceUpdate=!0);return!0});hb&&Oc(hb,"lineWidgetAdded",hb,Oa,"number"==typeof Q?Q:Ea(Q));return Oa}function ug(n,Q,ta,pa,Oa){if(pa&&
pa.shared)return Ng(n,Q,ta,pa,Oa);if(n.cm&&!n.cm.curOp)return nb(n.cm,ug)(n,Q,ta,pa,Oa);var hb=new Ci(n,Oa);Oa=Wb(Q,ta);pa&&S(pa,hb,!1);if(0<Oa||0==Oa&&!1!==hb.clearWhenEmpty)return hb;hb.replacedWith&&(hb.collapsed=!0,hb.widgetNode=u("span",[hb.replacedWith],"CodeMirror-widget"),pa.handleMouseEvents||hb.widgetNode.setAttribute("cm-ignore-events","true"),pa.insertLeft&&(hb.widgetNode.insertLeft=!0));if(hb.collapsed){if(dd(n,Q.line,Q,ta,hb)||Q.line!=ta.line&&dd(n,ta.line,Q,ta,hb))throw Error("Inserting collapsed marker partially overlapping an existing one");
ji=!0}hb.addToHistory&&Sc(n,{from:Q,to:ta,origin:"markText"},n.sel,NaN);var yb=Q.line,Kb=n.cm,ic;n.iter(yb,ta.line+1,function(Bc){Kb&&hb.collapsed&&!Kb.options.lineWrapping&&nd(Bc)==Kb.display.maxLine&&(ic=!0);hb.collapsed&&yb!=Q.line&&Qa(Bc,0);var Lc=new Kd(hb,yb==Q.line?Q.ch:null,yb==ta.line?ta.ch:null),gd=n.cm&&n.cm.curOp;(gd=gd&&window.WeakSet&&(gd.markedSpans||(gd.markedSpans=new WeakSet)))&&gd.has(Bc.markedSpans)?Bc.markedSpans.push(Lc):(Bc.markedSpans=Bc.markedSpans?Bc.markedSpans.concat([Lc]):
[Lc],gd&&gd.add(Bc.markedSpans));Lc.marker.attachLine(Bc);++yb});hb.collapsed&&n.iter(Q.line,ta.line+1,function(Bc){Qd(n,Bc)&&Qa(Bc,0)});hb.clearOnEnter&&rg(hb,"beforeCursorEnter",function(){return hb.clear()});hb.readOnly&&(hj=!0,(n.history.done.length||n.history.undone.length)&&n.clearHistory());hb.collapsed&&(hb.id=++Dk,hb.atomic=!0);if(Kb){ic&&(Kb.curOp.updateMaxLine=!0);if(hb.collapsed)Kf(Kb,Q.line,ta.line+1);else if(hb.className||hb.startStyle||hb.endStyle||hb.css||hb.attributes||hb.title)for(pa=
Q.line;pa<=ta.line;pa++)he(Kb,pa,"text");hb.atomic&&gc(Kb.doc);Oc(Kb,"markerAdded",Kb,hb)}return hb}function Ng(n,Q,ta,pa,Oa){pa=S(pa);pa.shared=!1;var hb=[ug(n,Q,ta,pa,Oa)],yb=hb[0],Kb=pa.widgetNode;Xd(n,function(ic){Kb&&(pa.widgetNode=Kb.cloneNode(!0));hb.push(ug(ic,bb(ic,Q),bb(ic,ta),pa,Oa));for(var Bc=0;Bc<ic.linked.length;++Bc)if(ic.linked[Bc].isParent)return;yb=x(hb)});return new Hi(hb,yb)}function Vg(n){return n.findMarks(Gb(n.first,0),n.clipPos(Gb(n.lastLine())),function(Q){return Q.parent})}
function ch(n){for(var Q=function(pa){pa=n[pa];var Oa=[pa.primary.doc];Xd(pa.primary.doc,function(Kb){return Oa.push(Kb)});for(var hb=0;hb<pa.markers.length;hb++){var yb=pa.markers[hb];-1==F(Oa,yb.doc)&&(yb.parent=null,pa.markers.splice(hb--,1))}},ta=0;ta<n.length;ta++)Q(ta)}function Mg(n){var Q=this;Ef(Q);if(!E(Q,n)&&!Ie(Q.display,n)){ja(n);Yg&&(Dh=+new Date);var ta=Yf(Q,n,!0),pa=n.dataTransfer.files;if(ta&&!Q.isReadOnly())if(pa&&pa.length&&window.FileReader&&window.File)for(var Oa=pa.length,hb=
Array(Oa),yb=0,Kb=function(){++yb==Oa&&nb(Q,function(){ta=bb(Q.doc,ta);var Lc={from:ta,to:ta,text:Q.doc.splitLines(hb.filter(function(gd){return null!=gd}).join(Q.doc.lineSeparator())),origin:"paste"};kc(Q.doc,Lc);td(Q.doc,Vb(bb(Q.doc,ta),bb(Q.doc,hc(Lc))))})()},ic=function(Lc,gd){if(Q.options.allowDropFileTypes&&-1==F(Q.options.allowDropFileTypes,Lc.type))Kb();else{var Dd=new FileReader;Dd.onerror=function(){return Kb()};Dd.onload=function(){var Jd=Dd.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Jd)||(hb[gd]=
Jd);Kb()};Dd.readAsText(Lc)}},Bc=0;Bc<pa.length;Bc++)ic(pa[Bc],Bc);else if(Q.state.draggingText&&-1<Q.doc.sel.contains(ta))Q.state.draggingText(n),setTimeout(function(){return Q.display.input.focus()},20);else try{if(ic=n.dataTransfer.getData("Text")){Q.state.draggingText&&!Q.state.draggingText.copy&&(Bc=Q.listSelections());ke(Q.doc,Vb(ta,ta));if(Bc)for(pa=0;pa<Bc.length;++pa)Pe(Q.doc,"",Bc[pa].anchor,Bc[pa].head,"drag");Q.replaceSelection(ic,"around","paste");Q.display.input.focus()}}catch(Lc){}}}
function Ef(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function Sh(n){if(document.getElementsByClassName){for(var Q=document.getElementsByClassName("CodeMirror"),ta=[],pa=0;pa<Q.length;pa++){var Oa=Q[pa].CodeMirror;Oa&&ta.push(Oa)}ta.length&&ta[0].operation(function(){for(var hb=0;hb<ta.length;hb++)n(ta[hb])})}}function Dg(){var n;rg(window,"resize",function(){null==n&&(n=setTimeout(function(){n=null;Sh(qg)},100))});rg(window,"blur",
function(){return Sh(cc)})}function qg(n){var Q=n.display;Q.cachedCharWidth=Q.cachedTextHeight=Q.cachedPaddingH=null;Q.scrollbarsClipped=!1;n.setSize()}function Nf(n){var Q=n.split(/-(?!$)/);n=Q[Q.length-1];for(var ta,pa,Oa,hb,yb=0;yb<Q.length-1;yb++){var Kb=Q[yb];if(/^(cmd|meta|m)$/i.test(Kb))hb=!0;else if(/^a(lt)?$/i.test(Kb))ta=!0;else if(/^(c|ctrl|control)$/i.test(Kb))pa=!0;else if(/^s(hift)?$/i.test(Kb))Oa=!0;else throw Error("Unrecognized modifier name: "+Kb);}ta&&(n="Alt-"+n);pa&&(n="Ctrl-"+
n);hb&&(n="Cmd-"+n);Oa&&(n="Shift-"+n);return n}function nh(n){var Q={},ta;for(ta in n)if(n.hasOwnProperty(ta)){var pa=n[ta];if(!/^(name|fallthrough|(de|at)tach)$/.test(ta)){if("..."!=pa)for(var Oa=I(ta.split(" "),Nf),hb=0;hb<Oa.length;hb++){if(hb==Oa.length-1){var yb=Oa.join(" ");var Kb=pa}else yb=Oa.slice(0,hb+1).join(" "),Kb="...";var ic=Q[yb];if(!ic)Q[yb]=Kb;else if(ic!=Kb)throw Error("Inconsistent bindings for "+yb);}delete n[ta]}}for(var Bc in Q)n[Bc]=Q[Bc];return n}function si(n,Q,ta,pa){Q=
Bi(Q);var Oa=Q.call?Q.call(n,pa):Q[n];if(!1===Oa)return"nothing";if("..."===Oa)return"multi";if(null!=Oa&&ta(Oa))return"handled";if(Q.fallthrough){if("[object Array]"!=Object.prototype.toString.call(Q.fallthrough))return si(n,Q.fallthrough,ta,pa);for(Oa=0;Oa<Q.fallthrough.length;Oa++){var hb=si(n,Q.fallthrough[Oa],ta,pa);if(hb)return hb}}}function oh(n){n="string"==typeof n?n:wb[n.keyCode];return"Ctrl"==n||"Alt"==n||"Shift"==n||"Mod"==n}function jj(n,Q,ta){var pa=n;Q.altKey&&"Alt"!=pa&&(n="Alt-"+
n);(Qi?Q.metaKey:Q.ctrlKey)&&"Ctrl"!=pa&&(n="Ctrl-"+n);(Qi?Q.ctrlKey:Q.metaKey)&&"Mod"!=pa&&(n="Cmd-"+n);!ta&&Q.shiftKey&&"Shift"!=pa&&(n="Shift-"+n);return n}function Ki(n,Q){if(ei&&34==n.keyCode&&n["char"])return!1;var ta=wb[n.keyCode];if(null==ta||n.altGraphKey)return!1;3==n.keyCode&&n.code&&(ta=n.code);return jj(ta,n,Q)}function Bi(n){return"string"==typeof n?xc[n]:n}function Kj(n,Q){for(var ta=n.doc.sel.ranges,pa=[],Oa=0;Oa<ta.length;Oa++){for(var hb=Q(ta[Oa]);pa.length&&0>=Wb(hb.from,x(pa).to);){var yb=
pa.pop();if(0>Wb(yb.from,hb.from)){hb.from=yb.from;break}}pa.push(hb)}vb(n,function(){for(var Kb=pa.length-1;0<=Kb;Kb--)Pe(n.doc,"",pa[Kb].from,pa[Kb].to,"+delete");Qc(n)})}function rj(n,Q,ta){Q=T(n.text,Q+ta,ta);return 0>Q||Q>n.text.length?null:Q}function vk(n,Q,ta){n=rj(n,Q.ch,ta);return null==n?null:new Gb(Q.line,n,0>ta?"after":"before")}function gk(n,Q,ta,pa,Oa){if(n&&("rtl"==Q.doc.direction&&(Oa=-Oa),n=r(ta,Q.doc.direction))){n=0>Oa?x(n):n[0];var hb=0>Oa==(1==n.level)?"after":"before";if(0<n.level||
"rtl"==Q.doc.direction){var yb=oe(Q,ta);var Kb=0>Oa?ta.text.length-1:0;var ic=If(Q,yb,Kb).top;Kb=z(function(Bc){return If(Q,yb,Bc).top==ic},0>Oa==(1==n.level)?n.from:n.to-1,Kb);"before"==hb&&(Kb=rj(ta,Kb,1))}else Kb=0>Oa?n.to:n.from;return new Gb(pa,Kb,hb)}return new Gb(pa,0>Oa?ta.text.length:0,0>Oa?"before":"after")}function qj(n,Q,ta,pa){var Oa=r(Q,n.doc.direction);if(!Oa)return vk(Q,ta,pa);ta.ch>=Q.text.length?(ta.ch=Q.text.length,ta.sticky="before"):0>=ta.ch&&(ta.ch=0,ta.sticky="after");var hb=
K(Oa,ta.ch,ta.sticky),yb=Oa[hb];if("ltr"==n.doc.direction&&0==yb.level%2&&(0<pa?yb.to>ta.ch:yb.from<ta.ch))return vk(Q,ta,pa);var Kb=function(Jd,se){return rj(Q,Jd instanceof Gb?Jd.ch:Jd,se)},ic,Bc=function(Jd){if(!n.options.lineWrapping)return{begin:0,end:Q.text.length};ic=ic||oe(n,Q);return Td(n,Q,ic,Jd)},Lc=Bc("before"==ta.sticky?Kb(ta,-1):ta.ch);if("rtl"==n.doc.direction||1==yb.level){var gd=1==yb.level==0>pa,Dd=Kb(ta,gd?1:-1);if(null!=Dd&&(gd?Dd<=yb.to&&Dd<=Lc.end:Dd>=yb.from&&Dd>=Lc.begin))return new Gb(ta.line,
Dd,gd?"before":"after")}yb=function(Jd,se,cf){for(var lf=function(lg,ag){return ag?new Gb(ta.line,Kb(lg,1),"before"):new Gb(ta.line,lg,"after")};0<=Jd&&Jd<Oa.length;Jd+=se){var Hf=Oa[Jd],ff=0<se==(1!=Hf.level),Ff=ff?cf.begin:Kb(cf.end,-1);if(Hf.from<=Ff&&Ff<Hf.to)return lf(Ff,ff);Ff=ff?Hf.from:Kb(Hf.to,-1);if(cf.begin<=Ff&&Ff<cf.end)return lf(Ff,ff)}};if(hb=yb(hb+pa,pa,Lc))return hb;Lc=0<pa?Lc.end:Kb(Lc.begin,-1);return null==Lc||0<pa&&Lc==Q.text.length||!(hb=yb(0<pa?0:Oa.length-1,pa,Bc(Lc)))?null:
hb}function vh(n,Q){var ta=ma(n.doc,Q),pa=nd(ta);pa!=ta&&(Q=Ea(pa));return gk(!0,n,pa,Q,1)}function Ek(n,Q){var ta=vh(n,Q.line),pa=ma(n.doc,ta.line);n=r(pa,n.doc.direction);return n&&0!=n[0].level?ta:(pa=Math.max(ta.ch,pa.text.search(/\S/)),Gb(ta.line,Q.line==ta.line&&Q.ch<=pa&&Q.ch?0:pa,ta.sticky))}function Lj(n,Q,ta){if("string"==typeof Q&&(Q=qa[Q],!Q))return!1;n.display.input.ensurePolled();var pa=n.display.shift,Oa=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),ta&&(n.display.shift=!1),Oa=
Q(n)!=Tj}finally{n.display.shift=pa,n.state.suppressEdits=!1}return Oa}function Lf(n,Q,ta,pa){var Oa=n.state.keySeq;if(Oa){if(oh(Q))return"handled";/'$/.test(Q)?n.state.keySeq=null:ka.set(50,function(){n.state.keySeq==Oa&&(n.state.keySeq=null,n.display.input.reset())});if(Ai(n,Oa+" "+Q,ta,pa))return!0}return Ai(n,Q,ta,pa)}function Ai(n,Q,ta,pa){a:{for(var Oa=0;Oa<n.state.keyMaps.length;Oa++){var hb=si(Q,n.state.keyMaps[Oa],pa,n);if(hb){pa=hb;break a}}pa=n.options.extraKeys&&si(Q,n.options.extraKeys,
pa,n)||si(Q,n.options.keyMap,pa,n)}"multi"==pa&&(n.state.keySeq=Q);"handled"==pa&&Oc(n,"keyHandled",n,Q,ta);if("handled"==pa||"multi"==pa)ja(ta),Pc(n);return!!pa}function wi(n,Q){var ta=Ki(Q,!0);return ta?Q.shiftKey&&!n.state.keySeq?Lf(n,"Shift-"+ta,Q,function(pa){return Lj(n,pa,!0)})||Lf(n,ta,Q,function(pa){if("string"==typeof pa?/^go[A-Z]/.test(pa):pa.motion)return Lj(n,pa)}):Lf(n,ta,Q,function(pa){return Lj(n,pa)}):!1}function uk(n,Q,ta){return Lf(n,"'"+ta+"'",Q,function(pa){return Lj(n,pa,!0)})}
function Yk(n){if(!n.target||n.target==this.display.input.getField())if(this.curOp.focus=D(),!E(this,n)){Yg&&11>xg&&27==n.keyCode&&(n.returnValue=!1);var Q=n.keyCode;this.display.shift=16==Q||n.shiftKey;var ta=wi(this,n);ei&&(Ja=ta?Q:null,!ta&&88==Q&&!fj&&(Ch?n.metaKey:n.ctrlKey)&&this.replaceSelection("",null,"cut"));Hh&&!Ch&&!ta&&46==Q&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=Q||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Oi(this)}}function Oi(n){function Q(pa){18!=
pa.keyCode&&pa.altKey||(Ji(ta,"CodeMirror-crosshair"),Y(document,"keyup",Q),Y(document,"mouseover",Q))}var ta=n.display.lineDiv;U(ta,"CodeMirror-crosshair");rg(document,"keyup",Q);rg(document,"mouseover",Q)}function Vh(n){16==n.keyCode&&(this.doc.sel.shift=!1);E(this,n)}function hk(n){if(!(n.target&&n.target!=this.display.input.getField()||Ie(this.display,n)||E(this,n)||n.ctrlKey&&!n.altKey||Ch&&n.metaKey)){var Q=n.keyCode,ta=n.charCode;if(ei&&Q==Ja)Ja=null,ja(n);else if(!ei||n.which&&!(10>n.which)||
!wi(this,n))if(Q=String.fromCharCode(null==ta?Q:ta),"\b"!=Q&&!uk(this,n,Q))this.display.input.onKeyPress(n)}}function eh(n,Q){var ta=+new Date;if(ya&&ya.compare(ta,n,Q))return ca=ya=null,"triple";if(ca&&ca.compare(ta,n,Q))return ya=new G(ta,n,Q),ca=null,"double";ca=new G(ta,n,Q);ya=null;return"single"}function ai(n){var Q=this.display;if(!(E(this,n)||Q.activeTouch&&Q.input.supportsTouch()))if(Q.input.ensurePolled(),Q.shift=n.shiftKey,Ie(Q,n))vg||(Q.scroller.draggable=!1,setTimeout(function(){return Q.scroller.draggable=
!0},100));else if(!Zh(this,n,"gutterClick",!0)){var ta=Yf(this,n),pa=Fa(n),Oa=ta?eh(ta,pa):"single";window.focus();1==pa&&this.state.selectingText&&this.state.selectingText(n);if(!ta||!Oj(this,pa,ta,Oa,n))if(1==pa)ta?Ok(this,ta,Oa,n):(n.target||n.srcElement)==Q.scroller&&ja(n);else if(2==pa)ta&&xe(this.doc,ta),setTimeout(function(){return Q.input.focus()},20);else if(3==pa)if(qk)this.display.input.onContextMenu(n);else xb(this)}}function Oj(n,Q,ta,pa,Oa){var hb="Click";"double"==pa?hb="Double"+hb:
"triple"==pa&&(hb="Triple"+hb);return Lf(n,jj((1==Q?"Left":2==Q?"Middle":"Right")+hb,Oa),Oa,function(yb){"string"==typeof yb&&(yb=qa[yb]);if(!yb)return!1;var Kb=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),Kb=yb(n,ta)!=Tj}finally{n.state.suppressEdits=!1}return Kb})}function Ok(n,Q,ta,pa){Yg?setTimeout(X($a,n),0):n.curOp.focus=D();var Oa=n.getOption("configureMouse");Oa=Oa?Oa(n,ta,pa):{};null==Oa.unit&&(Oa.unit=(ck?pa.shiftKey&&pa.metaKey:pa.altKey)?"rectangle":"single"==ta?"char":"double"==
ta?"word":"line");if(null==Oa.extend||n.doc.extend)Oa.extend=n.doc.extend||pa.shiftKey;null==Oa.addNew&&(Oa.addNew=Ch?pa.metaKey:pa.ctrlKey);null==Oa.moveOnDrag&&(Oa.moveOnDrag=!(Ch?pa.altKey:pa.ctrlKey));var hb=n.doc.sel,yb;n.options.dragDrop&&mj&&!n.isReadOnly()&&"single"==ta&&-1<(yb=hb.contains(Q))&&(0>Wb((yb=hb.ranges[yb]).from(),Q)||0<Q.xRel)&&(0<Wb(yb.to(),Q)||0>Q.xRel)?oj(n,pa,Q,Oa):Xi(n,pa,Q,Oa)}function oj(n,Q,ta,pa){var Oa=n.display,hb=!1,yb=nb(n,function(Bc){vg&&(Oa.scroller.draggable=
!1);n.state.draggingText=!1;n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:xb(n));Y(Oa.wrapper.ownerDocument,"mouseup",yb);Y(Oa.wrapper.ownerDocument,"mousemove",Kb);Y(Oa.scroller,"dragstart",ic);Y(Oa.scroller,"drop",yb);hb||(ja(Bc),pa.addNew||xe(n.doc,ta,null,null,pa.extend),vg&&!Lh||Yg&&9==xg?setTimeout(function(){Oa.wrapper.ownerDocument.body.focus({preventScroll:!0});Oa.input.focus()},20):Oa.input.focus())}),Kb=function(Bc){hb=hb||10<=Math.abs(Q.clientX-Bc.clientX)+Math.abs(Q.clientY-
Bc.clientY)},ic=function(){return hb=!0};vg&&(Oa.scroller.draggable=!0);n.state.draggingText=yb;yb.copy=!pa.moveOnDrag;rg(Oa.wrapper.ownerDocument,"mouseup",yb);rg(Oa.wrapper.ownerDocument,"mousemove",Kb);rg(Oa.scroller,"dragstart",ic);rg(Oa.scroller,"drop",yb);n.state.delayingBlurEvent=!0;setTimeout(function(){return Oa.input.focus()},20);Oa.scroller.dragDrop&&Oa.scroller.dragDrop()}function Th(n,Q,ta){if("char"==ta)return new Wf(Q,Q);if("word"==ta)return n.findWordAt(Q);if("line"==ta)return new Wf(Gb(Q.line,
0),bb(n.doc,Gb(Q.line+1,0)));n=ta(n,Q);return new Wf(n.from,n.to)}function Xi(n,Q,ta,pa){function Oa(ff){if(0!=Wb(Jd,ff))if(Jd=ff,"rectangle"==pa.unit){var Ff=[],lg=n.options.tabSize,ag=V(ma(ic,ta.line).text,ta.ch,lg),ig=V(ma(ic,ff.line).text,ff.ch,lg),Mf=Math.min(ag,ig);ag=Math.max(ag,ig);ig=Math.min(ta.line,ff.line);for(var cg=Math.min(n.lastLine(),Math.max(ta.line,ff.line));ig<=cg;ig++){var Of=ma(ic,ig).text,Fg=t(Of,Mf,lg);Mf==ag?Ff.push(new Wf(Gb(ig,Fg),Gb(ig,Fg))):Of.length>Fg&&Ff.push(new Wf(Gb(ig,
Fg),Gb(ig,t(Of,ag,lg))))}Ff.length||Ff.push(new Wf(ta,ta));id(ic,Lb(n,Bc.ranges.slice(0,gd).concat(Ff),gd),{origin:"*mouse",scroll:!1});n.scrollIntoView(ff)}else Ff=Dd,Mf=Th(n,ff,pa.unit),ff=Ff.anchor,0<Wb(Mf.anchor,ff)?(lg=Mf.head,ff=Ia(Ff.from(),Mf.anchor)):(lg=Mf.anchor,ff=xa(Ff.to(),Mf.head)),Ff=Bc.ranges.slice(0),Ff[gd]=Xh(n,new Wf(bb(ic,ff),lg)),id(ic,Lb(n,Ff,gd),ti)}function hb(ff){var Ff=++cf,lg=Yf(n,ff,!0,"rectangle"==pa.unit);if(lg)if(0!=Wb(lg,Jd)){n.curOp.focus=D();Oa(lg);var ag=jb(Kb,
ic);(lg.line>=ag.to||lg.line<ag.from)&&setTimeout(nb(n,function(){cf==Ff&&hb(ff)}),150)}else{var ig=ff.clientY<se.top?-20:ff.clientY>se.bottom?20:0;ig&&setTimeout(nb(n,function(){cf==Ff&&(Kb.scroller.scrollTop+=ig,hb(ff))}),50)}}function yb(ff){n.state.selectingText=!1;cf=Infinity;ff&&(ja(ff),Kb.input.focus());Y(Kb.wrapper.ownerDocument,"mousemove",lf);Y(Kb.wrapper.ownerDocument,"mouseup",Hf);ic.history.lastSelOrigin=null}Yg&&xb(n);var Kb=n.display,ic=n.doc;ja(Q);var Bc=ic.sel,Lc=Bc.ranges;if(pa.addNew&&
!pa.extend){var gd=ic.sel.contains(ta);var Dd=-1<gd?Lc[gd]:new Wf(ta,ta)}else Dd=ic.sel.primary(),gd=ic.sel.primIndex;"rectangle"==pa.unit?(pa.addNew||(Dd=new Wf(ta,ta)),ta=Yf(n,Q,!0,!0),gd=-1):(Q=Th(n,ta,pa.unit),Dd=pa.extend?re(Dd,Q.anchor,Q.head,pa.extend):Q);pa.addNew?-1==gd?(gd=Lc.length,id(ic,Lb(n,Lc.concat([Dd]),gd),{scroll:!1,origin:"*mouse"})):1<Lc.length&&Lc[gd].empty()&&"char"==pa.unit&&!pa.extend?(id(ic,Lb(n,Lc.slice(0,gd).concat(Lc.slice(gd+1)),0),{scroll:!1,origin:"*mouse"}),Bc=ic.sel):
Qf(ic,gd,Dd,ti):(gd=0,id(ic,new vi([Dd],0),ti),Bc=ic.sel);var Jd=ta,se=Kb.wrapper.getBoundingClientRect(),cf=0,lf=nb(n,function(ff){0!==ff.buttons&&Fa(ff)?hb(ff):yb(ff)}),Hf=nb(n,yb);n.state.selectingText=Hf;rg(Kb.wrapper.ownerDocument,"mousemove",lf);rg(Kb.wrapper.ownerDocument,"mouseup",Hf)}function Xh(n,Q){var ta=Q.anchor,pa=Q.head,Oa=ma(n.doc,ta.line);if(0==Wb(ta,pa)&&ta.sticky==pa.sticky)return Q;Oa=r(Oa);if(!Oa)return Q;var hb=K(Oa,ta.ch,ta.sticky),yb=Oa[hb];if(yb.from!=ta.ch&&yb.to!=ta.ch)return Q;
var Kb=hb+(yb.from==ta.ch==(1!=yb.level)?0:1);if(0==Kb||Kb==Oa.length)return Q;pa.line!=ta.line?n=0<(pa.line-ta.line)*("ltr"==n.doc.direction?1:-1):(n=K(Oa,pa.ch,pa.sticky),hb=n-hb||(pa.ch-ta.ch)*(1==yb.level?-1:1),n=n==Kb-1||n==Kb?0>hb:0<hb);Oa=Oa[Kb+(n?-1:0)];Oa=(Kb=n==(1==Oa.level))?Oa.from:Oa.to;Kb=Kb?"after":"before";return ta.ch==Oa&&ta.sticky==Kb?Q:new Wf(new Gb(ta.line,Oa,Kb),pa)}function Zh(n,Q,ta,pa){if(Q.touches){var Oa=Q.touches[0].clientX;var hb=Q.touches[0].clientY}else try{Oa=Q.clientX,
hb=Q.clientY}catch(ic){return!1}if(Oa>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;pa&&ja(Q);pa=n.display;var yb=pa.lineDiv.getBoundingClientRect();if(hb>yb.bottom||!W(n,ta))return Ga(Q);hb-=yb.top-pa.viewOffset;for(yb=0;yb<n.display.gutterSpecs.length;++yb){var Kb=pa.gutters.childNodes[yb];if(Kb&&Kb.getBoundingClientRect().right>=Oa)return Oa=kb(n.doc,hb),Z(n,ta,n,Oa,n.display.gutterSpecs[yb].className,Q),Ga(Q)}}function cj(n,Q){var ta;(ta=Ie(n.display,Q))||(ta=W(n,"gutterContextMenu")?
Zh(n,Q,"gutterContextMenu",!1):!1);if(!ta&&!E(n,Q,"contextmenu")&&!qk)n.display.input.onContextMenu(Q)}function Wh(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-");bg(n)}function ni(n,Q,ta){!Q!=!(ta&&ta!=Ka)&&(ta=n.display.dragFunctions,Q=Q?rg:Y,Q(n.display.scroller,"dragstart",ta.start),Q(n.display.scroller,"dragenter",ta.enter),Q(n.display.scroller,"dragover",ta.over),Q(n.display.scroller,"dragleave",ta.leave),Q(n.display.scroller,
"drop",ta.drop))}function Pj(n){n.options.lineWrapping?(U(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(Ji(n.display.wrapper,"CodeMirror-wrap"),$b(n));Zg(n);Kf(n);bg(n);setTimeout(function(){return Ge(n)},100)}function Kh(n,Q){var ta=this;if(!(this instanceof Kh))return new Kh(n,Q);this.options=Q=Q?S(Q):{};S(ab,Q,!1);var pa=Q.value;"string"==typeof pa?pa=new Di(pa,Q.mode,null,Q.lineSeparator,Q.direction):Q.mode&&(pa.modeOption=Q.mode);this.doc=
pa;var Oa=new Kh.inputStyles[Q.inputStyle](this);n=this.display=new tg(n,pa,Oa,Q);n.wrapper.CodeMirror=this;Wh(this);Q.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");rf(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new vj,keySeq:null,specialChars:null};Q.autofocus&&!Cj&&n.input.focus();Yg&&11>xg&&setTimeout(function(){return ta.display.input.reset(!0)},
20);Ri(this);bi||(Dg(),bi=!0);Ma(this);this.curOp.forceUpdate=!0;ce(this,pa);Q.autofocus&&!Cj||this.hasFocus()?setTimeout(function(){ta.hasFocus()&&!ta.state.focused&&Nb(ta)},20):cc(this);for(var hb in ob)if(ob.hasOwnProperty(hb))ob[hb](this,Q[hb],Ka);og(this);Q.finishInit&&Q.finishInit(this);for(pa=0;pa<rb.length;++pa)rb[pa](this);lb(this);vg&&Q.lineWrapping&&"optimizelegibility"==getComputedStyle(n.lineDiv).textRendering&&(n.lineDiv.style.textRendering="auto")}function Ri(n){function Q(){pa.activeTouch&&
(Oa=setTimeout(function(){return pa.activeTouch=null},1E3),hb=pa.activeTouch,hb.end=+new Date)}function ta(Kb,ic){if(null==ic.left)return!0;var Bc=ic.left-Kb.left;Kb=ic.top-Kb.top;return 400<Bc*Bc+Kb*Kb}var pa=n.display;rg(pa.scroller,"mousedown",nb(n,ai));Yg&&11>xg?rg(pa.scroller,"dblclick",nb(n,function(Kb){if(!E(n,Kb)){var ic=Yf(n,Kb);!ic||Zh(n,Kb,"gutterClick",!0)||Ie(n.display,Kb)||(ja(Kb),Kb=n.findWordAt(ic),xe(n.doc,Kb.anchor,Kb.head))}})):rg(pa.scroller,"dblclick",function(Kb){return E(n,
Kb)||ja(Kb)});rg(pa.scroller,"contextmenu",function(Kb){return cj(n,Kb)});rg(pa.input.getField(),"contextmenu",function(Kb){pa.scroller.contains(Kb.target)||cj(n,Kb)});var Oa,hb={end:0};rg(pa.scroller,"touchstart",function(Kb){var ic;if(ic=!E(n,Kb))1!=Kb.touches.length?ic=!1:(ic=Kb.touches[0],ic=1>=ic.radiusX&&1>=ic.radiusY),ic=!ic;ic&&!Zh(n,Kb,"gutterClick",!0)&&(pa.input.ensurePolled(),clearTimeout(Oa),ic=+new Date,pa.activeTouch={start:ic,moved:!1,prev:300>=ic-hb.end?hb:null},1==Kb.touches.length&&
(pa.activeTouch.left=Kb.touches[0].pageX,pa.activeTouch.top=Kb.touches[0].pageY))});rg(pa.scroller,"touchmove",function(){pa.activeTouch&&(pa.activeTouch.moved=!0)});rg(pa.scroller,"touchend",function(Kb){var ic=pa.activeTouch;if(ic&&!Ie(pa,Kb)&&null!=ic.left&&!ic.moved&&300>new Date-ic.start){var Bc=n.coordsChar(pa.activeTouch,"page");ic=!ic.prev||ta(ic,ic.prev)?new Wf(Bc,Bc):!ic.prev.prev||ta(ic,ic.prev.prev)?n.findWordAt(Bc):new Wf(Gb(Bc.line,0),bb(n.doc,Gb(Bc.line+1,0)));n.setSelection(ic.anchor,
ic.head);n.focus();ja(Kb)}Q()});rg(pa.scroller,"touchcancel",Q);rg(pa.scroller,"scroll",function(){pa.scroller.clientHeight&&(we(n,pa.scroller.scrollTop),sd(n,pa.scroller.scrollLeft,!0),Z(n,"scroll",n))});rg(pa.scroller,"mousewheel",function(Kb){return tb(n,Kb)});rg(pa.scroller,"DOMMouseScroll",function(Kb){return tb(n,Kb)});rg(pa.wrapper,"scroll",function(){return pa.wrapper.scrollTop=pa.wrapper.scrollLeft=0});pa.dragFunctions={enter:function(Kb){E(n,Kb)||ua(Kb)},over:function(Kb){if(!E(n,Kb)){var ic=
Yf(n,Kb);if(ic){var Bc=document.createDocumentFragment();fc(n,ic,Bc);n.display.dragCursor||(n.display.dragCursor=l("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv));h(n.display.dragCursor,Bc)}ua(Kb)}},start:function(Kb){if(Yg&&(!n.state.draggingText||100>+new Date-Dh))ua(Kb);else if(!E(n,Kb)&&!Ie(n.display,Kb)&&(Kb.dataTransfer.setData("Text",n.getSelection()),Kb.dataTransfer.effectAllowed="copyMove",Kb.dataTransfer.setDragImage&&
!Lh)){var ic=l("img",null,null,"position: fixed; left: 0; top: 0;");ic.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";ei&&(ic.width=ic.height=1,n.display.wrapper.appendChild(ic),ic._top=ic.offsetTop);Kb.dataTransfer.setDragImage(ic,0,0);ei&&ic.parentNode.removeChild(ic)}},drop:nb(n,Mg),leave:function(Kb){E(n,Kb)||Ef(n)}};var yb=pa.input.getField();rg(yb,"keyup",function(Kb){return Vh.call(n,Kb)});rg(yb,"keydown",nb(n,Yk));rg(yb,"keypress",nb(n,hk));rg(yb,"focus",
function(Kb){return Nb(n,Kb)});rg(yb,"blur",function(Kb){return cc(n,Kb)})}function oi(n,Q,ta,pa){var Oa=n.doc,hb;null==ta&&(ta="add");"smart"==ta&&(Oa.mode.indent?hb=Jb(n,Q).state:ta="prev");var yb=n.options.tabSize,Kb=ma(Oa,Q),ic=V(Kb.text,null,yb);Kb.stateAfter&&(Kb.stateAfter=null);var Bc=Kb.text.match(/^\s*/)[0];if(!pa&&!/\S/.test(Kb.text)){var Lc=0;ta="not"}else if("smart"==ta&&(Lc=Oa.mode.indent(hb,Kb.text.slice(Bc.length),Kb.text),Lc==Tj||150<Lc)){if(!pa)return;ta="prev"}"prev"==ta?Lc=Q>Oa.first?
V(ma(Oa,Q-1).text,null,yb):0:"add"==ta?Lc=ic+n.options.indentUnit:"subtract"==ta?Lc=ic-n.options.indentUnit:"number"==typeof ta&&(Lc=ic+ta);Lc=Math.max(0,Lc);ta="";pa=0;if(n.options.indentWithTabs)for(n=Math.floor(Lc/yb);n;--n)pa+=yb,ta+="\t";pa<Lc&&(ta+=w(Lc-pa));if(ta!=Bc)return Pe(Oa,ta,Gb(Q,0),Gb(Q,Bc.length),"+input"),Kb.stateAfter=null,!0;for(yb=0;yb<Oa.sel.ranges.length;yb++)if(Kb=Oa.sel.ranges[yb],Kb.head.line==Q&&Kb.head.ch<Bc.length){Q=Gb(Q,Bc.length);Qf(Oa,yb,new Wf(Q,Q));break}}function lh(n,
Q,ta,pa,Oa){var hb=n.doc;n.display.shift=!1;pa||(pa=hb.sel);var yb=+new Date-200,Kb="paste"==Oa||n.state.pasteIncoming>yb,ic=Gi(Q),Bc=null;if(Kb&&1<pa.ranges.length)if(Fb&&Fb.text.join("\n")==Q){if(0==pa.ranges.length%Fb.text.length){Bc=[];for(var Lc=0;Lc<Fb.text.length;Lc++)Bc.push(hb.splitLines(Fb.text[Lc]))}}else ic.length==pa.ranges.length&&n.options.pasteLinesPerSelection&&(Bc=I(ic,function(cf){return[cf]}));Lc=n.curOp.updateInput;for(var gd=pa.ranges.length-1;0<=gd;gd--){var Dd=pa.ranges[gd],
Jd=Dd.from(),se=Dd.to();Dd.empty()&&(ta&&0<ta?Jd=Gb(Jd.line,Jd.ch-ta):n.state.overwrite&&!Kb?se=Gb(se.line,Math.min(ma(hb,se.line).text.length,se.ch+x(ic).length)):Kb&&Fb&&Fb.lineWise&&Fb.text.join("\n")==ic.join("\n")&&(Jd=se=Gb(Jd.line,0)));Dd={from:Jd,to:se,text:Bc?Bc[gd%Bc.length]:ic,origin:Oa||(Kb?"paste":n.state.cutIncoming>yb?"cut":"+input")};kc(n.doc,Dd);Oc(n,"inputRead",n,Dd)}Q&&!Kb&&Oh(n,Q);Qc(n);2>n.curOp.updateInput&&(n.curOp.updateInput=Lc);n.curOp.typing=!0;n.state.pasteIncoming=n.state.cutIncoming=
-1}function Xj(n,Q){var ta=n.clipboardData&&n.clipboardData.getData("Text");if(ta)return n.preventDefault(),Q.isReadOnly()||Q.options.disableInput||vb(Q,function(){return lh(Q,ta,0,null,"paste")}),!0}function Oh(n,Q){if(n.options.electricChars&&n.options.smartIndent)for(var ta=n.doc.sel,pa=ta.ranges.length-1;0<=pa;pa--){var Oa=ta.ranges[pa];if(!(100<Oa.head.ch||pa&&ta.ranges[pa-1].head.line==Oa.head.line)){var hb=n.getModeAt(Oa.head),yb=!1;if(hb.electricChars)for(var Kb=0;Kb<hb.electricChars.length;Kb++){if(-1<
Q.indexOf(hb.electricChars.charAt(Kb))){yb=oi(n,Oa.head.line,"smart");break}}else hb.electricInput&&hb.electricInput.test(ma(n.doc,Oa.head.line).text.slice(0,Oa.head.ch))&&(yb=oi(n,Oa.head.line,"smart"));yb&&Oc(n,"electricInput",n,Oa.head.line)}}}function Mh(n){for(var Q=[],ta=[],pa=0;pa<n.doc.sel.ranges.length;pa++){var Oa=n.doc.sel.ranges[pa].head.line;Oa={anchor:Gb(Oa,0),head:Gb(Oa+1,0)};ta.push(Oa);Q.push(n.getRange(Oa.anchor,Oa.head))}return{text:Q,ranges:ta}}function ui(n,Q,ta,pa){n.setAttribute("autocorrect",
ta?"":"off");n.setAttribute("autocapitalize",pa?"":"off");n.setAttribute("spellcheck",!!Q)}function Ti(){var n=l("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),Q=l("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");vg?n.style.width="1000px":n.setAttribute("wrap","off");sj&&(n.style.border="1px solid black");ui(n);return Q}function Kg(n,Q,ta,pa,Oa){function hb(cf){if("codepoint"==pa){var lf=
ic.text.charCodeAt(Q.ch+(0<ta?0:-1));lf=isNaN(lf)?null:new Gb(Q.line,Math.max(0,Math.min(ic.text.length,Q.ch+ta*((0<ta?55296<=lf&&56320>lf:56320<=lf&&57343>lf)?2:1))),-ta)}else lf=Oa?qj(n.cm,ic,Q,ta):vk(ic,Q,ta);if(null==lf){if(cf=!cf)cf=Q.line+Bc,cf<n.first||cf>=n.first+n.size?cf=!1:(Q=new Gb(cf,Q.ch,Q.sticky),cf=ic=ma(n,cf));if(cf)Q=gk(Oa,n.cm,ic,Q.line,Bc);else return!1}else Q=lf;return!0}var yb=Q,Kb=ta,ic=ma(n,Q.line),Bc=Oa&&"rtl"==n.direction?-ta:ta;if("char"==pa||"codepoint"==pa)hb();else if("column"==
pa)hb(!0);else if("word"==pa||"group"==pa)for(var Lc=null,gd="group"==pa,Dd=n.cm&&n.cm.getHelper(Q,"wordChars"),Jd=!0;!(0>ta)||hb(!Jd);Jd=!1){var se=ic.text.charAt(Q.ch)||"\n";se=N(se,Dd)?"w":gd&&"\n"==se?"n":!gd||/\s/.test(se)?null:"p";!gd||Jd||se||(se="s");if(Lc&&Lc!=se){0>ta&&(ta=1,hb(),Q.sticky="after");break}se&&(Lc=se);if(0<ta&&!hb(!Jd))break}Kb=y(n,Q,yb,Kb,!0);sa(yb,Kb)&&(Kb.hitSide=!0);return Kb}function Mj(n,Q,ta,pa){var Oa=n.doc,hb=Q.left;if("page"==pa){var yb=Math.max(Math.min(n.display.wrapper.clientHeight,
window.innerHeight||document.documentElement.clientHeight)-.5*jf(n.display),3);yb=(0<ta?Q.bottom:Q.top)+ta*yb}else"line"==pa&&(yb=0<ta?Q.bottom+3:Q.top-3);for(;;){Q=Xc(n,hb,yb);if(!Q.outside)break;if(0>ta?0>=yb:yb>=Oa.height){Q.hitSide=!0;break}yb+=5*ta}return Q}function Bk(n,Q){var ta=jg(n,Q.line);if(!ta||ta.hidden)return null;var pa=ma(n.doc,Q.line);ta=af(ta,pa,Q.line);n=r(pa,n.doc.direction);pa="left";n&&(pa=K(n,Q.ch)%2?"right":"left");Q=hg(ta.map,Q.ch,pa);Q.offset="right"==Q.collapse?Q.end:Q.start;
return Q}function bk(n){for(;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}function Rj(n,Q){Q&&(n.bad=!0);return n}function Ak(n,Q,ta,pa,Oa){function hb(Jd){return function(se){return se.id==Jd}}function yb(){Lc&&(Bc+=gd,Dd&&(Bc+=gd),Lc=Dd=!1)}function Kb(Jd){Jd&&(yb(),Bc+=Jd)}function ic(Jd){if(1==Jd.nodeType){var se=Jd.getAttribute("cm-text");if(se)Kb(se);else{se=Jd.getAttribute("cm-marker");var cf;if(se)Jd=n.findMarks(Gb(pa,0),Gb(Oa+1,0),hb(+se)),Jd.length&&
(cf=Jd[0].find(0))&&Kb(Aa(n.doc,cf.from,cf.to).join(gd));else if("false"!=Jd.getAttribute("contenteditable")&&(cf=/^(pre|div|p|li|table|br)$/i.test(Jd.nodeName),/^br$/i.test(Jd.nodeName)||0!=Jd.textContent.length)){cf&&yb();for(se=0;se<Jd.childNodes.length;se++)ic(Jd.childNodes[se]);/^(pre|p)$/i.test(Jd.nodeName)&&(Dd=!0);cf&&(Lc=!0)}}}else 3==Jd.nodeType&&Kb(Jd.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Bc="",Lc=!1,gd=n.doc.lineSeparator(),Dd=!1;;){ic(Q);if(Q==ta)break;Q=Q.nextSibling;
Dd=!1}return Bc}function Xg(n,Q,ta){if(Q==n.display.lineDiv){var pa=n.display.lineDiv.childNodes[ta];if(!pa)return Rj(n.clipPos(Gb(n.display.viewTo-1)),!0);Q=null;ta=0}else for(pa=Q;;pa=pa.parentNode){if(!pa||pa==n.display.lineDiv)return null;if(pa.parentNode&&pa.parentNode==n.display.lineDiv)break}for(var Oa=0;Oa<n.display.view.length;Oa++){var hb=n.display.view[Oa];if(hb.node==pa)return ph(hb,Q,ta)}}function ph(n,Q,ta){function pa(Lc,gd,Dd){for(var Jd=-1;Jd<(Bc?Bc.length:0);Jd++)for(var se=0>Jd?
ic.map:Bc[Jd],cf=0;cf<se.length;cf+=3){var lf=se[cf+2];if(lf==Lc||lf==gd){gd=Ea(0>Jd?n.line:n.rest[Jd]);Jd=se[cf]+Dd;if(0>Dd||lf!=Lc)Jd=se[cf+(Dd?1:0)];return Gb(gd,Jd)}}}var Oa=n.text.firstChild,hb=!1;if(!Q||!q(Oa,Q))return Rj(Gb(Ea(n.line),0),!0);if(Q==Oa&&(hb=!0,Q=Oa.childNodes[ta],ta=0,!Q))return ta=n.rest?x(n.rest):n.line,Rj(Gb(Ea(ta),ta.text.length),hb);var yb=3==Q.nodeType?Q:null,Kb=Q;yb||1!=Q.childNodes.length||3!=Q.firstChild.nodeType||(yb=Q.firstChild,ta&&(ta=yb.nodeValue.length));for(;Kb.parentNode!=
Oa;)Kb=Kb.parentNode;var ic=n.measure,Bc=ic.maps;if(Q=pa(yb,Kb,ta))return Rj(Q,hb);Oa=Kb.nextSibling;for(yb=yb?yb.nodeValue.length-ta:0;Oa;Oa=Oa.nextSibling){if(Q=pa(Oa,Oa.firstChild,0))return Rj(Gb(Q.line,Q.ch-yb),hb);yb+=Oa.textContent.length}for(Kb=Kb.previousSibling;Kb;Kb=Kb.previousSibling){if(Q=pa(Kb,Kb.firstChild,-1))return Rj(Gb(Q.line,Q.ch+ta),hb);ta+=Kb.textContent.length}}var xh=navigator.userAgent,ki=navigator.platform,Hh=/gecko\/\d/i.test(xh),ri=/MSIE \d/.test(xh),Fi=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xh),
dj=/Edge\/(\d+)/.exec(xh),Yg=ri||Fi||dj,xg=Yg&&(ri?document.documentMode||6:+(dj||Fi)[1]),vg=!dj&&/WebKit\//.test(xh),ej=vg&&/Qt\/\d+\.\d+/.test(xh),Sj=!dj&&/Chrome\//.test(xh),ei=/Opera\//.test(xh),Lh=/Apple Computer/.test(navigator.vendor),dk=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(xh),kk=/PhantomJS/.test(xh),sj=Lh&&(/Mobile\/\w+/.test(xh)||2<navigator.maxTouchPoints),mi=/Android/.test(xh),Cj=sj||mi||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(xh),Ch=sj||/Mac/.test(ki),ck=/\bCrOS\b/.test(xh),
Ik=/win/i.test(ki),Ej=ei&&xh.match(/Version\/(\d*\.\d*)/);Ej&&(Ej=Number(Ej[1]));Ej&&15<=Ej&&(ei=!1,vg=!0);var Qi=Ch&&(ej||ei&&(null==Ej||12.11>Ej)),qk=Hh||Yg&&9<=xg,Ji=function(n,Q){var ta=n.className;if(Q=k(Q).exec(ta)){var pa=ta.slice(Q.index+Q[0].length);n.className=ta.slice(0,Q.index)+(pa?Q[1]+pa:"")}};var lj=document.createRange?function(n,Q,ta,pa){var Oa=document.createRange();Oa.setEnd(pa||n,ta);Oa.setStart(n,Q);return Oa}:function(n,Q,ta){var pa=document.body.createTextRange();try{pa.moveToElementText(n.parentNode)}catch(Oa){return pa}pa.collapse(!0);
pa.moveEnd("character",ta);pa.moveStart("character",Q);return pa};var Yj=function(n){n.select()};sj?Yj=function(n){n.selectionStart=0;n.selectionEnd=n.value.length}:Yg&&(Yj=function(n){try{n.select()}catch(Q){}});var vj=function(){this.f=this.id=null;this.time=0;this.handler=X(this.onTimeout,this)};vj.prototype.onTimeout=function(n){n.id=0;n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)};vj.prototype.set=function(n,Q){this.f=Q;Q=+new Date+n;if(!this.id||Q<this.time)clearTimeout(this.id),
this.id=setTimeout(this.handler,n),this.time=Q};var Tj={toString:function(){return"CodeMirror.Pass"}},Ag={scroll:!1},ti={origin:"*mouse"},$h={origin:"+move"},Eh=[""],Ck=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,jk=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Qj=null,Li=function(){function n(yb,Kb,ic){this.level=yb;this.from=Kb;this.to=ic}var Q=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,ta=/[stwN]/,pa=/[LRr]/,Oa=/[Lb1n]/,hb=/[1n]/;return function(yb,Kb){var ic="ltr"==Kb?"L":"R";if(0==yb.length||"ltr"==Kb&&!Q.test(yb))return!1;for(var Bc=yb.length,Lc=[],gd=0;gd<Bc;++gd){var Dd=Lc,Jd=Dd.push;var se=yb.charCodeAt(gd);se=247>=se?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(se):
1424<=se&&1524>=se?"R":1536<=se&&1785>=se?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(se-1536):1774<=se&&2220>=se?"r":8192<=se&&8203>=se?"w":8204==se?"b":"L";Jd.call(Dd,se)}gd=0;for(Dd=ic;gd<Bc;++gd)Jd=Lc[gd],"m"==Jd?Lc[gd]=Dd:Dd=Jd;gd=0;for(Dd=ic;gd<Bc;++gd)Jd=Lc[gd],"1"==Jd&&"r"==Dd?
Lc[gd]="n":pa.test(Jd)&&(Dd=Jd,"r"==Jd&&(Lc[gd]="R"));gd=1;for(Dd=Lc[0];gd<Bc-1;++gd)Jd=Lc[gd],"+"==Jd&&"1"==Dd&&"1"==Lc[gd+1]?Lc[gd]="1":","!=Jd||Dd!=Lc[gd+1]||"1"!=Dd&&"n"!=Dd||(Lc[gd]=Dd),Dd=Jd;for(gd=0;gd<Bc;++gd)if(Dd=Lc[gd],","==Dd)Lc[gd]="N";else if("%"==Dd){for(Dd=gd+1;Dd<Bc&&"%"==Lc[Dd];++Dd);for(Jd=gd&&"!"==Lc[gd-1]||Dd<Bc&&"1"==Lc[Dd]?"1":"N";gd<Dd;++gd)Lc[gd]=Jd;gd=Dd-1}gd=0;for(Dd=ic;gd<Bc;++gd)Jd=Lc[gd],"L"==Dd&&"1"==Jd?Lc[gd]="L":pa.test(Jd)&&(Dd=Jd);for(Dd=0;Dd<Bc;++Dd)if(ta.test(Lc[Dd])){for(gd=
Dd+1;gd<Bc&&ta.test(Lc[gd]);++gd);Jd="L"==(Dd?Lc[Dd-1]:ic);for(Jd=Jd==("L"==(gd<Bc?Lc[gd]:ic))?Jd?"L":"R":ic;Dd<gd;++Dd)Lc[Dd]=Jd;Dd=gd-1}ic=[];var cf;for(gd=0;gd<Bc;)if(Oa.test(Lc[gd])){Dd=gd;for(++gd;gd<Bc&&Oa.test(Lc[gd]);++gd);ic.push(new n(0,Dd,gd))}else{var lf=gd;Dd=ic.length;Jd="rtl"==Kb?1:0;for(++gd;gd<Bc&&"L"!=Lc[gd];++gd);for(se=lf;se<gd;)if(hb.test(Lc[se])){lf<se&&(ic.splice(Dd,0,new n(1,lf,se)),Dd+=Jd);lf=se;for(++se;se<gd&&hb.test(Lc[se]);++se);ic.splice(Dd,0,new n(2,lf,se));Dd+=Jd;lf=
se}else++se;lf<gd&&ic.splice(Dd,0,new n(1,lf,gd))}"ltr"==Kb&&(1==ic[0].level&&(cf=yb.match(/^\s+/))&&(ic[0].from=cf[0].length,ic.unshift(new n(0,0,cf[0].length))),1==x(ic).level&&(cf=yb.match(/\s+$/))&&(x(ic).to-=cf[0].length,ic.push(new n(0,Bc-cf[0].length,Bc))));return"rtl"==Kb?ic.reverse():ic}}(),aj=[],rg=function(n,Q,ta){n.addEventListener?n.addEventListener(Q,ta,!1):n.attachEvent?n.attachEvent("on"+Q,ta):(n=n._handlers||(n._handlers={}),n[Q]=(n[Q]||aj).concat(ta))},mj=function(){if(Yg&&9>xg)return!1;
var n=l("div");return"draggable"in n||"dragDrop"in n}(),Rk,wj,Gi=3!="\n\nb".split(/\n/).length?function(n){for(var Q=0,ta=[],pa=n.length;Q<=pa;){var Oa=n.indexOf("\n",Q);-1==Oa&&(Oa=n.length);var hb=n.slice(Q,"\r"==n.charAt(Oa-1)?Oa-1:Oa),yb=hb.indexOf("\r");-1!=yb?(ta.push(hb.slice(0,yb)),Q+=yb+1):(ta.push(hb),Q=Oa+1)}return ta}:function(n){return n.split(/\r\n?|\n/)},Fj=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch(Q){return!1}}:function(n){try{var Q=n.ownerDocument.selection.createRange()}catch(ta){}return Q&&
Q.parentElement()==n?0!=Q.compareEndPoints("StartToEnd",Q):!1},fj=function(){var n=l("div");if("oncopy"in n)return!0;n.setAttribute("oncopy","return;");return"function"==typeof n.oncopy}(),Ph=null,sh={},uh={},hi={},ii=function(n,Q,ta){this.pos=this.start=0;this.string=n;this.tabSize=Q||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=ta};ii.prototype.eol=function(){return this.pos>=this.string.length};ii.prototype.sol=function(){return this.pos==this.lineStart};ii.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};ii.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};ii.prototype.eat=function(n){var Q=this.string.charAt(this.pos);if("string"==typeof n?Q==n:Q&&(n.test?n.test(Q):n(Q)))return++this.pos,Q};ii.prototype.eatWhile=function(n){for(var Q=this.pos;this.eat(n););return this.pos>Q};ii.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
n};ii.prototype.skipToEnd=function(){this.pos=this.string.length};ii.prototype.skipTo=function(n){n=this.string.indexOf(n,this.pos);if(-1<n)return this.pos=n,!0};ii.prototype.backUp=function(n){this.pos-=n};ii.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=V(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?V(this.string,this.lineStart,this.tabSize):0)};ii.prototype.indentation=
function(){return V(this.string,null,this.tabSize)-(this.lineStart?V(this.string,this.lineStart,this.tabSize):0)};ii.prototype.match=function(n,Q,ta){if("string"==typeof n){var pa=function(hb){return ta?hb.toLowerCase():hb},Oa=this.string.substr(this.pos,n.length);if(pa(Oa)==pa(n))return!1!==Q&&(this.pos+=n.length),!0}else{if((n=this.string.slice(this.pos).match(n))&&0<n.index)return null;n&&!1!==Q&&(this.pos+=n[0].length);return n}};ii.prototype.current=function(){return this.string.slice(this.start,
this.pos)};ii.prototype.hideFirstChars=function(n,Q){this.lineStart+=n;try{return Q()}finally{this.lineStart-=n}};ii.prototype.lookAhead=function(n){var Q=this.lineOracle;return Q&&Q.lookAhead(n)};ii.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};var Gj=function(n,Q){this.state=n;this.lookAhead=Q},Ih=function(n,Q,ta,pa){this.state=Q;this.doc=n;this.line=ta;this.maxLookAhead=pa||0;this.baseTokens=null;this.baseTokenPos=1};Ih.prototype.lookAhead=function(n){var Q=
this.doc.getLine(this.line+n);null!=Q&&n>this.maxLookAhead&&(this.maxLookAhead=n);return Q};Ih.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var Q=this.baseTokens[this.baseTokenPos+1];return{type:Q&&Q.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}};Ih.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};Ih.fromSaved=function(n,Q,ta){return Q instanceof Gj?new Ih(n,
La(n.mode,Q.state),ta,Q.lookAhead):new Ih(n,La(n.mode,Q),ta)};Ih.prototype.save=function(n){n=!1!==n?La(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Gj(n,this.maxLookAhead):n};var nj=function(n,Q,ta){this.start=n.start;this.end=n.pos;this.string=n.current();this.type=Q||null;this.state=ta},hj=!1,ji=!1,ek=function(n,Q,ta){this.text=n;Ld(this,Q);this.height=ta?ta(this):1};ek.prototype.lineNo=function(){return Ea(this)};fa(ek);var Uj={},Jk={},Hj=null,kj=null,Fk={left:0,right:0,
top:0,bottom:0},wh,gj=function(n,Q,ta){this.cm=ta;var pa=this.vert=l("div",[l("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),Oa=this.horiz=l("div",[l("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");pa.tabIndex=Oa.tabIndex=-1;n(pa);n(Oa);rg(pa,"scroll",function(){pa.clientHeight&&Q(pa.scrollTop,"vertical")});rg(Oa,"scroll",function(){Oa.clientWidth&&Q(Oa.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;Yg&&8>xg&&(this.horiz.style.minHeight=this.vert.style.minWidth=
"18px")};gj.prototype.update=function(n){var Q=n.scrollWidth>n.clientWidth+1,ta=n.scrollHeight>n.clientHeight+1,pa=n.nativeBarWidth;ta?(this.vert.style.display="block",this.vert.style.bottom=Q?pa+"px":"0",this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+(n.viewHeight-(Q?pa:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0");Q?(this.horiz.style.display="block",this.horiz.style.right=ta?pa+"px":"0",this.horiz.style.left=n.barLeft+
"px",this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+(n.viewWidth-n.barLeft-(ta?pa:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<n.clientHeight&&(0==pa&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:ta?pa:0,bottom:Q?pa:0}};gj.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};gj.prototype.setScrollTop=
function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};gj.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=Ch&&!dk?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new vj;this.disableVert=new vj};gj.prototype.enableZeroWidthBar=function(n,Q,ta){function pa(){var Oa=n.getBoundingClientRect();("vert"==ta?document.elementFromPoint(Oa.right-
1,(Oa.top+Oa.bottom)/2):document.elementFromPoint((Oa.right+Oa.left)/2,Oa.bottom-1))!=n?n.style.pointerEvents="none":Q.set(1E3,pa)}n.style.pointerEvents="auto";Q.set(1E3,pa)};gj.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz);n.removeChild(this.vert)};var ik=function(){};ik.prototype.update=function(){return{bottom:0,right:0}};ik.prototype.setScrollLeft=function(){};ik.prototype.setScrollTop=function(){};ik.prototype.clear=function(){};var Mi={"native":gj,"null":ik},
Kk=0,xj=function(n,Q,ta){var pa=n.display;this.viewport=Q;this.visible=jb(pa,n.doc,Q);this.editorIsHidden=!pa.wrapper.offsetWidth;this.wrapperHeight=pa.wrapper.clientHeight;this.wrapperWidth=pa.wrapper.clientWidth;this.oldDisplayWidth=qf(n);this.force=ta;this.dims=Xf(n);this.events=[]};xj.prototype.signal=function(n,Q){W(n,Q)&&this.events.push(arguments)};xj.prototype.finish=function(){for(var n=0;n<this.events.length;n++)Z.apply(null,this.events[n])};var Rh=0,Ni=null;Yg?Ni=-.53:Hh?Ni=15:Sj?Ni=-.7:
Lh&&(Ni=-1/3);var vi=function(n,Q){this.ranges=n;this.primIndex=Q};vi.prototype.primary=function(){return this.ranges[this.primIndex]};vi.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var Q=0;Q<this.ranges.length;Q++){var ta=this.ranges[Q],pa=n.ranges[Q];if(!sa(ta.anchor,pa.anchor)||!sa(ta.head,pa.head))return!1}return!0};vi.prototype.deepCopy=function(){for(var n=[],Q=0;Q<this.ranges.length;Q++)n[Q]=new Wf(ra(this.ranges[Q].anchor),
ra(this.ranges[Q].head));return new vi(n,this.primIndex)};vi.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1};vi.prototype.contains=function(n,Q){Q||(Q=n);for(var ta=0;ta<this.ranges.length;ta++){var pa=this.ranges[ta];if(0<=Wb(Q,pa.from())&&0>=Wb(n,pa.to()))return ta}return-1};var Wf=function(n,Q){this.anchor=n;this.head=Q};Wf.prototype.from=function(){return Ia(this.anchor,this.head)};Wf.prototype.to=function(){return xa(this.anchor,
this.head)};Wf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};vf.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,Q){for(var ta=n,pa=n+Q;ta<pa;++ta){var Oa=this.lines[ta];this.height-=Oa.height;var hb=Oa;hb.parent=null;Bd(hb);Oc(Oa,"delete")}this.lines.splice(n,Q)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,Q,ta){this.height+=ta;this.lines=this.lines.slice(0,n).concat(Q).concat(this.lines.slice(n));
for(n=0;n<Q.length;++n)Q[n].parent=this},iterN:function(n,Q,ta){for(Q=n+Q;n<Q;++n)if(ta(this.lines[n]))return!0}};df.prototype={chunkSize:function(){return this.size},removeInner:function(n,Q){this.size-=Q;for(var ta=0;ta<this.children.length;++ta){var pa=this.children[ta],Oa=pa.chunkSize();if(n<Oa){var hb=Math.min(Q,Oa-n),yb=pa.height;pa.removeInner(n,hb);this.height-=yb-pa.height;Oa==hb&&(this.children.splice(ta--,1),pa.parent=null);if(0==(Q-=hb))break;n=0}else n-=Oa}25>this.size-Q&&(1<this.children.length||
!(this.children[0]instanceof vf))&&(n=[],this.collapse(n),this.children=[new vf(n)],this.children[0].parent=this)},collapse:function(n){for(var Q=0;Q<this.children.length;++Q)this.children[Q].collapse(n)},insertInner:function(n,Q,ta){this.size+=Q.length;this.height+=ta;for(var pa=0;pa<this.children.length;++pa){var Oa=this.children[pa],hb=Oa.chunkSize();if(n<=hb){Oa.insertInner(n,Q,ta);if(Oa.lines&&50<Oa.lines.length){for(Q=n=Oa.lines.length%25+25;Q<Oa.lines.length;)ta=new vf(Oa.lines.slice(Q,Q+=
25)),Oa.height-=ta.height,this.children.splice(++pa,0,ta),ta.parent=this;Oa.lines=Oa.lines.slice(0,n);this.maybeSpill()}break}n-=hb}},maybeSpill:function(){if(!(10>=this.children.length)){var n=this;do{var Q=n.children.splice(n.children.length-5,5);Q=new df(Q);if(n.parent){n.size-=Q.size;n.height-=Q.height;var ta=F(n.parent.children,n);n.parent.children.splice(ta+1,0,Q)}else ta=new df(n.children),ta.parent=n,n.children=[ta,Q],n=ta;Q.parent=n.parent}while(10<n.children.length);n.parent.maybeSpill()}},
iterN:function(n,Q,ta){for(var pa=0;pa<this.children.length;++pa){var Oa=this.children[pa],hb=Oa.chunkSize();if(n<hb){hb=Math.min(Q,hb-n);if(Oa.iterN(n,hb,ta))return!0;if(0==(Q-=hb))break;n=0}else n-=hb}}};var Dj=function(n,Q,ta){if(ta)for(var pa in ta)ta.hasOwnProperty(pa)&&(this[pa]=ta[pa]);this.doc=n;this.node=Q};Dj.prototype.clear=function(){var n=this.doc.cm,Q=this.line.widgets,ta=this.line,pa=Ea(ta);if(null!=pa&&Q){for(var Oa=0;Oa<Q.length;++Oa)Q[Oa]==this&&Q.splice(Oa--,1);Q.length||(ta.widgets=
null);var hb=cd(this);Qa(ta,Math.max(0,ta.height-hb));n&&(vb(n,function(){var yb=-hb;te(ta)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&pc(n,yb);he(n,pa,"widget")}),Oc(n,"lineWidgetCleared",n,this,pa))}};Dj.prototype.changed=function(){var n=this,Q=this.height,ta=this.doc.cm,pa=this.line;this.height=null;var Oa=cd(this)-Q;Oa&&(Qd(this.doc,pa)||Qa(pa,pa.height+Oa),ta&&vb(ta,function(){ta.curOp.forceUpdate=!0;te(pa)<(ta.curOp&&ta.curOp.scrollTop||ta.doc.scrollTop)&&pc(ta,Oa);Oc(ta,"lineWidgetChanged",
ta,n,Ea(pa))}))};fa(Dj);var Dk=0,Ci=function(n,Q){this.lines=[];this.type=Q;this.doc=n;this.id=++Dk};Ci.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,Q=n&&!n.curOp;Q&&Ma(n);if(W(this,"clear")){var ta=this.find();ta&&Oc(this,"clear",ta.from,ta.to)}for(var pa=ta=null,Oa=0;Oa<this.lines.length;++Oa){var hb=this.lines[Oa],yb=Vd(hb.markedSpans,this);n&&!this.collapsed?he(n,Ea(hb),"text"):n&&(null!=yb.to&&(pa=Ea(hb)),null!=yb.from&&(ta=Ea(hb)));for(var Kb=hb,ic=void 0,Bc=hb.markedSpans,
Lc=yb,gd=0;gd<Bc.length;++gd)Bc[gd]!=Lc&&(ic||(ic=[])).push(Bc[gd]);Kb.markedSpans=ic;null==yb.from&&this.collapsed&&!Qd(this.doc,hb)&&n&&Qa(hb,jf(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(Oa=0;Oa<this.lines.length;++Oa)hb=nd(this.lines[Oa]),yb=Bb(hb),yb>n.display.maxLineLength&&(n.display.maxLine=hb,n.display.maxLineLength=yb,n.display.maxLineChanged=!0);null!=ta&&n&&this.collapsed&&Kf(n,ta,pa+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=
!1,n&&gc(n.doc));n&&Oc(n,"markerCleared",n,this,ta,pa);Q&&lb(n);this.parent&&this.parent.clear()}};Ci.prototype.find=function(n,Q){null==n&&"bookmark"==this.type&&(n=1);for(var ta,pa,Oa=0;Oa<this.lines.length;++Oa){var hb=this.lines[Oa],yb=Vd(hb.markedSpans,this);if(null!=yb.from&&(ta=Gb(Q?hb:Ea(hb),yb.from),-1==n))return ta;if(null!=yb.to&&(pa=Gb(Q?hb:Ea(hb),yb.to),1==n))return pa}return ta&&{from:ta,to:pa}};Ci.prototype.changed=function(){var n=this,Q=this.find(-1,!0),ta=this,pa=this.doc.cm;Q&&
pa&&vb(pa,function(){var Oa=Q.line,hb=Ea(Q.line);if(hb=jg(pa,hb))zg(hb),pa.curOp.selectionChanged=pa.curOp.forceUpdate=!0;pa.curOp.updateMaxLine=!0;Qd(ta.doc,Oa)||null==ta.height||(hb=ta.height,ta.height=null,(hb=cd(ta)-hb)&&Qa(Oa,Oa.height+hb));Oc(pa,"markerChanged",pa,n)})};Ci.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var Q=this.doc.cm.curOp;Q.maybeHiddenMarkers&&-1!=F(Q.maybeHiddenMarkers,this)||(Q.maybeUnhiddenMarkers||(Q.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)};
Ci.prototype.detachLine=function(n){this.lines.splice(F(this.lines,n),1);!this.lines.length&&this.doc.cm&&(n=this.doc.cm.curOp,(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this))};fa(Ci);var Hi=function(n,Q){this.markers=n;this.primary=Q;for(Q=0;Q<n.length;++Q)n[Q].parent=this};Hi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();Oc(this,"clear")}};Hi.prototype.find=function(n,Q){return this.primary.find(n,
Q)};fa(Hi);var wk=0,Di=function(n,Q,ta,pa,Oa){if(!(this instanceof Di))return new Di(n,Q,ta,pa,Oa);null==ta&&(ta=0);df.call(this,[new vf([new ek("",null)])]);this.first=ta;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=ta;ta=Gb(ta,0);this.sel=Vb(ta);this.history=new pb(null);this.id=++wk;this.modeOption=Q;this.lineSep=pa;this.direction="rtl"==Oa?"rtl":"ltr";this.extend=!1;"string"==typeof n&&(n=this.splitLines(n));wd(this,{from:ta,
to:ta,text:n});id(this,Vb(ta),Ag)};Di.prototype=v(df.prototype,{constructor:Di,iter:function(n,Q,ta){ta?this.iterN(n-this.first,Q-n,ta):this.iterN(this.first,this.first+this.size,n)},insert:function(n,Q){for(var ta=0,pa=0;pa<Q.length;++pa)ta+=Q[pa].height;this.insertInner(n-this.first,Q,ta)},remove:function(n,Q){this.removeInner(n-this.first,Q)},getValue:function(n){var Q=Da(this,this.first,this.first+this.size);return!1===n?Q:Q.join(n||this.lineSeparator())},setValue:yc(function(n){var Q=Gb(this.first,
0),ta=this.first+this.size-1;kc(this,{from:Q,to:Gb(ta,ma(this,ta).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0);this.cm&&Cc(this.cm,0,0);id(this,Vb(Q),Ag)}),replaceRange:function(n,Q,ta,pa){Q=bb(this,Q);ta=ta?bb(this,ta):Q;Pe(this,n,Q,ta,pa)},getRange:function(n,Q,ta){n=Aa(this,bb(this,n),bb(this,Q));return!1===ta?n:""===ta?n.join(""):n.join(ta||this.lineSeparator())},getLine:function(n){return(n=this.getLineHandle(n))&&n.text},getLineHandle:function(n){if(cb(this,n))return ma(this,
n)},getLineNumber:function(n){return Ea(n)},getLineHandleVisualStart:function(n){"number"==typeof n&&(n=ma(this,n));return nd(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return bb(this,n)},getCursor:function(n){var Q=this.sel.primary();return null==n||"head"==n?Q.head:"anchor"==n?Q.anchor:"end"==n||"to"==n||!1===n?Q.to():Q.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},
setCursor:yc(function(n,Q,ta){n=bb(this,"number"==typeof n?Gb(n,Q||0):n);id(this,Vb(n,null),ta)}),setSelection:yc(function(n,Q,ta){var pa=bb(this,n);n=bb(this,Q||n);id(this,Vb(pa,n),ta)}),extendSelection:yc(function(n,Q,ta){xe(this,bb(this,n),Q&&bb(this,Q),ta)}),extendSelections:yc(function(n,Q){Af(this,Hb(this,n),Q)}),extendSelectionsBy:yc(function(n,Q){n=I(this.sel.ranges,n);Af(this,Hb(this,n),Q)}),setSelections:yc(function(n,Q,ta){if(n.length){for(var pa=[],Oa=0;Oa<n.length;Oa++)pa[Oa]=new Wf(bb(this,
n[Oa].anchor),bb(this,n[Oa].head||n[Oa].anchor));null==Q&&(Q=Math.min(n.length-1,this.sel.primIndex));id(this,Lb(this.cm,pa,Q),ta)}}),addSelection:yc(function(n,Q,ta){var pa=this.sel.ranges.slice(0);pa.push(new Wf(bb(this,n),bb(this,Q||n)));id(this,Lb(this.cm,pa,pa.length-1),ta)}),getSelection:function(n){for(var Q=this.sel.ranges,ta,pa=0;pa<Q.length;pa++){var Oa=Aa(this,Q[pa].from(),Q[pa].to());ta=ta?ta.concat(Oa):Oa}return!1===n?ta:ta.join(n||this.lineSeparator())},getSelections:function(n){for(var Q=
[],ta=this.sel.ranges,pa=0;pa<ta.length;pa++){var Oa=Aa(this,ta[pa].from(),ta[pa].to());!1!==n&&(Oa=Oa.join(n||this.lineSeparator()));Q[pa]=Oa}return Q},replaceSelection:function(n,Q,ta){for(var pa=[],Oa=0;Oa<this.sel.ranges.length;Oa++)pa[Oa]=n;this.replaceSelections(pa,Q,ta||"+input")},replaceSelections:yc(function(n,Q,ta){for(var pa=[],Oa=this.sel,hb=0;hb<Oa.ranges.length;hb++){var yb=Oa.ranges[hb];pa[hb]={from:yb.from(),to:yb.to(),text:this.splitLines(n[hb]),origin:ta}}if(n=Q&&"end"!=Q){n=[];
Oa=ta=Gb(this.first,0);for(hb=0;hb<pa.length;hb++){var Kb=pa[hb];yb=Yc(Kb.from,ta,Oa);var ic=Yc(hc(Kb),ta,Oa);ta=Kb.to;Oa=ic;"around"==Q?(Kb=this.sel.ranges[hb],Kb=0>Wb(Kb.head,Kb.anchor),n[hb]=new Wf(Kb?ic:yb,Kb?yb:ic)):n[hb]=new Wf(yb,yb)}n=new vi(n,this.sel.primIndex)}Q=n;for(n=pa.length-1;0<=n;n--)kc(this,pa[n]);Q?td(this,Q):this.cm&&Qc(this.cm)}),undo:yc(function(){zd(this,"undo")}),redo:yc(function(){zd(this,"redo")}),undoSelection:yc(function(){zd(this,"undo",!0)}),redoSelection:yc(function(){zd(this,
"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,Q=0,ta=0,pa=0;pa<n.done.length;pa++)n.done[pa].ranges||++Q;for(pa=0;pa<n.undone.length;pa++)n.undone[pa].ranges||++ta;return{undo:Q,redo:ta}},clearHistory:function(){var n=this;this.history=new pb(this.history);Xd(this,function(Q){return Q.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){n&&
(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:je(this.history.done),undone:je(this.history.undone)}},setHistory:function(n){var Q=this.history=new pb(this.history);Q.done=je(n.done.slice(0),null,!0);Q.undone=je(n.undone.slice(0),null,!0)},setGutterMarker:yc(function(n,Q,ta){return gg(this,n,"gutter",function(pa){var Oa=pa.gutterMarkers||
(pa.gutterMarkers={});Oa[Q]=ta;!ta&&A(Oa)&&(pa.gutterMarkers=null);return!0})}),clearGutter:yc(function(n){var Q=this;this.iter(function(ta){ta.gutterMarkers&&ta.gutterMarkers[n]&&gg(Q,ta,"gutter",function(){ta.gutterMarkers[n]=null;A(ta.gutterMarkers)&&(ta.gutterMarkers=null);return!0})})}),lineInfo:function(n){if("number"==typeof n){if(!cb(this,n))return null;var Q=n;n=ma(this,n);if(!n)return null}else if(Q=Ea(n),null==Q)return null;return{line:Q,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,
textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:yc(function(n,Q,ta){return gg(this,n,"gutter"==Q?"gutter":"class",function(pa){var Oa="text"==Q?"textClass":"background"==Q?"bgClass":"gutter"==Q?"gutterClass":"wrapClass";if(pa[Oa]){if(k(ta).test(pa[Oa]))return!1;pa[Oa]+=" "+ta}else pa[Oa]=ta;return!0})}),removeLineClass:yc(function(n,Q,ta){return gg(this,n,"gutter"==Q?"gutter":"class",function(pa){var Oa="text"==Q?"textClass":"background"==Q?"bgClass":
"gutter"==Q?"gutterClass":"wrapClass",hb=pa[Oa];if(hb)if(null==ta)pa[Oa]=null;else{var yb=hb.match(k(ta));if(!yb)return!1;var Kb=yb.index+yb[0].length;pa[Oa]=hb.slice(0,yb.index)+(yb.index&&Kb!=hb.length?" ":"")+hb.slice(Kb)||null}else return!1;return!0})}),addLineWidget:yc(function(n,Q,ta){return Gf(this,n,Q,ta)}),removeLineWidget:function(n){n.clear()},markText:function(n,Q,ta){return ug(this,bb(this,n),bb(this,Q),ta,ta&&ta.type||"range")},setBookmark:function(n,Q){Q={replacedWith:Q&&(null==Q.nodeType?
Q.widget:Q),insertLeft:Q&&Q.insertLeft,clearWhenEmpty:!1,shared:Q&&Q.shared,handleMouseEvents:Q&&Q.handleMouseEvents};n=bb(this,n);return ug(this,n,n,Q,"bookmark")},findMarksAt:function(n){n=bb(this,n);var Q=[],ta=ma(this,n.line).markedSpans;if(ta)for(var pa=0;pa<ta.length;++pa){var Oa=ta[pa];(null==Oa.from||Oa.from<=n.ch)&&(null==Oa.to||Oa.to>=n.ch)&&Q.push(Oa.marker.parent||Oa.marker)}return Q},findMarks:function(n,Q,ta){n=bb(this,n);Q=bb(this,Q);var pa=[],Oa=n.line;this.iter(n.line,Q.line+1,function(hb){if(hb=
hb.markedSpans)for(var yb=0;yb<hb.length;yb++){var Kb=hb[yb];null!=Kb.to&&Oa==n.line&&n.ch>=Kb.to||null==Kb.from&&Oa!=n.line||null!=Kb.from&&Oa==Q.line&&Kb.from>=Q.ch||ta&&!ta(Kb.marker)||pa.push(Kb.marker.parent||Kb.marker)}++Oa});return pa},getAllMarks:function(){var n=[];this.iter(function(Q){if(Q=Q.markedSpans)for(var ta=0;ta<Q.length;++ta)null!=Q[ta].from&&n.push(Q[ta].marker)});return n},posFromIndex:function(n){var Q,ta=this.first,pa=this.lineSeparator().length;this.iter(function(Oa){Oa=Oa.text.length+
pa;if(Oa>n)return Q=n,!0;n-=Oa;++ta});return bb(this,Gb(ta,Q))},indexFromPos:function(n){n=bb(this,n);var Q=n.ch;if(n.line<this.first||0>n.ch)return 0;var ta=this.lineSeparator().length;this.iter(this.first,n.line,function(pa){Q+=pa.text.length+ta});return Q},copy:function(n){var Q=new Di(Da(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);Q.scrollTop=this.scrollTop;Q.scrollLeft=this.scrollLeft;Q.sel=this.sel;Q.extend=!1;n&&(Q.history.undoDepth=this.history.undoDepth,
Q.setHistory(this.getHistory()));return Q},linkedDoc:function(n){n||(n={});var Q=this.first,ta=this.first+this.size;null!=n.from&&n.from>Q&&(Q=n.from);null!=n.to&&n.to<ta&&(ta=n.to);Q=new Di(Da(this,Q,ta),n.mode||this.modeOption,Q,this.lineSep,this.direction);n.sharedHist&&(Q.history=this.history);(this.linked||(this.linked=[])).push({doc:Q,sharedHist:n.sharedHist});Q.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}];n=Vg(this);for(ta=0;ta<n.length;ta++){var pa=n[ta],Oa=pa.find(),hb=Q.clipPos(Oa.from);
Oa=Q.clipPos(Oa.to);Wb(hb,Oa)&&(hb=ug(Q,hb,Oa,pa.primary,pa.primary.type),pa.markers.push(hb),hb.parent=pa)}return Q},unlinkDoc:function(n){n instanceof Kh&&(n=n.doc);if(this.linked)for(var Q=0;Q<this.linked.length;++Q)if(this.linked[Q].doc==n){this.linked.splice(Q,1);n.unlinkDoc(this);ch(Vg(this));break}if(n.history==this.history){var ta=[n.id];Xd(n,function(pa){return ta.push(pa.id)},!0);n.history=new pb(null);n.history.done=je(this.history.done,ta);n.history.undone=je(this.history.undone,ta)}},
iterLinkedDocs:function(n){Xd(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):Gi(n)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:yc(function(n){"rtl"!=n&&(n="ltr");n!=this.direction&&(this.direction=n,this.iter(function(Q){return Q.order=null}),this.cm&&Ua(this.cm))})});Di.prototype.eachLine=Di.prototype.iter;for(var Dh=0,bi=!1,wb={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",
17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",
63277:"PageDown",63302:"Insert"},Yb=0;10>Yb;Yb++)wb[Yb+48]=wb[Yb+96]=String(Yb);for(var oc=65;90>=oc;oc++)wb[oc]=String.fromCharCode(oc);for(var tc=1;12>=tc;tc++)wb[tc+111]=wb[tc+63235]="F"+tc;var xc={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",
Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace",
"Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},
macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",
"Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};xc["default"]=Ch?xc.macDefault:xc.pcDefault;var qa={selectAll:fb,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),Ag)},killLine:function(n){return Kj(n,function(Q){if(Q.empty()){var ta=ma(n.doc,Q.head.line).text.length;
return Q.head.ch==ta&&Q.head.line<n.lastLine()?{from:Q.head,to:Gb(Q.head.line+1,0)}:{from:Q.head,to:Gb(Q.head.line,ta)}}return{from:Q.from(),to:Q.to()}})},deleteLine:function(n){return Kj(n,function(Q){return{from:Gb(Q.from().line,0),to:bb(n.doc,Gb(Q.to().line+1,0))}})},delLineLeft:function(n){return Kj(n,function(Q){return{from:Gb(Q.from().line,0),to:Q.from()}})},delWrappedLineLeft:function(n){return Kj(n,function(Q){var ta=n.charCoords(Q.head,"div").top+5;return{from:n.coordsChar({left:0,top:ta},
"div"),to:Q.from()}})},delWrappedLineRight:function(n){return Kj(n,function(Q){var ta=n.charCoords(Q.head,"div").top+5;ta=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:ta},"div");return{from:Q.from(),to:ta}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(Gb(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(Gb(n.lastLine()))},
goLineStart:function(n){return n.extendSelectionsBy(function(Q){return vh(n,Q.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(Q){return Ek(n,Q.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(Q){Q=Q.head.line;var ta=ma(n.doc,Q);var pa=ta;for(var Oa;Oa=Ee(pa,!1);)pa=Oa.find(1,!0).line;pa!=ta&&(Q=Ea(pa));return gk(!0,n,ta,Q,-1)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(Q){Q=
n.cursorCoords(Q.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:Q},"div")},$h)},goLineLeft:function(n){return n.extendSelectionsBy(function(Q){Q=n.cursorCoords(Q.head,"div").top+5;return n.coordsChar({left:0,top:Q},"div")},$h)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(Q){var ta=n.cursorCoords(Q.head,"div").top+5;ta=n.coordsChar({left:0,top:ta},"div");return ta.ch<n.getLine(ta.line).search(/\S/)?Ek(n,Q.head):ta},$h)},goLineUp:function(n){return n.moveV(-1,
"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,
"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},
indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("\t")},insertSoftTab:function(n){for(var Q=[],ta=n.listSelections(),pa=n.options.tabSize,Oa=0;Oa<ta.length;Oa++){var hb=ta[Oa].from();hb=V(n.getLine(hb.line),hb.ch,pa);Q.push(w(pa-hb%pa))}n.replaceSelections(Q)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return vb(n,function(){for(var Q=n.listSelections(),ta=
[],pa=0;pa<Q.length;pa++)if(Q[pa].empty()){var Oa=Q[pa].head,hb=ma(n.doc,Oa.line).text;if(hb)if(Oa.ch==hb.length&&(Oa=new Gb(Oa.line,Oa.ch-1)),0<Oa.ch)Oa=new Gb(Oa.line,Oa.ch+1),n.replaceRange(hb.charAt(Oa.ch-1)+hb.charAt(Oa.ch-2),Gb(Oa.line,Oa.ch-2),Oa,"+transpose");else if(Oa.line>n.doc.first){var yb=ma(n.doc,Oa.line-1).text;yb&&(Oa=new Gb(Oa.line,1),n.replaceRange(hb.charAt(0)+n.doc.lineSeparator()+yb.charAt(yb.length-1),Gb(Oa.line-1,yb.length-1),Oa,"+transpose"))}ta.push(new Wf(Oa,Oa))}n.setSelections(ta)})},
newlineAndIndent:function(n){return vb(n,function(){for(var Q=n.listSelections(),ta=Q.length-1;0<=ta;ta--)n.replaceRange(n.doc.lineSeparator(),Q[ta].anchor,Q[ta].head,"+input");Q=n.listSelections();for(ta=0;ta<Q.length;ta++)n.indentLine(Q[ta].from().line,null,!0);Qc(n)})},openLine:function(n){return n.replaceSelection("\n","start")},toggleOverwrite:function(n){return n.toggleOverwrite()}},ka=new vj,Ja=null,G=function(n,Q,ta){this.time=n;this.pos=Q;this.button=ta};G.prototype.compare=function(n,Q,
ta){return this.time+400>n&&0==Wb(Q,this.pos)&&ta==this.button};var ca,ya,Ka={toString:function(){return"CodeMirror.Init"}},ab={},ob={};Kh.defaults=ab;Kh.optionHandlers=ob;var rb=[];Kh.defineInitHook=function(n){return rb.push(n)};var Fb=null,qb=function(n){this.cm=n;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new vj;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};qb.prototype.init=function(n){function Q(Kb){for(Kb=Kb.target;Kb;Kb=
Kb.parentNode){if(Kb==yb)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Kb.className))break}return!1}function ta(Kb){if(Q(Kb)&&!E(hb,Kb)){if(hb.somethingSelected())Fb={lineWise:!1,text:hb.getSelections()},"cut"==Kb.type&&hb.replaceSelection("",null,"cut");else if(hb.options.lineWiseCopyCut){var ic=Mh(hb);Fb={lineWise:!0,text:ic.text};"cut"==Kb.type&&hb.operation(function(){hb.setSelections(ic.ranges,0,Ag);hb.replaceSelection("",null,"cut")})}else return;if(Kb.clipboardData){Kb.clipboardData.clearData();
var Bc=Fb.text.join("\n");Kb.clipboardData.setData("Text",Bc);if(Kb.clipboardData.getData("Text")==Bc){Kb.preventDefault();return}}var Lc=Ti();Kb=Lc.firstChild;hb.display.lineSpace.insertBefore(Lc,hb.display.lineSpace.firstChild);Kb.value=Fb.text.join("\n");var gd=D();Yj(Kb);setTimeout(function(){hb.display.lineSpace.removeChild(Lc);gd.focus();gd==yb&&Oa.showPrimarySelection()},50)}}var pa=this,Oa=this,hb=Oa.cm,yb=Oa.div=n.lineDiv;yb.contentEditable=!0;ui(yb,hb.options.spellcheck,hb.options.autocorrect,
hb.options.autocapitalize);rg(yb,"paste",function(Kb){!Q(Kb)||E(hb,Kb)||Xj(Kb,hb)||11>=xg&&setTimeout(nb(hb,function(){return pa.updateFromDOM()}),20)});rg(yb,"compositionstart",function(Kb){pa.composing={data:Kb.data,done:!1}});rg(yb,"compositionupdate",function(Kb){pa.composing||(pa.composing={data:Kb.data,done:!1})});rg(yb,"compositionend",function(Kb){pa.composing&&(Kb.data!=pa.composing.data&&pa.readFromDOMSoon(),pa.composing.done=!0)});rg(yb,"touchstart",function(){return Oa.forceCompositionEnd()});
rg(yb,"input",function(){pa.composing||pa.readFromDOMSoon()});rg(yb,"copy",ta);rg(yb,"cut",ta)};qb.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")};qb.prototype.prepareSelection=function(){var n=Cb(this.cm,!1);n.focus=D()==this.div;return n};qb.prototype.showSelection=function(n,Q){n&&this.cm.display.view.length&&((n.focus||Q)&&this.showPrimarySelection(),this.showMultipleSelections(n))};qb.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};
qb.prototype.showPrimarySelection=function(){var n=this.getSelection(),Q=this.cm,ta=Q.doc.sel.primary(),pa=ta.from();ta=ta.to();if(Q.display.viewTo==Q.display.viewFrom||pa.line>=Q.display.viewTo||ta.line<Q.display.viewFrom)n.removeAllRanges();else{var Oa=Xg(Q,n.anchorNode,n.anchorOffset),hb=Xg(Q,n.focusNode,n.focusOffset);if(!Oa||Oa.bad||!hb||hb.bad||0!=Wb(Ia(Oa,hb),pa)||0!=Wb(xa(Oa,hb),ta))if(Oa=Q.display.view,pa=pa.line>=Q.display.viewFrom&&Bk(Q,pa)||{node:Oa[0].measure.map[2],offset:0},ta=ta.line<
Q.display.viewTo&&Bk(Q,ta),ta||(ta=Oa[Oa.length-1].measure,ta=ta.maps?ta.maps[ta.maps.length-1]:ta.map,ta={node:ta[ta.length-1],offset:ta[ta.length-2]-ta[ta.length-3]}),pa&&ta){Oa=n.rangeCount&&n.getRangeAt(0);try{var yb=lj(pa.node,pa.offset,ta.offset,ta.node)}catch(Kb){}yb&&(!Hh&&Q.state.focused?(n.collapse(pa.node,pa.offset),yb.collapsed||(n.removeAllRanges(),n.addRange(yb))):(n.removeAllRanges(),n.addRange(yb)),Oa&&null==n.anchorNode?n.addRange(Oa):Hh&&this.startGracePeriod());this.rememberSelection()}else n.removeAllRanges()}};
qb.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){n.gracePeriod=!1;n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)};qb.prototype.showMultipleSelections=function(n){h(this.cm.display.cursorDiv,n.cursors);h(this.cm.display.selectionDiv,n.selection)};qb.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode;this.lastAnchorOffset=n.anchorOffset;
this.lastFocusNode=n.focusNode;this.lastFocusOffset=n.focusOffset};qb.prototype.selectionInEditor=function(){var n=this.getSelection();if(!n.rangeCount)return!1;n=n.getRangeAt(0).commonAncestorContainer;return q(this.div,n)};qb.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&D()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};qb.prototype.blur=function(){this.div.blur()};qb.prototype.getField=function(){return this.div};qb.prototype.supportsTouch=
function(){return!0};qb.prototype.receivedFocus=function(){function n(){ta.cm.state.focused&&(ta.pollSelection(),ta.polling.set(ta.cm.options.pollInterval,n))}var Q=this,ta=this;this.selectionInEditor()?setTimeout(function(){return Q.pollSelection()},20):vb(this.cm,function(){return ta.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,n)};qb.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||
n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset};qb.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var n=this.getSelection(),Q=this.cm;if(mi&&Sj&&this.cm.display.gutterSpecs.length&&bk(n.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var ta=Xg(Q,n.anchorNode,n.anchorOffset),pa=Xg(Q,n.focusNode,n.focusOffset);
ta&&pa&&vb(Q,function(){id(Q.doc,Vb(ta,pa),Ag);if(ta.bad||pa.bad)Q.curOp.selectionChanged=!0})}}};qb.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n=this.cm,Q=n.display,ta=n.doc.sel.primary(),pa=ta.from(),Oa=ta.to();0==pa.ch&&pa.line>n.firstLine()&&(pa=Gb(pa.line-1,ma(n.doc,pa.line-1).length));Oa.ch==ma(n.doc,Oa.line).text.length&&Oa.line<n.lastLine()&&(Oa=Gb(Oa.line+1,0));if(pa.line<Q.viewFrom||Oa.line>Q.viewTo-1)return!1;
var hb;pa.line==Q.viewFrom||0==(hb=be(n,pa.line))?(ta=Ea(Q.view[0].line),hb=Q.view[0].node):(ta=Ea(Q.view[hb].line),hb=Q.view[hb-1].node.nextSibling);var yb=be(n,Oa.line);yb==Q.view.length-1?(Oa=Q.viewTo-1,Q=Q.lineDiv.lastChild):(Oa=Ea(Q.view[yb+1].line)-1,Q=Q.view[yb+1].node.previousSibling);if(!hb)return!1;Q=n.doc.splitLines(Ak(n,hb,Q,ta,Oa));for(hb=Aa(n.doc,Gb(ta,0),Gb(Oa,ma(n.doc,Oa).text.length));1<Q.length&&1<hb.length;)if(x(Q)==x(hb))Q.pop(),hb.pop(),Oa--;else if(Q[0]==hb[0])Q.shift(),hb.shift(),
ta++;else break;var Kb=0;yb=0;for(var ic=Q[0],Bc=hb[0],Lc=Math.min(ic.length,Bc.length);Kb<Lc&&ic.charCodeAt(Kb)==Bc.charCodeAt(Kb);)++Kb;ic=x(Q);Bc=x(hb);for(Lc=Math.min(ic.length-(1==Q.length?Kb:0),Bc.length-(1==hb.length?Kb:0));yb<Lc&&ic.charCodeAt(ic.length-yb-1)==Bc.charCodeAt(Bc.length-yb-1);)++yb;if(1==Q.length&&1==hb.length&&ta==pa.line)for(;Kb&&Kb>pa.ch&&ic.charCodeAt(ic.length-yb-1)==Bc.charCodeAt(Bc.length-yb-1);)Kb--,yb++;Q[Q.length-1]=ic.slice(0,ic.length-yb).replace(/^\u200b+/,"");Q[0]=
Q[0].slice(Kb).replace(/\u200b+$/,"");pa=Gb(ta,Kb);ta=Gb(Oa,hb.length?x(hb).length-yb:0);if(1<Q.length||Q[0]||Wb(pa,ta))return Pe(n.doc,Q,pa,ta,"+input"),!0};qb.prototype.ensurePolled=function(){this.forceCompositionEnd()};qb.prototype.reset=function(){this.forceCompositionEnd()};qb.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};qb.prototype.readFromDOMSoon=function(){var n=this;
null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){n.readDOMTimeout=null;if(n.composing)if(n.composing.done)n.composing=null;else return;n.updateFromDOM()},80))};qb.prototype.updateFromDOM=function(){var n=this;!this.cm.isReadOnly()&&this.pollContent()||vb(this.cm,function(){return Kf(n.cm)})};qb.prototype.setUneditable=function(n){n.contentEditable="false"};qb.prototype.onKeyPress=function(n){0==n.charCode||this.composing||(n.preventDefault(),this.cm.isReadOnly()||nb(this.cm,lh)(this.cm,
String.fromCharCode(null==n.charCode?n.keyCode:n.charCode),0))};qb.prototype.readOnlyChanged=function(n){this.div.contentEditable=String("nocursor"!=n)};qb.prototype.onContextMenu=function(){};qb.prototype.resetPosition=function(){};qb.prototype.needsContentAttribute=!0;var Ub=function(n){this.cm=n;this.prevInput="";this.pollingFast=!1;this.polling=new vj;this.hasSelection=!1;this.composing=null};Ub.prototype.init=function(n){function Q(yb){if(!E(Oa,yb)){if(Oa.somethingSelected())Fb={lineWise:!1,
text:Oa.getSelections()};else if(Oa.options.lineWiseCopyCut){var Kb=Mh(Oa);Fb={lineWise:!0,text:Kb.text};"cut"==yb.type?Oa.setSelections(Kb.ranges,null,Ag):(pa.prevInput="",hb.value=Kb.text.join("\n"),Yj(hb))}else return;"cut"==yb.type&&(Oa.state.cutIncoming=+new Date)}}var ta=this,pa=this,Oa=this.cm;this.createField(n);var hb=this.textarea;n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild);sj&&(hb.style.width="0px");rg(hb,"input",function(){Yg&&9<=xg&&ta.hasSelection&&(ta.hasSelection=null);
pa.poll()});rg(hb,"paste",function(yb){E(Oa,yb)||Xj(yb,Oa)||(Oa.state.pasteIncoming=+new Date,pa.fastPoll())});rg(hb,"cut",Q);rg(hb,"copy",Q);rg(n.scroller,"paste",function(yb){if(!Ie(n,yb)&&!E(Oa,yb))if(hb.dispatchEvent){var Kb=new Event("paste");Kb.clipboardData=yb.clipboardData;hb.dispatchEvent(Kb)}else Oa.state.pasteIncoming=+new Date,pa.focus()});rg(n.lineSpace,"selectstart",function(yb){Ie(n,yb)||ja(yb)});rg(hb,"compositionstart",function(){var yb=Oa.getCursor("from");pa.composing&&pa.composing.range.clear();
pa.composing={start:yb,range:Oa.markText(yb,Oa.getCursor("to"),{className:"CodeMirror-composing"})}});rg(hb,"compositionend",function(){pa.composing&&(pa.poll(),pa.composing.range.clear(),pa.composing=null)})};Ub.prototype.createField=function(n){this.wrapper=Ti();this.textarea=this.wrapper.firstChild};Ub.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")};Ub.prototype.prepareSelection=function(){var n=this.cm,Q=
n.display,ta=n.doc,pa=Cb(n);if(n.options.moveInputWithCursor){n=m(n,ta.sel.primary().head,"div");ta=Q.wrapper.getBoundingClientRect();var Oa=Q.lineDiv.getBoundingClientRect();pa.teTop=Math.max(0,Math.min(Q.wrapper.clientHeight-10,n.top+Oa.top-ta.top));pa.teLeft=Math.max(0,Math.min(Q.wrapper.clientWidth-10,n.left+Oa.left-ta.left))}return pa};Ub.prototype.showSelection=function(n){var Q=this.cm.display;h(Q.cursorDiv,n.cursors);h(Q.selectionDiv,n.selection);null!=n.teTop&&(this.wrapper.style.top=n.teTop+
"px",this.wrapper.style.left=n.teLeft+"px")};Ub.prototype.reset=function(n){if(!this.contextMenuPending&&!this.composing){var Q=this.cm;Q.somethingSelected()?(this.prevInput="",n=Q.getSelection(),this.textarea.value=n,Q.state.focused&&Yj(this.textarea),Yg&&9<=xg&&(this.hasSelection=n)):n||(this.prevInput=this.textarea.value="",Yg&&9<=xg&&(this.hasSelection=null))}};Ub.prototype.getField=function(){return this.textarea};Ub.prototype.supportsTouch=function(){return!1};Ub.prototype.focus=function(){if("nocursor"!=
this.cm.options.readOnly&&(!Cj||D()!=this.textarea))try{this.textarea.focus()}catch(n){}};Ub.prototype.blur=function(){this.textarea.blur()};Ub.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};Ub.prototype.receivedFocus=function(){this.slowPoll()};Ub.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll();n.cm.state.focused&&n.slowPoll()})};Ub.prototype.fastPoll=function(){function n(){ta.poll()||
Q?(ta.pollingFast=!1,ta.slowPoll()):(Q=!0,ta.polling.set(60,n))}var Q=!1,ta=this;ta.pollingFast=!0;ta.polling.set(20,n)};Ub.prototype.poll=function(){var n=this,Q=this.cm,ta=this.textarea,pa=this.prevInput;if(this.contextMenuPending||!Q.state.focused||Fj(ta)&&!pa&&!this.composing||Q.isReadOnly()||Q.options.disableInput||Q.state.keySeq)return!1;var Oa=ta.value;if(Oa==pa&&!Q.somethingSelected())return!1;if(Yg&&9<=xg&&this.hasSelection===Oa||Ch&&/[\uf700-\uf7ff]/.test(Oa))return Q.display.input.reset(),
!1;if(Q.doc.sel==Q.display.selForContextMenu){var hb=Oa.charCodeAt(0);8203!=hb||pa||(pa="​");if(8666==hb)return this.reset(),this.cm.execCommand("undo")}var yb=0;for(hb=Math.min(pa.length,Oa.length);yb<hb&&pa.charCodeAt(yb)==Oa.charCodeAt(yb);)++yb;vb(Q,function(){lh(Q,Oa.slice(yb),pa.length-yb,null,n.composing?"*compose":null);1E3<Oa.length||-1<Oa.indexOf("\n")?ta.value=n.prevInput="":n.prevInput=Oa;n.composing&&(n.composing.range.clear(),n.composing.range=Q.markText(n.composing.start,Q.getCursor("to"),
{className:"CodeMirror-composing"}))});return!0};Ub.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};Ub.prototype.onKeyPress=function(){Yg&&9<=xg&&(this.hasSelection=null);this.fastPoll()};Ub.prototype.onContextMenu=function(n){function Q(){if(null!=yb.selectionStart){var Jd=Oa.somethingSelected(),se="​"+(Jd?yb.value:"");yb.value="⇚";yb.value=se;pa.prevInput=Jd?"":"​";yb.selectionStart=1;yb.selectionEnd=se.length;hb.selForContextMenu=Oa.doc.sel}}function ta(){if(pa.contextMenuPending==
ta&&(pa.contextMenuPending=!1,pa.wrapper.style.cssText=Lc,yb.style.cssText=Bc,Yg&&9>xg&&hb.scrollbars.setScrollTop(hb.scroller.scrollTop=ic),null!=yb.selectionStart)){(!Yg||Yg&&9>xg)&&Q();var Jd=0,se=function(){hb.selForContextMenu==Oa.doc.sel&&0==yb.selectionStart&&0<yb.selectionEnd&&"​"==pa.prevInput?nb(Oa,fb)(Oa):10>Jd++?hb.detectingSelectAll=setTimeout(se,500):(hb.selForContextMenu=null,hb.input.reset())};hb.detectingSelectAll=setTimeout(se,200)}}var pa=this,Oa=pa.cm,hb=Oa.display,yb=pa.textarea;
pa.contextMenuPending&&pa.contextMenuPending();var Kb=Yf(Oa,n),ic=hb.scroller.scrollTop;if(Kb&&!ei){Oa.options.resetSelectionOnContextMenu&&-1==Oa.doc.sel.contains(Kb)&&nb(Oa,id)(Oa.doc,Vb(Kb),Ag);var Bc=yb.style.cssText,Lc=pa.wrapper.style.cssText;Kb=pa.wrapper.offsetParent.getBoundingClientRect();pa.wrapper.style.cssText="position: static";yb.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(n.clientY-Kb.top-5)+"px; left: "+(n.clientX-Kb.left-5)+"px;\n      z-index: 1000; background: "+
(Yg?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(vg)var gd=window.scrollY;hb.input.focus();vg&&window.scrollTo(null,gd);hb.input.reset();Oa.somethingSelected()||(yb.value=pa.prevInput=" ");pa.contextMenuPending=ta;hb.selForContextMenu=Oa.doc.sel;clearTimeout(hb.detectingSelectAll);Yg&&9<=xg&&Q();if(qk){ua(n);var Dd=function(){Y(window,"mouseup",Dd);setTimeout(ta,20)};rg(window,"mouseup",
Dd)}else setTimeout(ta,50)}};Ub.prototype.readOnlyChanged=function(n){n||this.reset();this.textarea.disabled="nocursor"==n;this.textarea.readOnly=!!n};Ub.prototype.setUneditable=function(){};Ub.prototype.needsContentAttribute=!1;(function(n){function Q(pa,Oa,hb,yb){n.defaults[pa]=Oa;hb&&(ta[pa]=yb?function(Kb,ic,Bc){Bc!=Ka&&hb(Kb,ic,Bc)}:hb)}var ta=n.optionHandlers;n.defineOption=Q;n.Init=Ka;Q("value","",function(pa,Oa){return pa.setValue(Oa)},!0);Q("mode",null,function(pa,Oa){pa.doc.modeOption=Oa;
Nc(pa)},!0);Q("indentUnit",2,Nc,!0);Q("indentWithTabs",!1);Q("smartIndent",!0);Q("tabSize",4,function(pa){fd(pa);bg(pa);Kf(pa)},!0);Q("lineSeparator",null,function(pa,Oa){if(pa.doc.lineSep=Oa){var hb=[],yb=pa.doc.first;pa.doc.iter(function(ic){for(var Bc=0;;){var Lc=ic.text.indexOf(Oa,Bc);if(-1==Lc)break;Bc=Lc+Oa.length;hb.push(Gb(yb,Lc))}yb++});for(var Kb=hb.length-1;0<=Kb;Kb--)Pe(pa.doc,Oa,hb[Kb],Gb(hb[Kb].line,hb[Kb].ch+Oa.length))}});Q("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,
function(pa,Oa,hb){pa.state.specialChars=new RegExp(Oa.source+(Oa.test("\t")?"":"|\t"),"g");hb!=Ka&&pa.refresh()});Q("specialCharPlaceholder",ud,function(pa){return pa.refresh()},!0);Q("electricChars",!0);Q("inputStyle",Cj?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);Q("spellcheck",!1,function(pa,Oa){return pa.getInputField().spellcheck=Oa},!0);Q("autocorrect",!1,function(pa,Oa){return pa.getInputField().autocorrect=Oa},!0);Q("autocapitalize",
!1,function(pa,Oa){return pa.getInputField().autocapitalize=Oa},!0);Q("rtlMoveVisually",!Ik);Q("wholeLineUpdateBefore",!0);Q("theme","default",function(pa){Wh(pa);dg(pa)},!0);Q("keyMap","default",function(pa,Oa,hb){Oa=Bi(Oa);(hb=hb!=Ka&&Bi(hb))&&hb.detach&&hb.detach(pa,Oa);Oa.attach&&Oa.attach(pa,hb||null)});Q("extraKeys",null);Q("configureMouse",null);Q("lineWrapping",!1,Pj,!0);Q("gutters",[],function(pa,Oa){pa.display.gutterSpecs=kg(Oa,pa.options.lineNumbers);dg(pa)},!0);Q("fixedGutter",!0,function(pa,
Oa){pa.display.gutters.style.left=Oa?Pg(pa.display)+"px":"0";pa.refresh()},!0);Q("coverGutterNextToScrollbar",!1,function(pa){return Ge(pa)},!0);Q("scrollbarStyle","native",function(pa){rf(pa);Ge(pa);pa.display.scrollbars.setScrollTop(pa.doc.scrollTop);pa.display.scrollbars.setScrollLeft(pa.doc.scrollLeft)},!0);Q("lineNumbers",!1,function(pa,Oa){pa.display.gutterSpecs=kg(pa.options.gutters,Oa);dg(pa)},!0);Q("firstLineNumber",1,dg,!0);Q("lineNumberFormatter",function(pa){return pa},dg,!0);Q("showCursorWhenSelecting",
!1,Ya,!0);Q("resetSelectionOnContextMenu",!0);Q("lineWiseCopyCut",!0);Q("pasteLinesPerSelection",!0);Q("selectionsMayTouch",!1);Q("readOnly",!1,function(pa,Oa){"nocursor"==Oa&&(cc(pa),pa.display.input.blur());pa.display.input.readOnlyChanged(Oa)});Q("screenReaderLabel",null,function(pa,Oa){pa.display.input.screenReaderLabelChanged(""===Oa?null:Oa)});Q("disableInput",!1,function(pa,Oa){Oa||pa.display.input.reset()},!0);Q("dragDrop",!0,ni);Q("allowDropFileTypes",null);Q("cursorBlinkRate",530);Q("cursorScrollMargin",
0);Q("cursorHeight",1,Ya,!0);Q("singleCursorHeightPerLine",!0,Ya,!0);Q("workTime",100);Q("workDelay",100);Q("flattenSpans",!0,fd,!0);Q("addModeClass",!1,fd,!0);Q("pollInterval",100);Q("undoDepth",200,function(pa,Oa){return pa.doc.history.undoDepth=Oa});Q("historyEventDelay",1250);Q("viewportMargin",10,function(pa){return pa.refresh()},!0);Q("maxHighlightLength",1E4,fd,!0);Q("moveInputWithCursor",!0,function(pa,Oa){Oa||pa.display.input.resetPosition()});Q("tabindex",null,function(pa,Oa){return pa.display.input.getField().tabIndex=
Oa||""});Q("autofocus",null);Q("direction","ltr",function(pa,Oa){return pa.doc.setDirection(Oa)},!0);Q("phrases",null)})(Kh);(function(n){var Q=n.optionHandlers,ta=n.helpers={};n.prototype={constructor:n,focus:function(){window.focus();this.display.input.focus()},setOption:function(pa,Oa){var hb=this.options,yb=hb[pa];if(hb[pa]!=Oa||"mode"==pa)hb[pa]=Oa,Q.hasOwnProperty(pa)&&nb(this,Q[pa])(this,Oa,yb),Z(this,"optionChange",this,pa)},getOption:function(pa){return this.options[pa]},getDoc:function(){return this.doc},
addKeyMap:function(pa,Oa){this.state.keyMaps[Oa?"push":"unshift"](Bi(pa))},removeKeyMap:function(pa){for(var Oa=this.state.keyMaps,hb=0;hb<Oa.length;++hb)if(Oa[hb]==pa||Oa[hb].name==pa)return Oa.splice(hb,1),!0},addOverlay:ac(function(pa,Oa){var hb=pa.token?pa:n.getMode(this.options,pa);if(hb.startState)throw Error("Overlays may not be stateful.");R(this.state.overlays,{mode:hb,modeSpec:pa,opaque:Oa&&Oa.opaque,priority:Oa&&Oa.priority||0},function(yb){return yb.priority});this.state.modeGen++;Kf(this)}),
removeOverlay:ac(function(pa){for(var Oa=this.state.overlays,hb=0;hb<Oa.length;++hb){var yb=Oa[hb].modeSpec;if(yb==pa||"string"==typeof pa&&yb.name==pa){Oa.splice(hb,1);this.state.modeGen++;Kf(this);break}}}),indentLine:ac(function(pa,Oa,hb){"string"!=typeof Oa&&"number"!=typeof Oa&&(Oa=null==Oa?this.options.smartIndent?"smart":"prev":Oa?"add":"subtract");cb(this.doc,pa)&&oi(this,pa,Oa,hb)}),indentSelection:ac(function(pa){for(var Oa=this.doc.sel.ranges,hb=-1,yb=0;yb<Oa.length;yb++){var Kb=Oa[yb];
if(Kb.empty())Kb.head.line>hb&&(oi(this,Kb.head.line,pa,!0),hb=Kb.head.line,yb==this.doc.sel.primIndex&&Qc(this));else{var ic=Kb.from();Kb=Kb.to();var Bc=Math.max(hb,ic.line);hb=Math.min(this.lastLine(),Kb.line-(Kb.ch?0:1))+1;for(Kb=Bc;Kb<hb;++Kb)oi(this,Kb,pa);Kb=this.doc.sel.ranges;0==ic.ch&&Oa.length==Kb.length&&0<Kb[yb].from().ch&&Qf(this.doc,yb,new Wf(ic,Kb[yb].to()),Ag)}}}),getTokenAt:function(pa,Oa){return jc(this,pa,Oa)},getLineTokens:function(pa,Oa){return jc(this,Gb(pa),Oa,!0)},getTokenTypeAt:function(pa){pa=
bb(this.doc,pa);var Oa=mb(this,ma(this.doc,pa.line)),hb=0,yb=(Oa.length-1)/2;pa=pa.ch;if(0==pa)Oa=Oa[2];else for(;;){var Kb=hb+yb>>1;if((Kb?Oa[2*Kb-1]:0)>=pa)yb=Kb;else if(Oa[2*Kb+1]<pa)hb=Kb+1;else{Oa=Oa[2*Kb+2];break}}hb=Oa?Oa.indexOf("overlay "):-1;return 0>hb?Oa:0==hb?null:Oa.slice(0,hb-1)},getModeAt:function(pa){var Oa=this.doc.mode;return Oa.innerMode?n.innerMode(Oa,this.getTokenAt(pa).state).mode:Oa},getHelper:function(pa,Oa){return this.getHelpers(pa,Oa)[0]},getHelpers:function(pa,Oa){var hb=
[];if(!ta.hasOwnProperty(Oa))return hb;var yb=ta[Oa];pa=this.getModeAt(pa);if("string"==typeof pa[Oa])yb[pa[Oa]]&&hb.push(yb[pa[Oa]]);else if(pa[Oa])for(var Kb=0;Kb<pa[Oa].length;Kb++){var ic=yb[pa[Oa][Kb]];ic&&hb.push(ic)}else pa.helperType&&yb[pa.helperType]?hb.push(yb[pa.helperType]):yb[pa.name]&&hb.push(yb[pa.name]);for(Oa=0;Oa<yb._global.length;Oa++)Kb=yb._global[Oa],Kb.pred(pa,this)&&-1==F(hb,Kb.val)&&hb.push(Kb.val);return hb},getStateAfter:function(pa,Oa){var hb=this.doc;pa=Math.max(hb.first,
Math.min(null==pa?hb.first+hb.size-1:pa,hb.first+hb.size-1));return Jb(this,pa+1,Oa).state},cursorCoords:function(pa,Oa){var hb=this.doc.sel.primary();pa=null==pa?hb.head:"object"==typeof pa?bb(this.doc,pa):pa?hb.from():hb.to();return m(this,pa,Oa||"page")},charCoords:function(pa,Oa){return Ha(this,bb(this.doc,pa),Oa||"page")},coordsChar:function(pa,Oa){pa=Wa(this,pa,Oa||"page");return Xc(this,pa.left,pa.top)},lineAtHeight:function(pa,Oa){pa=Wa(this,{top:pa,left:0},Oa||"page").top;return kb(this.doc,
pa+this.display.viewOffset)},heightAtLine:function(pa,Oa,hb){var yb=!1;if("number"==typeof pa){var Kb=this.doc.first+this.doc.size-1;pa<this.doc.first?pa=this.doc.first:pa>Kb&&(pa=Kb,yb=!0);pa=ma(this.doc,pa)}return zc(this,pa,{top:0,left:0},Oa||"page",hb||yb).top+(yb?this.doc.height-te(pa):0)},defaultTextHeight:function(){return jf(this.display)},defaultCharWidth:function(){return Jf(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pa,
Oa,hb,yb,Kb){var ic=this.display;pa=m(this,bb(this.doc,pa));var Bc=pa.bottom,Lc=pa.left;Oa.style.position="absolute";Oa.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(Oa);ic.sizer.appendChild(Oa);if("over"==yb)Bc=pa.top;else if("above"==yb||"near"==yb){var gd=Math.max(ic.wrapper.clientHeight,this.doc.height),Dd=Math.max(ic.sizer.clientWidth,ic.lineSpace.clientWidth);("above"==yb||pa.bottom+Oa.offsetHeight>gd)&&pa.top>Oa.offsetHeight?Bc=pa.top-Oa.offsetHeight:pa.bottom+Oa.offsetHeight<=
gd&&(Bc=pa.bottom);Lc+Oa.offsetWidth>Dd&&(Lc=Dd-Oa.offsetWidth)}Oa.style.top=Bc+"px";Oa.style.left=Oa.style.right="";"right"==Kb?(Lc=ic.sizer.clientWidth-Oa.offsetWidth,Oa.style.right="0px"):("left"==Kb?Lc=0:"middle"==Kb&&(Lc=(ic.sizer.clientWidth-Oa.offsetWidth)/2),Oa.style.left=Lc+"px");hb&&(pa=Qb(this,{left:Lc,top:Bc,right:Lc+Oa.offsetWidth,bottom:Bc+Oa.offsetHeight}),null!=pa.scrollTop&&we(this,pa.scrollTop),null!=pa.scrollLeft&&sd(this,pa.scrollLeft))},triggerOnKeyDown:ac(Yk),triggerOnKeyPress:ac(hk),
triggerOnKeyUp:Vh,triggerOnMouseDown:ac(ai),execCommand:function(pa){if(qa.hasOwnProperty(pa))return qa[pa].call(null,this)},triggerElectric:ac(function(pa){Oh(this,pa)}),findPosH:function(pa,Oa,hb,yb){var Kb=1;0>Oa&&(Kb=-1,Oa=-Oa);pa=bb(this.doc,pa);for(var ic=0;ic<Oa&&(pa=Kg(this.doc,pa,Kb,hb,yb),!pa.hitSide);++ic);return pa},moveH:ac(function(pa,Oa){var hb=this;this.extendSelectionsBy(function(yb){return hb.display.shift||hb.doc.extend||yb.empty()?Kg(hb.doc,yb.head,pa,Oa,hb.options.rtlMoveVisually):
0>pa?yb.from():yb.to()},$h)}),deleteH:ac(function(pa,Oa){var hb=this.doc;this.doc.sel.somethingSelected()?hb.replaceSelection("",null,"+delete"):Kj(this,function(yb){var Kb=Kg(hb,yb.head,pa,Oa,!1);return 0>pa?{from:Kb,to:yb.head}:{from:yb.head,to:Kb}})}),findPosV:function(pa,Oa,hb,yb){var Kb=1;0>Oa&&(Kb=-1,Oa=-Oa);var ic=bb(this.doc,pa);for(pa=0;pa<Oa&&(ic=m(this,ic,"div"),null==yb?yb=ic.left:ic.left=yb,ic=Mj(this,ic,Kb,hb),!ic.hitSide);++pa);return ic},moveV:ac(function(pa,Oa){var hb=this,yb=this.doc,
Kb=[],ic=!this.display.shift&&!yb.extend&&yb.sel.somethingSelected();yb.extendSelectionsBy(function(Lc){if(ic)return 0>pa?Lc.from():Lc.to();var gd=m(hb,Lc.head,"div");null!=Lc.goalColumn&&(gd.left=Lc.goalColumn);Kb.push(gd.left);var Dd=Mj(hb,gd,pa,Oa);"page"==Oa&&Lc==yb.sel.primary()&&pc(hb,Ha(hb,Dd,"div").top-gd.top);return Dd},$h);if(Kb.length)for(var Bc=0;Bc<yb.sel.ranges.length;Bc++)yb.sel.ranges[Bc].goalColumn=Kb[Bc]}),findWordAt:function(pa){var Oa=ma(this.doc,pa.line).text,hb=pa.ch,yb=pa.ch;
if(Oa){var Kb=this.getHelper(pa,"wordChars");"before"!=pa.sticky&&yb!=Oa.length||!hb?++yb:--hb;var ic=Oa.charAt(hb);for(ic=N(ic,Kb)?function(Bc){return N(Bc,Kb)}:/\s/.test(ic)?function(Bc){return/\s/.test(Bc)}:function(Bc){return!/\s/.test(Bc)&&!N(Bc)};0<hb&&ic(Oa.charAt(hb-1));)--hb;for(;yb<Oa.length&&ic(Oa.charAt(yb));)++yb}return new Wf(Gb(pa.line,hb),Gb(pa.line,yb))},toggleOverwrite:function(pa){if(null==pa||pa!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?U(this.display.cursorDiv,
"CodeMirror-overwrite"):Ji(this.display.cursorDiv,"CodeMirror-overwrite"),Z(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==D()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ac(function(pa,Oa){Cc(this,pa,Oa)}),getScrollInfo:function(){var pa=this.display.scroller;return{left:pa.scrollLeft,top:pa.scrollTop,height:pa.scrollHeight-$e(this)-this.display.barHeight,width:pa.scrollWidth-$e(this)-this.display.barWidth,
clientHeight:Ye(this),clientWidth:qf(this)}},scrollIntoView:ac(function(pa,Oa){null==pa?(pa={from:this.doc.sel.primary().head,to:null},null==Oa&&(Oa=this.options.cursorScrollMargin)):"number"==typeof pa?pa={from:Gb(pa,0),to:null}:null==pa.from&&(pa={from:pa,to:null});pa.to||(pa.to=pa.from);pa.margin=Oa||0;null!=pa.from.line?(vd(this),this.curOp.scrollToPos=pa):Wd(this,pa.from,pa.to,pa.margin)}),setSize:ac(function(pa,Oa){var hb=this,yb=function(ic){return"number"==typeof ic||/^\d+$/.test(String(ic))?
ic+"px":ic};null!=pa&&(this.display.wrapper.style.width=yb(pa));null!=Oa&&(this.display.wrapper.style.height=yb(Oa));this.options.lineWrapping&&pf(this);var Kb=this.display.viewFrom;this.doc.iter(Kb,this.display.viewTo,function(ic){if(ic.widgets)for(var Bc=0;Bc<ic.widgets.length;Bc++)if(ic.widgets[Bc].noHScroll){he(hb,Kb,"widget");break}++Kb});this.curOp.forceUpdate=!0;Z(this,"refresh",this)}),operation:function(pa){return vb(this,pa)},startOperation:function(){return Ma(this)},endOperation:function(){return lb(this)},
refresh:ac(function(){var pa=this.display.cachedTextHeight;Kf(this);this.curOp.forceUpdate=!0;bg(this);Cc(this,this.doc.scrollLeft,this.doc.scrollTop);Xe(this.display);(null==pa||.5<Math.abs(pa-jf(this.display))||this.options.lineWrapping)&&Zg(this);Z(this,"refresh",this)}),swapDoc:ac(function(pa){var Oa=this.doc;Oa.cm=null;this.state.selectingText&&this.state.selectingText();ce(this,pa);bg(this);this.display.input.reset();Cc(this,pa.scrollLeft,pa.scrollTop);this.curOp.forceScroll=!0;Oc(this,"swapDoc",
this,Oa);return Oa}),phrase:function(pa){var Oa=this.options.phrases;return Oa&&Object.prototype.hasOwnProperty.call(Oa,pa)?Oa[pa]:pa},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};fa(n);n.registerHelper=function(pa,Oa,hb){ta.hasOwnProperty(pa)||(ta[pa]=n[pa]={_global:[]});ta[pa][Oa]=hb};n.registerGlobalHelper=
function(pa,Oa,hb,yb){n.registerHelper(pa,Oa,yb);ta[pa]._global.push({pred:hb,val:yb})}})(Kh);var Zb="iter insert remove copy getEditor constructor".split(" "),Ec;for(Ec in Di.prototype)Di.prototype.hasOwnProperty(Ec)&&0>F(Zb,Ec)&&(Kh.prototype[Ec]=function(n){return function(){return n.apply(this.doc,arguments)}}(Di.prototype[Ec]));fa(Di);Kh.inputStyles={textarea:Ub,contenteditable:qb};Kh.defineMode=function(n){Kh.defaults.mode||"null"==n||(Kh.defaults.mode=n);Xa.apply(this,arguments)};Kh.defineMIME=
function(n,Q){uh[n]=Q};Kh.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}});Kh.defineMIME("text/plain","null");Kh.defineExtension=function(n,Q){Kh.prototype[n]=Q};Kh.defineDocExtension=function(n,Q){Di.prototype[n]=Q};Kh.fromTextArea=function(n,Q){function ta(){n.value=Kb.getValue()}Q=Q?S(Q):{};Q.value=n.value;!Q.tabindex&&n.tabIndex&&(Q.tabindex=n.tabIndex);!Q.placeholder&&n.placeholder&&(Q.placeholder=n.placeholder);if(null==Q.autofocus){var pa=D();Q.autofocus=pa==n||
null!=n.getAttribute("autofocus")&&pa==document.body}if(n.form&&(rg(n.form,"submit",ta),!Q.leaveSubmitMethodAlone)){var Oa=n.form;var hb=Oa.submit;try{var yb=Oa.submit=function(){ta();Oa.submit=hb;Oa.submit();Oa.submit=yb}}catch(ic){}}Q.finishInit=function(ic){ic.save=ta;ic.getTextArea=function(){return n};ic.toTextArea=function(){ic.toTextArea=isNaN;ta();n.parentNode.removeChild(ic.getWrapperElement());n.style.display="";n.form&&(Y(n.form,"submit",ta),Q.leaveSubmitMethodAlone||"function"!=typeof n.form.submit||
(n.form.submit=hb))}};n.style.display="none";var Kb=Kh(function(ic){return n.parentNode.insertBefore(ic,n.nextSibling)},Q);return Kb};(function(n){n.off=Y;n.on=rg;n.wheelEventPixels=sb;n.Doc=Di;n.splitLines=Gi;n.countColumn=V;n.findColumn=t;n.isWordChar=O;n.Pass=Tj;n.signal=Z;n.Line=ek;n.changeEnd=hc;n.scrollbarModel=Mi;n.Pos=Gb;n.cmpPos=Wb;n.modes=sh;n.mimeModes=uh;n.resolveMode=Sa;n.getMode=eb;n.modeExtensions=hi;n.extendMode=Va;n.copyState=La;n.startState=la;n.innerMode=Ra;n.commands=qa;n.keyMap=
xc;n.keyName=Ki;n.isModifierKey=oh;n.lookupKey=si;n.normalizeKeyMap=nh;n.StringStream=ii;n.SharedTextMarker=Hi;n.TextMarker=Ci;n.LineWidget=Dj;n.e_preventDefault=ja;n.e_stopPropagation=Ba;n.e_stop=ua;n.addClass=U;n.contains=q;n.rmClass=Ji;n.keyNames=wb})(Kh);Kh.version="5.64.0";return Kh})};
shadow$provide[109]=function(Pa,da,gb,oa){(function(k){"object"==typeof oa&&"object"==typeof gb?k(da(108)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){function f(F,t){return"pairs"==t&&"string"==typeof F?F:"object"==typeof F&&null!=F[t]?F[t]:X[t]}function h(F){for(var t=0;t<F.length;t++){var w=F.charAt(t),x="'"+w+"'";V[x]||(V[x]=l(w))}}function l(F){return function(t){return D(t,F)}}function u(F){var t=F.state.closeBrackets;return!t||t.override?
t:F.getModeAt(F.getCursor()).closeBrackets||t}function q(F,t){for(var w=[],x=F.listSelections(),I=0,R=0;R<x.length;R++){var B=x[R];B.head==F.getCursor()&&(I=R);B=B.head.ch||0<t?{line:B.head.line,ch:B.head.ch+t}:{line:B.head.line-1};w.push({anchor:B,head:B})}F.setSelections(w,I)}function D(F,t){var w=u(F);if(!w||F.getOption("disableInput"))return k.Pass;var x=f(w,"pairs"),I=x.indexOf(t);if(-1==I)return k.Pass;var R=f(w,"closeBefore");w=f(w,"triples");for(var B=x.charAt(I+1)==t,v=F.listSelections(),
O=0==I%2,N,A=0;A<v.length;A++){var J=v[A],T=J.head;var z=F.getRange(T,S(T.line,T.ch+1));if(O&&!J.empty())z="surround";else if(!B&&O||z!=t)if(B&&1<T.ch&&0<=w.indexOf(t)&&F.getRange(S(T.line,T.ch-2),T)==t+t){if(2<T.ch&&/\bstring/.test(F.getTokenTypeAt(S(T.line,T.ch-2))))return k.Pass;z="addFour"}else if(B){J=0==T.ch?" ":F.getRange(S(T.line,T.ch-1),T);if(k.isWordChar(z)||J==t||k.isWordChar(J))return k.Pass;z="both"}else if(O&&(0===z.length||/\s/.test(z)||-1<R.indexOf(z)))z="both";else return k.Pass;
else z=B&&aa(F,T)?"both":0<=w.indexOf(t)&&F.getRange(T,S(T.line,T.ch+3))==t+t+t?"skipThree":"skip";if(!N)N=z;else if(N!=z)return k.Pass}var ba=I%2?x.charAt(I-1):t,K=I%2?t:x.charAt(I+1);F.operation(function(){if("skip"==N)q(F,1);else if("skipThree"==N)q(F,3);else if("surround"==N){for(var r=F.getSelections(),Y=0;Y<r.length;Y++)r[Y]=ba+r[Y]+K;F.replaceSelections(r,"around");r=F.listSelections().slice();for(Y=0;Y<r.length;Y++){var Z=r,E=Y;var C=r[Y];var W=0<k.cmpPos(C.anchor,C.head);C={anchor:new S(C.anchor.line,
C.anchor.ch+(W?-1:1)),head:new S(C.head.line,C.head.ch+(W?1:-1))};Z[E]=C}F.setSelections(r)}else"both"==N?(F.replaceSelection(ba+K,null),F.triggerElectric(ba+K),q(F,-1)):"addFour"==N&&(F.replaceSelection(ba+ba+ba+ba,"before"),q(F,1))})}function U(F,t){F=F.getRange(S(t.line,t.ch-1),S(t.line,t.ch+1));return 2==F.length?F:null}function aa(F,t){var w=F.getTokenAt(S(t.line,t.ch+1));return/\bstring/.test(w.type)&&w.start==t.ch&&(0==t.ch||!/\bstring/.test(F.getTokenTypeAt(t)))}var X={pairs:"()[]{}''\"\"",
closeBefore:")]}'\":;\x3e",triples:"",explode:"[]{}"},S=k.Pos;k.defineOption("autoCloseBrackets",!1,function(F,t,w){w&&w!=k.Init&&(F.removeKeyMap(V),F.state.closeBrackets=null);t&&(h(f(t,"pairs")),F.state.closeBrackets=t,F.addKeyMap(V))});var V={Backspace:function(F){var t=u(F);if(!t||F.getOption("disableInput"))return k.Pass;var w=f(t,"pairs");t=F.listSelections();for(var x=0;x<t.length;x++){if(!t[x].empty())return k.Pass;var I=U(F,t[x].head);if(!I||0!=w.indexOf(I)%2)return k.Pass}for(x=t.length-
1;0<=x;x--)w=t[x].head,F.replaceRange("",S(w.line,w.ch-1),S(w.line,w.ch+1),"+delete")},Enter:function(F){var t=u(F);t=t&&f(t,"explode");if(!t||F.getOption("disableInput"))return k.Pass;for(var w=F.listSelections(),x=0;x<w.length;x++){if(!w[x].empty())return k.Pass;var I=U(F,w[x].head);if(!I||0!=t.indexOf(I)%2)return k.Pass}F.operation(function(){var R=F.lineSeparator()||"\n";F.replaceSelection(R+R,null);q(F,-1);w=F.listSelections();for(R=0;R<w.length;R++){var B=w[R].head.line;F.indentLine(B,null,
!0);F.indentLine(B+1,null,!0)}})}};h(X.pairs+"`")})};
shadow$provide[110]=function(Pa,da,gb,oa){(function(k){"object"==typeof oa&&"object"==typeof gb?k(da(108)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){function f(X,S,V){var F=X.getLineHandle(S.line),t=S.ch-1,w=V&&V.afterCursor;null==w&&(w=/(^| )cm-fat-cursor($| )/.test(X.getWrapperElement().className));var x=V&&V.bracketRegex||/[(){}[\]]/;F=!w&&0<=t&&x.test(F.text.charAt(t))&&aa[F.text.charAt(t)]||x.test(F.text.charAt(t+1))&&aa[F.text.charAt(++t)];
if(!F)return null;w="\x3e"==F.charAt(1)?1:-1;if(V&&V.strict&&0<w!=(t==S.ch))return null;x=X.getTokenTypeAt(U(S.line,t+1));X=h(X,U(S.line,t+(0<w?1:0)),w,x,V);return null==X?null:{from:U(S.line,t),to:X&&X.pos,match:X&&X.ch==F.charAt(0),forward:0<w}}function h(X,S,V,F,t){var w=t&&t.maxScanLineLength||1E4,x=t&&t.maxScanLines||1E3,I=[];t=t&&t.bracketRegex||/[(){}[\]]/;x=0<V?Math.min(S.line+x,X.lastLine()+1):Math.max(X.firstLine()-1,S.line-x);for(var R=S.line;R!=x;R+=V){var B=X.getLine(R);if(B){var v=0<
V?0:B.length-1,O=0<V?B.length:-1;if(!(B.length>w))for(R==S.line&&(v=S.ch-(0>V?1:0));v!=O;v+=V){var N=B.charAt(v);if(t.test(N)&&(void 0===F||(X.getTokenTypeAt(U(R,v+1))||"")==(F||""))){var A=aa[N];if(A&&"\x3e"==A.charAt(1)==0<V)I.push(N);else if(I.length)I.pop();else return{pos:U(R,v),ch:N}}}}}return R-V==(0<V?X.lastLine():X.firstLine())?!1:null}function l(X,S,V){for(var F=X.state.matchBrackets.maxHighlightLineLength||1E3,t=V&&V.highlightNonMatching,w=[],x=X.listSelections(),I=0;I<x.length;I++){var R=
x[I].empty()&&f(X,x[I].head,V);if(R&&(R.match||!1!==t)&&X.getLine(R.from.line).length<=F){var B=R.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";w.push(X.markText(R.from,U(R.from.line,R.from.ch+1),{className:B}));R.to&&X.getLine(R.to.line).length<=F&&w.push(X.markText(R.to,U(R.to.line,R.to.ch+1),{className:B}))}}if(w.length)if(D&&X.state.focused&&X.focus(),V=function(){X.operation(function(){for(var v=0;v<w.length;v++)w[v].clear()})},S)setTimeout(V,800);else return V}function u(X){X.operation(function(){X.state.matchBrackets.currentlyHighlighted&&
(X.state.matchBrackets.currentlyHighlighted(),X.state.matchBrackets.currentlyHighlighted=null);X.state.matchBrackets.currentlyHighlighted=l(X,!1,X.state.matchBrackets)})}function q(X){X.state.matchBrackets&&X.state.matchBrackets.currentlyHighlighted&&(X.state.matchBrackets.currentlyHighlighted(),X.state.matchBrackets.currentlyHighlighted=null)}var D=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),U=k.Pos,aa={"(":")\x3e",")":"(\x3c","[":"]\x3e","]":"[\x3c",
"{":"}\x3e","}":"{\x3c","\x3c":"\x3e\x3e","\x3e":"\x3c\x3c"};k.defineOption("matchBrackets",!1,function(X,S,V){V&&V!=k.Init&&(X.off("cursorActivity",u),X.off("focus",u),X.off("blur",q),q(X));S&&(X.state.matchBrackets="object"==typeof S?S:{},X.on("cursorActivity",u),X.on("focus",u),X.on("blur",q))});k.defineExtension("matchBrackets",function(){l(this,!0)});k.defineExtension("findMatchingBracket",function(X,S,V){if(V||"boolean"==typeof S)V?(V.strict=S,S=V):S=S?{strict:!0}:null;return f(this,X,S)});
k.defineExtension("scanForBracket",function(X,S,V,F){return h(this,X,S,V,F)})})};
shadow$provide[111]=function(Pa,da,gb,oa){(function(k){"object"==typeof oa&&"object"==typeof gb?k(da(108)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){function f(S,V){this.cm=S;this.options=V;this.widget=null;this.tick=this.debounce=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;if(this.options.updateOnCursorActivity){var F=this;S.on("cursorActivity",this.activityFunc=
function(){F.cursorActivity()})}}function h(S,V){function F(R,B){var v="string"!=typeof B?function(O){return B(O,V)}:t.hasOwnProperty(B)?t[B]:B;x[R]=v}var t={Up:function(){V.moveFocus(-1)},Down:function(){V.moveFocus(1)},PageUp:function(){V.moveFocus(-V.menuSize()+1,!0)},PageDown:function(){V.moveFocus(V.menuSize()-1,!0)},Home:function(){V.setFocus(0)},End:function(){V.setFocus(V.length-1)},Enter:V.pick,Tab:V.pick,Esc:V.close};/Mac/.test(navigator.platform)&&(t["Ctrl-P"]=function(){V.moveFocus(-1)},
t["Ctrl-N"]=function(){V.moveFocus(1)});var w=S.options.customKeys,x=w?{}:t;if(w)for(var I in w)w.hasOwnProperty(I)&&F(I,w[I]);if(S=S.options.extraKeys)for(I in S)S.hasOwnProperty(I)&&F(I,S[I]);return x}function l(S,V){for(;V&&V!=S;){if("LI"===V.nodeName.toUpperCase()&&V.parentNode==S)return V;V=V.parentNode}}function u(S,V){this.id="cm-complete-"+Math.floor(Math.random(1E6));this.completion=S;this.data=V;this.picked=!1;var F=this,t=S.cm,w=t.getInputField().ownerDocument,x=w.defaultView||w.parentWindow,
I=this.hints=w.createElement("ul");I.setAttribute("role","listbox");I.setAttribute("aria-expanded","true");I.id=this.id;I.className="CodeMirror-hints "+S.cm.options.theme;this.selectedHint=V.selectedHint||0;for(var R=V.list,B=0;B<R.length;++B){var v=I.appendChild(w.createElement("li")),O=R[B],N="CodeMirror-hint"+(B!=this.selectedHint?"":" CodeMirror-hint-active");null!=O.className&&(N=O.className+" "+N);v.className=N;B==this.selectedHint&&v.setAttribute("aria-selected","true");v.id=this.id+"-"+B;
v.setAttribute("role","option");O.render?O.render(v,V,O):v.appendChild(w.createTextNode(O.displayText||("string"==typeof O?O:O.text)));v.hintId=B}N=S.options.container||w.body;B=t.cursorCoords(S.options.alignWithWord?V.from:null);var A=B.left,J=B.bottom,T=!0,z=v=0;if(N!==w.body){O=-1!==["absolute","relative","fixed"].indexOf(x.getComputedStyle(N).position)?N:N.offsetParent;var ba=O.getBoundingClientRect();z=w.body.getBoundingClientRect();v=ba.left-z.left-O.scrollLeft;z=ba.top-z.top-O.scrollTop}I.style.left=
A-v+"px";I.style.top=J-z+"px";O=x.innerWidth||Math.max(w.body.offsetWidth,w.documentElement.offsetWidth);var K=x.innerHeight||Math.max(w.body.offsetHeight,w.documentElement.offsetHeight);N.appendChild(I);t.getInputField().setAttribute("aria-autocomplete","list");t.getInputField().setAttribute("aria-owns",this.id);t.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);N=S.options.moveOnOverlap?I.getBoundingClientRect():new DOMRect;ba=S.options.paddingForScrollbar?I.scrollHeight>
I.clientHeight+1:!1;var r;setTimeout(function(){r=t.getScrollInfo()});if(0<N.bottom-K){var Y=N.bottom-N.top;0<B.top-(B.bottom-N.top)-Y?(I.style.top=(J=B.top-Y-z)+"px",T=!1):Y>K&&(I.style.height=K-5+"px",I.style.top=(J=B.bottom-N.top-z)+"px",z=t.getCursor(),V.from.ch!=z.ch&&(B=t.cursorCoords(z),I.style.left=(A=B.left-v)+"px",N=I.getBoundingClientRect()))}z=N.right-O;ba&&(z+=t.display.nativeBarWidth);0<z&&(N.right-N.left>O&&(I.style.width=O-5+"px",z-=N.right-N.left-O),I.style.left=(A=B.left-z-v)+"px");
if(ba)for(B=I.firstChild;B;B=B.nextSibling)B.style.paddingRight=t.display.nativeBarWidth+"px";t.addKeyMap(this.keyMap=h(S,{moveFocus:function(E,C){F.changeActive(F.selectedHint+E,C)},setFocus:function(E){F.changeActive(E)},menuSize:function(){return F.screenAmount()},length:R.length,close:function(){S.close()},pick:function(){F.pick()},data:V}));if(S.options.closeOnUnfocus){var Z;t.on("blur",this.onBlur=function(){Z=setTimeout(function(){S.close()},100)});t.on("focus",this.onFocus=function(){clearTimeout(Z)})}t.on("scroll",
this.onScroll=function(){var E=t.getScrollInfo(),C=t.getWrapperElement().getBoundingClientRect();r||(r=t.getScrollInfo());var W=J+r.top-E.top,fa=W-(x.pageYOffset||(w.documentElement||w.body).scrollTop);T||(fa+=I.offsetHeight);if(fa<=C.top||fa>=C.bottom)return S.close();I.style.top=W+"px";I.style.left=A+r.left-E.left+"px"});k.on(I,"dblclick",function(E){(E=l(I,E.target||E.srcElement))&&null!=E.hintId&&(F.changeActive(E.hintId),F.pick())});k.on(I,"click",function(E){(E=l(I,E.target||E.srcElement))&&
null!=E.hintId&&(F.changeActive(E.hintId),S.options.completeOnSingleClick&&F.pick())});k.on(I,"mousedown",function(){setTimeout(function(){t.focus()},20)});B=this.getSelectedHintRange();0===B.from&&0===B.to||this.scrollToActive();k.signal(V,"select",R[this.selectedHint],I.childNodes[this.selectedHint]);return!0}function q(S,V){if(!S.somethingSelected())return V;S=[];for(var F=0;F<V.length;F++)V[F].supportsSelection&&S.push(V[F]);return S}function D(S,V,F,t){S.async?S(V,t,F):(S=S(V,F))&&S.then?S.then(t):
t(S)}k.showHint=function(S,V,F){if(!V)return S.showHint(F);F&&F.async&&(V.async=!0);V={hint:V};if(F)for(var t in F)V[t]=F[t];return S.showHint(V)};k.defineExtension("showHint",function(S){var V=this.getCursor("start"),F=this.options.hintOptions,t={},w;for(w in X)t[w]=X[w];if(F)for(w in F)void 0!==F[w]&&(t[w]=F[w]);if(S)for(w in S)void 0!==S[w]&&(t[w]=S[w]);t.hint.resolve&&(t.hint=t.hint.resolve(this,V));S=t;V=this.listSelections();if(!(1<V.length)){if(this.somethingSelected()){if(!S.hint.supportsSelection)return;
for(w=0;w<V.length;w++)if(V[w].head.line!=V[w].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();V=this.state.completionActive=new f(this,S);V.options.hint&&(k.signal(this,"startCompletion",this),V.update(!0))}});k.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var U=window.requestAnimationFrame||function(S){return setTimeout(S,1E3/60)},aa=window.cancelAnimationFrame||clearTimeout;f.prototype={close:function(){this.active()&&
(this.tick=this.cm.state.completionActive=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&k.signal(this.data,"close"),this.widget&&this.widget.close(),k.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(S,V){var F=S.list[V],t=this;this.cm.operation(function(){F.hint?F.hint(t.cm,S,F):t.cm.replaceRange("string"==typeof F?F:F.text,F.from||S.from,F.to||S.to,"complete");
k.signal(S,"pick",F);t.cm.scrollIntoView()});this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(aa(this.debounce),this.debounce=0);var S=this.startPos;this.data&&(S=this.data.from);var V=this.cm.getCursor(),F=this.cm.getLine(V.line);if(V.line!=this.startPos.line||F.length-V.ch!=this.startLen-this.startPos.ch||V.ch<S.ch||this.cm.somethingSelected()||!V.ch||this.options.closeCharacters.test(F.charAt(V.ch-1)))this.close();else{var t=this;this.debounce=U(function(){t.update()});
this.widget&&this.widget.disable()}},update:function(S){if(null!=this.tick){var V=this,F=++this.tick;D(this.options.hint,this.cm,this.options,function(t){V.tick==F&&V.finishUpdate(t,S)})}},finishUpdate:function(S,V){this.data&&k.signal(this.data,"update");V=this.widget&&this.widget.picked||V&&this.options.completeSingle;this.widget&&this.widget.close();(this.data=S)&&S.list.length&&(V&&1==S.list.length?this.pick(S,0):(this.widget=new u(this,S),k.signal(S,"shown")))}};u.prototype={close:function(){if(this.completion.widget==
this){this.completion.widget=null;this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var S=this.completion.cm.getInputField();S.removeAttribute("aria-activedescendant");S.removeAttribute("aria-owns");S=this.completion.cm;this.completion.options.closeOnUnfocus&&(S.off("blur",this.onBlur),S.off("focus",this.onFocus));S.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var S=this;this.keyMap={Enter:function(){S.picked=
!0}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(S,V){S>=this.data.list.length?S=V?this.data.list.length-1:0:0>S&&(S=V?0:this.data.list.length-1);if(this.selectedHint!=S){if(V=this.hints.childNodes[this.selectedHint])V.className=V.className.replace(" CodeMirror-hint-active",""),V.removeAttribute("aria-selected");V=this.hints.childNodes[this.selectedHint=S];V.className+=" CodeMirror-hint-active";V.setAttribute("aria-selected",
"true");this.completion.cm.getInputField().setAttribute("aria-activedescendant",V.id);this.scrollToActive();k.signal(this.data,"select",this.data.list[this.selectedHint],V)}},scrollToActive:function(){var S=this.getSelectedHintRange(),V=this.hints.childNodes[S.from];S=this.hints.childNodes[S.to];var F=this.hints.firstChild;V.offsetTop<this.hints.scrollTop?this.hints.scrollTop=V.offsetTop-F.offsetTop:S.offsetTop+S.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=S.offsetTop+
S.offsetHeight-this.hints.clientHeight+F.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var S=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-S),to:Math.min(this.data.list.length-1,this.selectedHint+S)}}};k.registerHelper("hint","auto",{resolve:function(S,V){var F=S.getHelpers(V,"hint"),t;return F.length?(S=function(w,x,I){function R(v){if(v==B.length)return x(null);
D(B[v],w,I,function(O){O&&0<O.list.length?x(O):R(v+1)})}var B=q(w,F);R(0)},S.async=!0,S.supportsSelection=!0,S):(t=S.getHelper(S.getCursor(),"hintWords"))?function(w){return k.hint.fromList(w,{words:t})}:k.hint.anyword?function(w,x){return k.hint.anyword(w,x)}:function(){}}});k.registerHelper("hint","fromList",function(S,V){var F=S.getCursor(),t=S.getTokenAt(F);S=k.Pos(F.line,t.start);t.start<F.ch&&/\w/.test(t.string.charAt(F.ch-t.start-1))?t=t.string.substr(0,F.ch-t.start):(t="",S=F);for(var w=[],
x=0;x<V.words.length;x++){var I=V.words[x];I.slice(0,t.length)==t&&w.push(I)}if(w.length)return{list:w,from:S,to:F}});k.commands.autocomplete=k.showHint;var X={hint:k.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};k.defineOption("hintOptions",null)})};
shadow$provide[112]=function(Pa,da,gb,oa){(function(k){"object"==typeof oa&&"object"==typeof gb?k(da(108)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){k.runMode=function(f,h,l,u){h=k.getMode(k.defaults,h);var q=u&&u.tabSize||k.defaults.tabSize;if(l.appendChild){var D=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||9>document.documentMode),U=l,aa=0;U.innerHTML="";l=function(t,w){if("\n"==t)U.appendChild(document.createTextNode(D?
"\r":t)),aa=0;else{for(var x="",I=0;;){var R=t.indexOf("\t",I);if(-1==R){x+=t.slice(I);aa+=t.length-I;break}else{aa+=R-I;x+=t.slice(I,R);I=q-aa%q;aa+=I;for(var B=0;B<I;++B)x+=" ";I=R+1}}w?(t=U.appendChild(document.createElement("span")),t.className="cm-"+w.replace(/ +/g," cm-"),t.appendChild(document.createTextNode(x))):U.appendChild(document.createTextNode(x))}}}var X=k.splitLines(f);f=u&&u.state||k.startState(h);var S=0;for(u=X.length;S<u;++S){S&&l("\n");var V=new k.StringStream(X[S],null,{lookAhead:function(t){return X[S+
t]},baseToken:function(){}});for(!V.string&&h.blankLine&&h.blankLine(f);!V.eol();){var F=h.token(V,f);l(V.current(),F,S,V.start,f,h);V.start=V.pos}}}})};
shadow$provide[113]=function(Pa,da,gb,oa){(function(k){"object"==typeof oa&&"object"==typeof gb?k(da(108),da(112)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./runmode"],k):k(CodeMirror)})(function(k){function f(l,u){if(3==l.nodeType)return u.push(l.nodeValue);for(var q=l.firstChild;q;q=q.nextSibling)f(q,u),h.test(l.nodeType)&&u.push("\n")}var h=/^(p|li|div|h\\d|pre|blockquote|td)$/;k.colorize=function(l,u){l||(l=document.body.getElementsByTagName("pre"));for(var q=0;q<
l.length;++q){var D=l[q],U=D.getAttribute("data-lang")||u;if(U){var aa=[];f(D,aa);D.innerHTML="";k.runMode(aa.join(""),U,D);D.className+=" cm-s-default"}}}})};
shadow$provide[114]=function(Pa,da,gb,oa){(function(k){"object"===typeof oa&&"object"===typeof gb?k(da(108)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){k.defineMode("clojure",function(f){function h(B,v){if(B.eatSpace()||B.eat(","))return["space",null];if(B.match(x))return[null,"number"];if(B.match(I))return[null,"string-2"];if(B.eat(/^"/))return(v.tokenize=l)(B,v);if(B.eat(/^[(\[{]/))return["open","bracket"];if(B.eat(/^[)\]}]/))return["close",
"bracket"];if(B.eat(/^;/))return B.skipToEnd(),["space","comment"];if(B.eat(/^[#'@^`~]/))return[null,"meta"];var O=B.match(R);O=O&&O[0];return O?"comment"===O&&"("===v.lastToken?(v.tokenize=u)(B,v):D(O,S)||":"===O.charAt(0)?["symbol","atom"]:D(O,V)||D(O,F)?["symbol","keyword"]:"("===v.lastToken?["symbol","builtin"]:["symbol","variable"]:(B.next(),B.eatWhile(function(N){return!D(N,w)}),[null,"error"])}function l(B,v){for(var O=!1,N;N=B.next();){if('"'===N&&!O){v.tokenize=h;break}O=!O&&"\\"===N}return[null,
"string"]}function u(B,v){for(var O=1,N;N=B.next();)if(")"===N&&O--,"("===N&&O++,0===O){B.backUp(1);v.tokenize=h;break}return["space","comment"]}function q(B){for(var v={},O=0;O<B.length;++O)v[B[O]]=!0;return v}function D(B,v){if(v instanceof RegExp)return v.test(B);if(v instanceof Object)return v.propertyIsEnumerable(B)}var U=["false","nil","true"],aa=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),X="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
k.registerHelper("hintWords","clojure",[].concat(U,aa,X));var S=q(U),V=q(aa),F=q(X),t=q("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
w=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,x=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,I=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,R=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:h}},token:function(B,v){B.sol()&&"number"!==typeof v.ctx.indentTo&&(v.ctx.indentTo=v.ctx.start+1);var O=v.tokenize(B,v),N=O[0];O=O[1];var A=B.current();"space"!==N&&("("===v.lastToken&&null===v.ctx.indentTo?"symbol"===N&&D(A,t)?v.ctx.indentTo=v.ctx.start+f.indentUnit:v.ctx.indentTo="next":"next"===v.ctx.indentTo&&(v.ctx.indentTo=B.column()),v.lastToken=A);"open"===N?v.ctx={prev:v.ctx,start:B.column(),indentTo:null}:
"close"===N&&(v.ctx=v.ctx.prev||v.ctx);return O},indent:function(B){var v=B.ctx.indentTo;return"number"===typeof v?v:B.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});k.defineMIME("text/x-clojure","clojure");k.defineMIME("text/x-clojurescript","clojure");k.defineMIME("application/edn","clojure")})};
shadow$provide[115]=function(Pa,da,gb,oa){(function(k){"object"==typeof oa&&"object"==typeof gb?k(da(108)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){var f={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,
dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,
caseFold:!0},h={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};k.defineMode("xml",function(l,u){function q(r,Y){function Z(C){Y.tokenize=C;return C(r,Y)}var E=r.next();if("\x3c"==E){if(r.eat("!"))return r.eat("[")?r.match("CDATA[")?Z(aa("atom","]]\x3e")):null:r.match("--")?Z(aa("comment","--\x3e")):r.match("DOCTYPE",!0,!0)?(r.eatWhile(/[\w\._\-]/),Z(X(1))):null;if(r.eat("?"))return r.eatWhile(/[\w\._\-]/),
Y.tokenize=aa("meta","?\x3e"),"meta";ba=r.eat("/")?"closeTag":"openTag";Y.tokenize=D;return"tag bracket"}if("\x26"==E)return(r.eat("#")?r.eat("x")?r.eatWhile(/[a-fA-F\d]/)&&r.eat(";"):r.eatWhile(/[\d]/)&&r.eat(";"):r.eatWhile(/[\w\.\-:]/)&&r.eat(";"))?"atom":"error";r.eatWhile(/[^&<]/);return null}function D(r,Y){var Z=r.next();if("\x3e"==Z||"/"==Z&&r.eat("\x3e"))return Y.tokenize=q,ba="\x3e"==Z?"endTag":"selfcloseTag","tag bracket";if("\x3d"==Z)return ba="equals",null;if("\x3c"==Z)return Y.tokenize=
q,Y.state=w,Y.tagName=Y.tagStart=null,(r=Y.tokenize(r,Y))?r+" tag error":"tag error";if(/['"]/.test(Z))return Y.tokenize=U(Z),Y.stringStartCol=r.column(),Y.tokenize(r,Y);r.match(/^[^\s\u00a0=<>"']*[^\s\u00a0=<>"'\/]/);return"word"}function U(r){var Y=function(Z,E){for(;!Z.eol();)if(Z.next()==r){E.tokenize=D;break}return"string"};Y.isInAttribute=!0;return Y}function aa(r,Y){return function(Z,E){for(;!Z.eol();){if(Z.match(Y)){E.tokenize=q;break}Z.next()}return r}}function X(r){return function(Y,Z){for(var E;null!=
(E=Y.next());){if("\x3c"==E)return Z.tokenize=X(r+1),Z.tokenize(Y,Z);if("\x3e"==E)if(1==r){Z.tokenize=q;break}else return Z.tokenize=X(r-1),Z.tokenize(Y,Z)}return"meta"}}function S(r){return r&&r.toLowerCase()}function V(r,Y,Z){this.prev=r.context;this.tagName=Y||"";this.indent=r.indented;this.startOfLine=Z;if(T.doNotIndent.hasOwnProperty(Y)||r.context&&r.context.noIndent)this.noIndent=!0}function F(r){r.context&&(r.context=r.context.prev)}function t(r,Y){for(var Z;r.context;){Z=r.context.tagName;
if(!T.contextGrabbers.hasOwnProperty(S(Z))||!T.contextGrabbers[S(Z)].hasOwnProperty(S(Y)))break;F(r)}}function w(r,Y,Z){return"openTag"==r?(Z.tagStart=Y.column(),x):"closeTag"==r?I:w}function x(r,Y,Z){if("word"==r)return Z.tagName=Y.current(),K="tag",v;if(T.allowMissingTagName&&"endTag"==r)return K="tag bracket",v(r,Y,Z);K="error";return x}function I(r,Y,Z){if("word"==r){r=Y.current();Z.context&&Z.context.tagName!=r&&T.implicitlyClosed.hasOwnProperty(S(Z.context.tagName))&&F(Z);if(Z.context&&Z.context.tagName==
r||!1===T.matchClosing)return K="tag",R;K="tag error";return B}if(T.allowMissingTagName&&"endTag"==r)return K="tag bracket",R(r,Y,Z);K="error";return B}function R(r,Y,Z){if("endTag"!=r)return K="error",R;F(Z);return w}function B(r,Y,Z){K="error";return R(r,Y,Z)}function v(r,Y,Z){if("word"==r)return K="attribute",O;if("endTag"==r||"selfcloseTag"==r){Y=Z.tagName;var E=Z.tagStart;Z.tagName=Z.tagStart=null;"selfcloseTag"==r||T.autoSelfClosers.hasOwnProperty(S(Y))?t(Z,Y):(t(Z,Y),Z.context=new V(Z,Y,E==
Z.indented));return w}K="error";return v}function O(r,Y,Z){if("equals"==r)return N;T.allowMissing||(K="error");return v(r,Y,Z)}function N(r,Y,Z){if("string"==r)return A;if("word"==r&&T.allowUnquoted)return K="string",v;K="error";return v(r,Y,Z)}function A(r,Y,Z){return"string"==r?A:v(r,Y,Z)}var J=l.indentUnit,T={};l=u.htmlMode?f:h;for(var z in l)T[z]=l[z];for(z in u)T[z]=u[z];var ba,K;q.isInText=!0;return{startState:function(r){var Y={tokenize:q,state:w,indented:r||0,tagName:null,tagStart:null,context:null};
null!=r&&(Y.baseIndent=r);return Y},token:function(r,Y){!Y.tagName&&r.sol()&&(Y.indented=r.indentation());if(r.eatSpace())return null;ba=null;var Z=Y.tokenize(r,Y);(Z||ba)&&"comment"!=Z&&(K=null,Y.state=Y.state(ba||Z,r,Y),K&&(Z="error"==K?Z+" error":K));return Z},indent:function(r,Y,Z){var E=r.context;if(r.tokenize.isInAttribute)return r.tagStart==r.indented?r.stringStartCol+1:r.indented+J;if(E&&E.noIndent)return k.Pass;if(r.tokenize!=D&&r.tokenize!=q)return Z?Z.match(/^(\s*)/)[0].length:0;if(r.tagName)return!1!==
T.multilineTagIndentPastTag?r.tagStart+r.tagName.length+2:r.tagStart+J*(T.multilineTagIndentFactor||1);if(T.alignCDATA&&/<!\[CDATA\[/.test(Y))return 0;if((Y=Y&&/^<(\/)?([\w_:\.-]*)/.exec(Y))&&Y[1])for(;E;)if(E.tagName==Y[2]){E=E.prev;break}else if(T.implicitlyClosed.hasOwnProperty(S(E.tagName)))E=E.prev;else break;else if(Y)for(;E;)if((Z=T.contextGrabbers[S(E.tagName)])&&Z.hasOwnProperty(S(Y[2])))E=E.prev;else break;for(;E&&E.prev&&!E.startOfLine;)E=E.prev;return E?E.indent+J:r.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,
blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:T.htmlMode?"html":"xml",helperType:T.htmlMode?"html":"xml",skipAttribute:function(r){r.state==N&&(r.state=v)},xmlCurrentTag:function(r){return r.tagName?{name:r.tagName,close:"closeTag"==r.type}:null},xmlCurrentContext:function(r){var Y=[];for(r=r.context;r;r=r.prev)Y.push(r.tagName);return Y.reverse()}}});k.defineMIME("text/xml","xml");k.defineMIME("application/xml","xml");k.mimeModes.hasOwnProperty("text/html")||k.defineMIME("text/html",
{name:"xml",htmlMode:!0})})};
shadow$provide[116]=function(Pa,da,gb,oa){(function(k){"object"==typeof oa&&"object"==typeof gb?k(da(108)):"function"==typeof define&&define.amd?define(["../lib/codemirror"],k):k(CodeMirror)})(function(k){k.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},
{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:"cpp c++ cc cxx hpp h++ hh hxx".split(" "),alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",
mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",
mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",
ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",
ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},
{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",
ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",
ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript",
"text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",
mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",
mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",
mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",
mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:"php php3 php4 php5 php7 phtml".split(" ")},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:"txt text conf def list log".split(" ")},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",
ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",
ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",
mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",
mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},
{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},
{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:"123456789".split("")},
{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",
mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},
{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",
mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var f=0;f<k.modeInfo.length;f++){var h=k.modeInfo[f];h.mimes&&(h.mime=h.mimes[0])}k.findModeByMIME=function(l){l=l.toLowerCase();for(var u=0;u<k.modeInfo.length;u++){var q=k.modeInfo[u];if(q.mime==l)return q;if(q.mimes)for(var D=0;D<q.mimes.length;D++)if(q.mimes[D]==l)return q}if(/\+xml$/.test(l))return k.findModeByMIME("application/xml");if(/\+json$/.test(l))return k.findModeByMIME("application/json")};k.findModeByExtension=function(l){l=
l.toLowerCase();for(var u=0;u<k.modeInfo.length;u++){var q=k.modeInfo[u];if(q.ext)for(var D=0;D<q.ext.length;D++)if(q.ext[D]==l)return q}};k.findModeByFileName=function(l){for(var u=0;u<k.modeInfo.length;u++){var q=k.modeInfo[u];if(q.file&&q.file.test(l))return q}u=l.lastIndexOf(".");if(l=-1<u&&l.substring(u+1,l.length))return k.findModeByExtension(l)};k.findModeByName=function(l){l=l.toLowerCase();for(var u=0;u<k.modeInfo.length;u++){var q=k.modeInfo[u];if(q.name.toLowerCase()==l)return q;if(q.alias)for(var D=
0;D<q.alias.length;D++)if(q.alias[D].toLowerCase()==l)return q}}})};
shadow$provide[117]=function(Pa,da,gb,oa){(function(k){"object"==typeof oa&&"object"==typeof gb?k(da(108),da(115),da(116)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],k):k(CodeMirror)})(function(k){k.defineMode("markdown",function(f,h){function l(C,W,fa){W.f=W.inline=fa;return fa(C,W)}function u(C){C.linkTitle=!1;C.linkHref=!1;C.linkText=!1;C.em=!1;C.strong=!1;C.strikethrough=!1;C.quote=0;C.indentedCode=!1;if(C.f==D){var W=B;W||(W=k.innerMode(R,C.htmlState),
W="xml"==W.mode.name&&null===W.state.tagStart&&!W.state.context&&W.state.tokenize.isInText);W&&(C.f=S,C.block=q,C.htmlState=null)}C.trailingSpace=0;C.trailingSpaceNewLine=!1;C.prevLine=C.thisLine;C.thisLine={stream:null};return null}function q(C,W){var fa=C.column()===W.indentation,ja=W.prevLine.stream;var Ba=!ja||!/\S/.test(ja.string);var Ga=W.indentedCode,ua=W.prevLine.hr,Fa=!1!==W.list,Xa=(W.listStack[W.listStack.length-1]||0)+3;W.indentedCode=!1;ja=W.indentation;if(null===W.indentationDiff&&(W.indentationDiff=
W.indentation,Fa)){for(W.list=null;ja<W.listStack[W.listStack.length-1];)W.listStack.pop(),W.listStack.length?W.indentation=W.listStack[W.listStack.length-1]:W.list=!1;!1!==W.list&&(W.indentationDiff=ja-W.listStack[W.listStack.length-1])}var Sa=!Ba&&!ua&&!W.prevLine.header&&(!Fa||!Ga)&&!W.prevLine.fencedCodeEnd,eb=(!1===W.list||ua||Ba)&&W.indentation<=Xa&&C.match(N);ua=null;if(4<=W.indentationDiff&&(Ga||W.prevLine.fencedCodeEnd||W.prevLine.header||Ba))return C.skipToEnd(),W.indentedCode=!0,v.code;
if(C.eatSpace())return null;if(fa&&W.indentation<=Xa&&(ua=C.match(T))&&6>=ua[1].length)return W.quote=0,W.header=ua[1].length,W.thisLine.header=!0,h.highlightFormatting&&(W.formatting="header"),W.f=W.inline,aa(W);if(W.indentation<=Xa&&C.eat("\x3e"))return W.quote=fa?1:W.quote+1,h.highlightFormatting&&(W.formatting="quote"),C.eatSpace(),aa(W);if(!eb&&!W.setext&&fa&&W.indentation<=Xa&&(ua=C.match(A)))return fa=ua[1]?"ol":"ul",W.indentation=ja+C.current().length,W.list=!0,W.quote=0,W.listStack.push(W.indentation),
W.em=!1,W.strong=!1,W.code=!1,W.strikethrough=!1,h.taskLists&&C.match(J,!1)&&(W.taskList=!0),W.f=W.inline,h.highlightFormatting&&(W.formatting=["list","list-"+fa]),aa(W);if(fa&&W.indentation<=Xa&&(ua=C.match(K,!0))){W.quote=0;W.fencedEndRE=new RegExp(ua[1]+"+ *$");if(C=h.fencedCodeBlockHighlighting)C=ua[2]||h.fencedCodeBlockDefaultMode,k.findModeByName&&(fa=k.findModeByName(C))&&(C=fa.mime||fa.mimes[0]),C=k.getMode(f,C),C="null"==C.name?null:C;W.localMode=C;W.localMode&&(W.localState=k.startState(W.localMode));
W.f=W.block=U;h.highlightFormatting&&(W.formatting="code-block");W.code=-1;return aa(W)}return W.setext||!(Sa&&Fa||W.quote||!1!==W.list||W.code||eb||r.test(C.string))&&(ua=C.lookAhead(1))&&(ua=ua.match(z))?(W.setext?(W.header=W.setext,W.setext=0,C.skipToEnd(),h.highlightFormatting&&(W.formatting="header")):(W.header="\x3d"==ua[0].charAt(0)?1:2,W.setext=W.header),W.thisLine.header=!0,W.f=W.inline,aa(W)):eb?(C.skipToEnd(),W.hr=!0,W.thisLine.hr=!0,v.hr):"["===C.peek()?l(C,W,w):l(C,W,W.inline)}function D(C,
W){var fa=R.token(C,W.htmlState);if(!B){var ja=k.innerMode(R,W.htmlState);if("xml"==ja.mode.name&&null===ja.state.tagStart&&!ja.state.context&&ja.state.tokenize.isInText||W.md_inside&&-1<C.current().indexOf("\x3e"))W.f=S,W.block=q,W.htmlState=null}return fa}function U(C,W){var fa=W.listStack[W.listStack.length-1]||0,ja=W.indentation<fa;if(W.fencedEndRE&&W.indentation<=fa+3&&(ja||C.match(W.fencedEndRE))){h.highlightFormatting&&(W.formatting="code-block");var Ba;ja||(Ba=aa(W));W.localMode=W.localState=
null;W.block=q;W.f=S;W.fencedEndRE=null;W.code=0;W.thisLine.fencedCodeEnd=!0;return ja?(fa=W.block,W.f=W.block=fa,fa(C,W)):Ba}if(W.localMode)return W.localMode.token(C,W.localState);C.skipToEnd();return v.code}function aa(C){var W=[];if(C.formatting){W.push(v.formatting);"string"===typeof C.formatting&&(C.formatting=[C.formatting]);for(var fa=0;fa<C.formatting.length;fa++)W.push(v.formatting+"-"+C.formatting[fa]),"header"===C.formatting[fa]&&W.push(v.formatting+"-"+C.formatting[fa]+"-"+C.header),
"quote"===C.formatting[fa]&&(!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=C.quote?W.push(v.formatting+"-"+C.formatting[fa]+"-"+C.quote):W.push("error"))}if(C.taskOpen)return W.push("meta"),W.length?W.join(" "):null;if(C.taskClosed)return W.push("property"),W.length?W.join(" "):null;C.linkHref?W.push(v.linkHref,"url"):(C.strong&&W.push(v.strong),C.em&&W.push(v.em),C.strikethrough&&W.push(v.strikethrough),C.emoji&&W.push(v.emoji),C.linkText&&W.push(v.linkText),C.code&&W.push(v.code),C.image&&W.push(v.image),
C.imageAltText&&W.push(v.imageAltText,"link"),C.imageMarker&&W.push(v.imageMarker));C.header&&W.push(v.header,v.header+"-"+C.header);C.quote&&(W.push(v.quote),!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=C.quote?W.push(v.quote+"-"+C.quote):W.push(v.quote+"-"+h.maxBlockquoteDepth));!1!==C.list&&((fa=(C.listStack.length-1)%3)?1===fa?W.push(v.list2):W.push(v.list3):W.push(v.list1));C.trailingSpaceNewLine?W.push("trailing-space-new-line"):C.trailingSpace&&W.push("trailing-space-"+(C.trailingSpace%2?"a":
"b"));return W.length?W.join(" "):null}function X(C,W){if(C.match(ba,!0))return aa(W)}function S(C,W){var fa=W.text(C,W);if("undefined"!==typeof fa)return fa;if(W.list)return W.list=null,aa(W);if(W.taskList)return" "===C.match(J,!0)[1]?W.taskOpen=!0:W.taskClosed=!0,h.highlightFormatting&&(W.formatting="task"),W.taskList=!1,aa(W);W.taskOpen=!1;W.taskClosed=!1;if(W.header&&C.match(/^#+$/,!0))return h.highlightFormatting&&(W.formatting="header"),aa(W);fa=C.next();if(W.linkTitle){W.linkTitle=!1;var ja=
fa;"("===fa&&(ja=")");ja=(ja+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");if(C.match(new RegExp("^\\s*(?:[^"+ja+"\\\\]+|\\\\\\\\|\\\\.)"+ja),!0))return v.linkHref}if("`"===fa){fa=W.formatting;h.highlightFormatting&&(W.formatting="code");C.eatWhile("`");C=C.current().length;if(0!=W.code||W.quote&&1!=C){if(C==W.code)return C=aa(W),W.code=0,C;W.formatting=fa;return aa(W)}W.code=C;return aa(W)}if(W.code)return aa(W);if("\\"===fa&&(C.next(),h.highlightFormatting))return fa=aa(W),W=v.formatting+"-escape",
fa?fa+" "+W:W;if("!"===fa&&C.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return W.imageMarker=!0,W.image=!0,h.highlightFormatting&&(W.formatting="image"),aa(W);if("["===fa&&W.imageMarker&&C.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return W.imageMarker=!1,W.imageAltText=!0,h.highlightFormatting&&(W.formatting="image"),aa(W);if("]"===fa&&W.imageAltText)return h.highlightFormatting&&(W.formatting="image"),fa=aa(W),W.imageAltText=!1,W.image=!1,W.inline=W.f=F,fa;if("["===fa&&!W.image){if(W.linkText&&C.match(/^.*?\]/))return aa(W);
W.linkText=!0;h.highlightFormatting&&(W.formatting="link");return aa(W)}if("]"===fa&&W.linkText)return h.highlightFormatting&&(W.formatting="link"),fa=aa(W),W.linkText=!1,W.inline=W.f=C.match(/\(.*?\)| ?\[.*?\]/,!1)?F:S,fa;if("\x3c"===fa&&C.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return W.f=W.inline=V,h.highlightFormatting&&(W.formatting="link"),fa=aa(W),(fa?fa+" ":"")+v.linkInline;if("\x3c"===fa&&C.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return W.f=W.inline=V,h.highlightFormatting&&(W.formatting=
"link"),fa=aa(W),(fa?fa+" ":"")+v.linkEmail;if(h.xml&&"\x3c"===fa&&C.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1))return fa=C.string.indexOf("\x3e",C.pos),-1!=fa&&(fa=C.string.substring(C.start,fa),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(fa)&&(W.md_inside=!0)),C.backUp(1),W.htmlState=k.startState(R),fa=D,W.f=W.block=fa,fa(C,W);if(h.xml&&"\x3c"===fa&&C.match(/^\/\w*?>/))return W.md_inside=!1,"tag";if("*"===fa||"_"===fa){for(var Ba=1,Ga=1==C.pos?
" ":C.string.charAt(C.pos-2);3>Ba&&C.eat(fa);)Ba++;var ua=C.peek()||" ",Fa=!/\s/.test(ua)&&(!Y.test(ua)||/\s/.test(Ga)||Y.test(Ga)),Xa=!/\s/.test(Ga)&&(!Y.test(Ga)||/\s/.test(ua)||Y.test(ua)),Sa=ja=null;Ba%2&&(W.em||!Fa||"*"!==fa&&Xa&&!Y.test(Ga)?W.em!=fa||!Xa||"*"!==fa&&Fa&&!Y.test(ua)||(ja=!1):ja=!0);1<Ba&&(W.strong||!Fa||"*"!==fa&&Xa&&!Y.test(Ga)?W.strong!=fa||!Xa||"*"!==fa&&Fa&&!Y.test(ua)||(Sa=!1):Sa=!0);if(null!=Sa||null!=ja)return h.highlightFormatting&&(W.formatting=null==ja?"strong":null==
Sa?"em":"strong em"),!0===ja&&(W.em=fa),!0===Sa&&(W.strong=fa),C=aa(W),!1===ja&&(W.em=!1),!1===Sa&&(W.strong=!1),C}else if(" "===fa&&(C.eat("*")||C.eat("_"))){if(" "===C.peek())return aa(W);C.backUp(1)}if(h.strikethrough)if("~"===fa&&C.eatWhile(fa)){if(W.strikethrough)return h.highlightFormatting&&(W.formatting="strikethrough"),C=aa(W),W.strikethrough=!1,C;if(C.match(/^[^\s]/,!1))return W.strikethrough=!0,h.highlightFormatting&&(W.formatting="strikethrough"),aa(W)}else if(" "===fa&&C.match("~~",!0)){if(" "===
C.peek())return aa(W);C.backUp(2)}if(h.emoji&&":"===fa&&C.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/))return W.emoji=!0,h.highlightFormatting&&(W.formatting="emoji"),C=aa(W),W.emoji=!1,C;" "===fa&&(C.match(/^ +$/,!1)?W.trailingSpace++:W.trailingSpace&&(W.trailingSpaceNewLine=!0));return aa(W)}function V(C,W){if("\x3e"===C.next())return W.f=W.inline=S,h.highlightFormatting&&(W.formatting="link"),C=aa(W),(C?C+" ":"")+v.linkInline;C.match(/^[^>]+/,!0);return v.linkInline}function F(C,
W){if(C.eatSpace())return null;C=C.next();return"("===C||"["===C?(W.f=W.inline=t("("===C?")":"]"),h.highlightFormatting&&(W.formatting="link-string"),W.linkHref=!0,aa(W)):"error"}function t(C){return function(W,fa){if(W.next()===C)return fa.f=fa.inline=S,h.highlightFormatting&&(fa.formatting="link-string"),W=aa(fa),fa.linkHref=!1,W;W.match(Z[C]);fa.linkHref=!0;return aa(fa)}}function w(C,W){return C.match(/^([^\]\\]|\\.)*\]:/,!1)?(W.f=x,C.next(),h.highlightFormatting&&(W.formatting="link"),W.linkText=
!0,aa(W)):l(C,W,S)}function x(C,W){if(C.match("]:",!0))return W.f=W.inline=I,h.highlightFormatting&&(W.formatting="link"),C=aa(W),W.linkText=!1,C;C.match(/^([^\]\\]|\\.)+/,!0);return v.linkText}function I(C,W){if(C.eatSpace())return null;C.match(/^[^\s]+/,!0);void 0===C.peek()?W.linkTitle=!0:C.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0);W.f=W.inline=S;return v.linkHref+" url"}var R=k.getMode(f,"text/html"),B="null"==R.name;void 0===h.highlightFormatting&&(h.highlightFormatting=
!1);void 0===h.maxBlockquoteDepth&&(h.maxBlockquoteDepth=0);void 0===h.taskLists&&(h.taskLists=!1);void 0===h.strikethrough&&(h.strikethrough=!1);void 0===h.emoji&&(h.emoji=!1);void 0===h.fencedCodeBlockHighlighting&&(h.fencedCodeBlockHighlighting=!0);void 0===h.fencedCodeBlockDefaultMode&&(h.fencedCodeBlockDefaultMode="text/plain");void 0===h.xml&&(h.xml=!0);void 0===h.tokenTypeOverrides&&(h.tokenTypeOverrides={});var v={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",
list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"},O;for(O in v)v.hasOwnProperty(O)&&h.tokenTypeOverrides[O]&&(v[O]=h.tokenTypeOverrides[O]);var N=/^([*\-_])(?:\s*\1){2,}\s*$/,A=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,J=/^\[(x| )\](?=\s)/i,T=h.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,z=/^ {0,3}(?:={1,}|-{2,})\s*$/,
ba=/^[^#!\[\]*_\\<>` "'(~:]+/,K=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,r=/^\s*\[[^\]]+?\]:.*$/,Y=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,
Z={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},E={startState:function(){return{f:q,prevLine:{stream:null},thisLine:{stream:null},block:q,htmlState:null,indentation:0,inline:S,text:X,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(C){return{f:C.f,
prevLine:C.prevLine,thisLine:C.thisLine,block:C.block,htmlState:C.htmlState&&k.copyState(R,C.htmlState),indentation:C.indentation,localMode:C.localMode,localState:C.localMode?k.copyState(C.localMode,C.localState):null,inline:C.inline,text:C.text,formatting:!1,linkText:C.linkText,linkTitle:C.linkTitle,linkHref:C.linkHref,code:C.code,em:C.em,strong:C.strong,strikethrough:C.strikethrough,emoji:C.emoji,header:C.header,setext:C.setext,hr:C.hr,taskList:C.taskList,list:C.list,listStack:C.listStack.slice(0),
quote:C.quote,indentedCode:C.indentedCode,trailingSpace:C.trailingSpace,trailingSpaceNewLine:C.trailingSpaceNewLine,md_inside:C.md_inside,fencedEndRE:C.fencedEndRE}},token:function(C,W){W.formatting=!1;if(C!=W.thisLine.stream){W.header=0;W.hr=!1;if(C.match(/^\s*$/,!0))return u(W),null;W.prevLine=W.thisLine;W.thisLine={stream:C};W.taskList=!1;W.trailingSpace=0;W.trailingSpaceNewLine=!1;if(!W.localState&&(W.f=W.block,W.f!=D)){var fa=C.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;W.indentation=fa;
W.indentationDiff=null;if(0<fa)return null}}return W.f(C,W)},innerMode:function(C){return C.block==D?{state:C.htmlState,mode:R}:C.localState?{state:C.localState,mode:C.localMode}:{state:C,mode:E}},indent:function(C,W,fa){return C.block==D&&R.indent?R.indent(C.htmlState,W,fa):C.localState&&C.localMode.indent?C.localMode.indent(C.localState,W,fa):k.Pass},blankLine:u,getType:aa,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return E},"xml");k.defineMIME("text/markdown",
"markdown");k.defineMIME("text/x-markdown","markdown")})};
'use strict';var z9,tbb,ubb,vbb,wbb,xbb,ybb,Abb,Bbb,Dbb,Ebb,Fbb,Gbb,Ibb,Kbb,Lbb,Mbb,Nbb,Rbb,Vbb,Wbb,Xbb,sbb,Ybb,Qbb,Zbb,$bb,acb,D9,C9,Ubb,Pbb,bcb,ccb,zbb,dcb,Tbb,ecb,Cbb,fcb,Hbb,gcb,hcb,A9,icb,y9;z9=function(a,b){a=$APP.rl(a);$APP.E.j(a,y9);$APP.E.j(a,$APP.Zs);a=$APP.E.j(a,$APP.rJ);a=sbb.F(a);return $APP.l(a)?a.F?a.F(b):a.call(null,b):$APP.ox($APP.wB,"ui.codemirror.fun",9,$APP.ix,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["codemirror :cm-events is not setup",b],null)},null),750445958)};
tbb=function(a,b){a=$APP.rl(a);$APP.E.j(a,y9);var c=$APP.E.j(a,$APP.Zs);a=$APP.E.j(a,$APP.rJ);a=$APP.s1.F(a);return $APP.l(a)?a.j?a.j(c,b):a.call(null,c,b):$APP.ox($APP.wB,"ui.codemirror.fun",15,$APP.ix,new $APP.cp(function(){return new $APP.J(null,3,5,$APP.M,["codemirror :save-data is not setup",c,b],null)},null),1596237702)};
ubb=function(a){a=$APP.rl(a);var b=$APP.E.j(a,y9),c=$APP.E.j(a,$APP.Zs);b=b.getValue();$APP.ox($APP.pB,"ui.codemirror.cm-events.change",20,$APP.dx,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["saving cm text id: %s",c],null)},null),1977119658);return tbb(a,b)};
vbb=function(a){var b=a.firstLine(),c=a.getCursor().line;$APP.ox($APP.pB,"ui.codemirror.cm-js.line",20,$APP.dx,new $APP.cp(function(){return new $APP.J(null,3,5,$APP.M,["first-line: %s current-line: ",b,c],null)},null),1387088755);return $APP.y.j(b,c)};
wbb=function(a){var b=a.lastLine(),c=a.getCursor().line;$APP.ox($APP.pB,"ui.codemirror.cm-js.line",26,$APP.dx,new $APP.cp(function(){return new $APP.J(null,3,5,$APP.M,["last-line: %s current-line: %s",b,c],null)},null),2123365112);return $APP.y.j(b,c)};xbb=function(a){a.getCursor();return $APP.MN.F(a.cursorCoords())};
ybb=function(a){var b=a.getCursor();var c=b.line;b=b.ch;var d=a.getLine(c);if($APP.l(d)){var e=$APP.E.j(d.slice(0,b).match(/[^\s\(\)\[\]\{\},`']*$/),0);d=$APP.E.j(d.slice(b).match(/^[^\s\(\)\[\]\{\},`']*/),0);c=new $APP.h(null,2,[$APP.UR,{line:c,ch:b-$APP.ti(e)},$APP.YR,{line:c,ch:b+$APP.ti(d)}],null)}else c=null;return a.getRange($APP.UR.F(c),$APP.YR.F(c))};
Abb=function(a){a=$APP.rl(a);var b=$APP.E.j(a,y9),c=ybb(b);$APP.Ni(c)?$APP.ox($APP.wB,"ui.codemirror.cm-js.completion",117,$APP.ix,new $APP.cp(function(){return new $APP.J(null,1,5,$APP.M,["no current word - cannot get hint!"],null)},null),1767903618):($APP.ox($APP.pB,"ui.codemirror.cm-js.completion",119,$APP.ix,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["getting code-completion for word: ",c],null)},null),787066456),z9(a,new $APP.J(null,2,5,$APP.M,[zbb,c],null)))};
Bbb=function(a,b){a=$APP.rl(a);var c=$APP.E.j(a,y9);$APP.ox($APP.pB,"ui.codemirror.cm-js.completion",126,$APP.ix,new $APP.cp(function(){return new $APP.J(null,1,5,$APP.M,["hint-get .. "],null)},null),-318359996);$APP.l(c)&&Abb(a);return b.preventDefault()};
Dbb=function(a,b){var c=$APP.rl(a);a=$APP.E.j(c,y9);var d=$APP.E.j(c,$APP.Zs);$APP.E.j(c,$APP.rJ);$APP.ox($APP.pB,"ui.codemirror.cm-events.key",9,$APP.dx,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["arrow-up context: %s",c],null)},null),1809305838);return vbb(a)?($APP.ox($APP.pB,"ui.codemirror.cm-events.key",11,$APP.ix,new $APP.cp(function(){return new $APP.J(null,1,5,$APP.M,["up on first-line!"],null)},null),-1932664296),b.preventDefault(),z9(c,new $APP.J(null,3,5,$APP.M,[Cbb,d,$APP.hZa],
null))):null};
Ebb=function(a,b){var c=$APP.rl(a);a=$APP.E.j(c,y9);var d=$APP.E.j(c,$APP.Zs);$APP.E.j(c,$APP.rJ);$APP.ox($APP.pB,"ui.codemirror.cm-events.key",16,$APP.dx,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["arrow-down context: %s",c],null)},null),-1108454452);return wbb(a)?($APP.ox($APP.pB,"ui.codemirror.cm-events.key",18,$APP.ix,new $APP.cp(function(){return new $APP.J(null,1,5,$APP.M,["down on last-line!"],null)},null),443744388),b.preventDefault(),z9(c,new $APP.J(null,3,5,$APP.M,[Cbb,d,
$APP.hOa],null))):null};Fbb=function(a,b,c){a=$APP.rl(a);$APP.E.j(a,A9);$APP.E.j(a,y9);return $APP.ox($APP.pB,"ui.codemirror.cm-events.key",44,$APP.ix,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["key-up:",c.keyCode],null)},null),-1246386530)};
Gbb=function(a,b,c){a=$APP.rl(a);$APP.E.j(a,A9);var d=$APP.E.j(a,y9);$APP.ox($APP.pB,"ui.codemirror.cm-events.key",47,$APP.dx,new $APP.cp(function(){return new $APP.J(null,3,5,$APP.M,["key-down: %s cm: %s",c.keyCode,d],null)},null),1080178578);switch(c.keyCode){case 38:return Dbb(a,c);case 40:return Ebb(a,c);case 9:return $APP.Mf(c.shiftKey)?Bbb(a,c):null;default:return $APP.wea}};
Ibb=function(a){a=$APP.rl(a);$APP.E.j(a,A9);var b=$APP.E.j(a,y9),c=$APP.E.j(a,$APP.Zs);$APP.ox($APP.pB,"ui.codemirror.cm-events.mouse",8,$APP.ix,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["on-mousedown segment-id: ",c],null)},null),98084510);b=xbb(b);return z9(a,new $APP.J(null,3,5,$APP.M,[Hbb,c,b],null))};
Kbb=function(){$APP.ox($APP.gx,"ui.codemirror.core",30,$APP.ix,new $APP.cp(function(){return new $APP.J(null,1,5,$APP.M,["Configure Code Mirror globally"],null)},null),707449258);var a=B9.commands,b=B9.keyMap;$APP.l(a)?a.doNothing=function(){return $APP.Xh}:$APP.ox($APP.gx,"ui.codemirror.core",35,$APP.ix,new $APP.cp(function(){return new $APP.J(null,1,5,$APP.M,["could not set codemirror commands!"],null)},null),165622548);$APP.l(b)?b.gorilla=$APP.Qs(Jbb):$APP.ox($APP.gx,"ui.codemirror.core",38,$APP.ix,
new $APP.cp(function(){return new $APP.J(null,1,5,$APP.M,["could not set codemirror keymap!"],null)},null),-1435179945)};Lbb=function(a,b,c){b=$APP.rl(b);var d=$APP.E.j(b,$APP.H3),e=$APP.E.j(b,C9);return $APP.l($APP.l(d)?$APP.Mf(e):d)?($APP.ox($APP.pB,"ui.codemirror.core",54,$APP.dx,new $APP.cp(function(){return new $APP.J(null,6,5,$APP.M,["focusing cm %s ..",a,"active:",d,"view-only: ",e],null)},null),-1034142169),$APP.l(c)?c.focus():null):null};
Mbb=function(a,b,c){b=$APP.rl(b);var d=$APP.E.j(b,$APP.H3),e=$APP.E.j(b,C9);$APP.l(function(){var f=$APP.Mf(d);return f?f:e}())&&($APP.ox($APP.pB,"ui.codemirror.core",59,$APP.dx,new $APP.cp(function(){return new $APP.J(null,6,5,$APP.M,["blurring cm %s",a,"active:",d,"view-only: ",e],null)},null),-84289503),$APP.l(c)&&c.getInputField().blur())};
Nbb=function(a){return $APP.l($APP.Ig(a))?($APP.Ig(a).toTextArea(),$APP.Tl(a,null)):$APP.ox($APP.wB,"ui.codemirror.core",66,$APP.ix,new $APP.cp(function(){return new $APP.J(null,1,5,$APP.M,["Could not kill CodeMirror instance"],null)},null),-185292266)};
Rbb=function(a,b,c){function d(p){return function(n,u){var z=new $APP.h(null,4,[$APP.Zs,a,A9,k,$APP.rJ,e,y9,$APP.Ig(m)],null);return p.G?p.G(z,n,u):p.call(null,z,n,u)}}var e=$APP.rl(b),f=$APP.E.j(e,$APP.U_),k=$APP.Es.J($APP.C([Obb,c,new $APP.h(null,1,[D9,C9.F(c)],null)])),m=$APP.pp.F(null);return $APP.Ks(new $APP.h(null,4,[$APP.zU,function(p){p=$APP.bt.findDOMNode(p);var n=$APP.Qs(k);p=B9.fromTextArea(p,n);n=f.F?f.F(a):f.call(null,a);$APP.Tl(m,p);p.setValue(n);p.on("change",d(ubb));p.on("keydown",
d(Gbb));p.on("keyup",d(Fbb));p.on("mousedown",d(Ibb));Mbb(a,k,p);return Lbb(a,k,p)},$APP.M0,function(){$APP.ox($APP.pB,"ui.codemirror.core",112,$APP.ix,new $APP.cp(function(){return new $APP.J(null,1,5,$APP.M,["cm component-will-unmount"],null)},null),-1819708772);return Nbb(m)},$APP.DU,function(p){var n=$APP.ss(p);$APP.A.G(n,0,null);p=$APP.A.G(n,1,null);$APP.A.G(n,2,null);n=$APP.A.G(n,3,null);var u=$APP.Ig(m),z=f.F?f.F(p):f.call(null,p);u.setValue(z);Mbb(p,n,$APP.Ig(m));return Lbb(p,n,$APP.Ig(m))},
$APP.Ts,function(){var p=$APP.rl(k);p=$APP.E.j(p,D9);return $APP.l(p)?new $APP.J(null,2,5,$APP.M,[Pbb,new $APP.h(null,1,[Qbb,!0],null)],null):new $APP.J(null,1,5,$APP.M,[Pbb],null)}],null),$APP.ct)};
Vbb=function(){$APP.l($APP.Ig(Sbb))&&(Kbb(),$APP.Tl(Sbb,!1));var a=$APP.JG.F(new $APP.J(null,2,5,$APP.M,[$APP.H1,Tbb],null));return function(b,c,d){var e=$APP.Ig(a);d=$APP.Es.J($APP.C([d,new $APP.h(null,1,[$APP.O2,$APP.l(e)?e:"mdn-like"],null)]));return new $APP.J(null,2,5,$APP.M,[Ubb,new $APP.J(null,4,5,$APP.M,[Rbb,b,c,d],null)],null)}};
$APP.M$a=function(a,b,c){$APP.ox($APP.pB,"ui.code.goldly.codemirror-themed",30,$APP.dx,new $APP.cp(function(){return new $APP.J(null,4,5,$APP.M,["cm id: %s fun: %s opt: %s",a,b,c],null)},null),-541667265);return new $APP.J(null,4,5,$APP.M,[Vbb,a,b,c],null)};
Wbb=function(a,b,c,d){return new $APP.J(null,4,5,$APP.M,[Vbb,b,new $APP.h(null,3,[$APP.U_,function(e){$APP.ox($APP.rA,"ui.code.goldly.codemirror-atom",8,$APP.ix,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["cm-text get id:",e],null)},null),-1223705934);return $APP.l(d)?$APP.Sv.j($APP.Ig(c),d):$APP.Ig(c)},$APP.s1,function(e,f){$APP.ox($APP.rA,"ui.code.goldly.codemirror-atom",13,$APP.ix,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["cm-text save id:",e],null)},null),-464002992);
return $APP.l(d)?$APP.qp.la(c,$APP.Wv,d,f):$APP.Tl(c,f)},sbb,function(e){return $APP.ox($APP.rA,"ui.code.goldly.codemirror-atom",18,$APP.ix,new $APP.cp(function(){return new $APP.J(null,2,5,$APP.M,["cm-text event ",e],null)},null),581579716)}],null),a],null)};$APP.Wya=function(a,b,c){return new $APP.J(null,5,5,$APP.M,[Wbb,new $APP.h(null,2,[$APP.H3,!0,C9,!1],null),a,b,c],null)};$APP.iza=function(a,b,c){return new $APP.J(null,5,5,$APP.M,[Wbb,new $APP.h(null,2,[$APP.H3,!1,C9,!0],null),a,b,c],null)};
Xbb=new $APP.G(null,"autoCloseBrackets","autoCloseBrackets",1157493311);sbb=new $APP.G(null,"cm-events","cm-events",-58624234);Ybb=new $APP.G(null,"Shift-Ctrl-Enter","Shift-Ctrl-Enter",675106862);Qbb=new $APP.G(null,"read-only","read-only",-191706886);Zbb=new $APP.G(null,"fallthrough","fallthrough",567425038);$bb=new $APP.G(null,"Shift-Alt-Enter","Shift-Alt-Enter",1366734923);acb=new $APP.G(null,"Shift-Enter","Shift-Enter",-572682192);D9=new $APP.G(null,"readOnly","readOnly",-1749118317);
C9=new $APP.G(null,"view-only","view-only",2006764702);Ubb=new $APP.G(null,"div.my-codemirror","div.my-codemirror",-682657826);Pbb=new $APP.G(null,"textarea","textarea",-650375824);bcb=new $APP.G(null,"keyMap","keyMap",945500512);ccb=new $APP.G(null,"lineWrapping","lineWrapping",1248501985);zbb=new $APP.G("cm","hint","cm/hint",439643032);dcb=new $APP.G(null,"lineNumbers","lineNumbers",1374890941);Tbb=new $APP.G(null,"codemirror","codemirror",-1221931625);
ecb=new $APP.G(null,"extraKeys","extraKeys",1380834830);Cbb=new $APP.G("cm","move","cm/move",-2110887471);fcb=new $APP.G(null,"autofocus","autofocus",-712814732);Hbb=new $APP.G("cm","mouse-down","cm/mouse-down",647104313);gcb=new $APP.G(null,"matchBrackets","matchBrackets",1256448936);hcb=new $APP.G(null,"firstLineNumber","firstLineNumber",-327461640);A9=new $APP.G(null,"cm-opts","cm-opts",-794223420);icb=new $APP.G(null,"showCursorWhenSelecting","showCursorWhenSelecting",169880137);
y9=new $APP.G(null,"cm","cm",540591536);$APP.Cd("ui-code");var B9=$APP.Kq(108,{});$APP.Kq(109,{});$APP.Kq(110,{});$APP.Kq(111,{});$APP.Kq(112,{});$APP.Kq(113,{});$APP.Kq(114,{});$APP.Kq(117,{});var Obb=$APP.Nn([bcb,ccb,gcb,icb,$APP.LR,ecb,$APP.O2,D9,fcb,hcb,dcb,Xbb],["gorilla",!0,!0,!0,"clojure",{},"paraiso-dark",!1,!1,1,!0,'()[]{}""']),Jbb=new $APP.h(null,4,[acb,"doNothing",Ybb,"doNothing",$bb,"doNothing",Zbb,"default"],null);var Sbb=$APP.pp.F(!0);$APP.hf();
}).call(this);