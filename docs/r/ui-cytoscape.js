(function(){
shadow$provide[148]=function(Pa,da,gb,oa){function k(F){var t=typeof F;return!!F&&("object"==t||"function"==t)}function f(F){if("number"==typeof F)return F;var t=F;if("symbol"==typeof t||t&&"object"==typeof t&&"[object Symbol]"==X.call(t))return h;k(F)&&(F="function"==typeof F.valueOf?F.valueOf():F,F=k(F)?F+"":F);if("string"!=typeof F)return 0===F?F:+F;F=F.replace(l,"");return(t=q.test(F))||D.test(F)?U(F.slice(2),t?2:8):u.test(F)?h:+F}var h=0/0,l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,
D=/^0o[0-7]+$/i,U=parseInt;da="object"==typeof self&&self&&self.Object===Object&&self;var aa="object"==typeof Pa&&Pa&&Pa.Object===Object&&Pa||da||Function("return this")(),X=Object.prototype.toString,S=Math.max,V=Math.min;gb.exports=function(F,t,w){function x(Z){var E=O,C=N;O=N=void 0;z=Z;return A=F.apply(C,E)}function I(Z){var E=Z-T;Z-=z;return void 0===T||E>=t||0>E||K&&Z>=Y}function R(){var Z=aa.Date.now();if(I(Z))return B(Z);var E=setTimeout;var C=Z-z;Z=t-(Z-T);C=K?V(Z,Y-C):Z;J=E(R,C)}function B(Z){J=
void 0;if(r&&O)return x(Z);O=N=void 0;return A}function v(){var Z=aa.Date.now(),E=I(Z);O=arguments;N=this;T=Z;if(E){if(void 0===J)return z=Z=T,J=setTimeout(R,t),ba?x(Z):A;if(K)return J=setTimeout(R,t),x(T)}void 0===J&&(J=setTimeout(R,t));return A}var O,N,A,J,T,z=0,ba=!1,K=!1,r=!0;if("function"!=typeof F)throw new TypeError("Expected a function");t=f(t)||0;if(k(w)){ba=!!w.leading;var Y=(K="maxWait"in w)?S(f(w.maxWait)||0,t):Y;r="trailing"in w?!!w.trailing:r}v.cancel=function(){void 0!==J&&clearTimeout(J);
z=0;O=T=N=J=void 0};v.flush=function(){return void 0===J?A:B(aa.Date.now())};return v}};
shadow$provide[149]=function(Pa,da,gb,oa){(function(){var k=Math.floor;var f=Math.min;var h=function(x,I){return x<I?-1:x>I?1:0};var l=function(x,I,R,B,v){null==R&&(R=0);null==v&&(v=h);if(0>R)throw Error("lo must be non-negative");null==B&&(B=x.length);for(;R<B;){var O=k((R+B)/2);0>v(I,x[O])?B=O:R=O+1}return[].splice.apply(x,[R,R-R].concat(I)),I};var u=function(x,I,R){null==R&&(R=h);x.push(I);return F(x,0,x.length-1,R)};var q=function(x,I){null==I&&(I=h);var R=x.pop();if(x.length){var B=x[0];x[0]=
R;t(x,0,I)}else B=R;return B};var D=function(x,I,R){null==R&&(R=h);var B=x[0];x[0]=I;t(x,0,R);return B};var U=function(x,I,R){null==R&&(R=h);if(x.length&&0>R(x[0],I)){var B=[x[0],I];I=B[0];x[0]=B[1];t(x,0,R)}return I};var aa=function(x,I){var R,B;null==I&&(I=h);var v=function(){B=[];for(var J=0,T=k(x.length/2);0<=T?J<T:J>T;0<=T?J++:J--)B.push(J);return B}.apply(this).reverse();var O=[];var N=0;for(R=v.length;N<R;N++){var A=v[N];O.push(t(x,A,I))}return O};var X=function(x,I,R){null==R&&(R=h);I=x.indexOf(I);
if(-1!==I)return F(x,0,I,R),t(x,I,R)};var S=function(x,I,R){var B;null==R&&(R=h);var v=x.slice(0,I);if(!v.length)return v;aa(v,R);var O=x.slice(I);I=0;for(B=O.length;I<B;I++)x=O[I],U(v,x,R);return v.sort(R).reverse()};var V=function(x,I,R){var B;null==R&&(R=h);if(10*I<=x.length){var v=x.slice(0,I).sort(R);if(!v.length)return v;var O=v[v.length-1];var N=x.slice(I);I=0;for(B=N.length;I<B;I++)x=N[I],0>R(x,O)&&(l(v,x,0,null,R),v.pop(),O=v[v.length-1]);return v}aa(x,R);v=[];O=0;for(I=f(I,x.length);0<=
I?O<I:O>I;0<=I?++O:--O)v.push(q(x,R));return v};var F=function(x,I,R,B){var v;null==B&&(B=h);for(v=x[R];R>I;){var O=R-1>>1;var N=x[O];if(0>B(v,N))x[R]=N,R=O;else break}return x[R]=v};var t=function(x,I,R){var B;null==R&&(R=h);var v=x.length;var O=I;var N=x[I];for(B=2*I+1;B<v;){var A=B+1;A<v&&!(0>R(x[B],x[A]))&&(B=A);x[I]=x[B];I=B;B=2*I+1}x[I]=N;return F(x,O,I,R)};var w=function(){function x(I){this.cmp=null!=I?I:h;this.nodes=[]}x.push=u;x.pop=q;x.replace=D;x.pushpop=U;x.heapify=aa;x.updateItem=X;
x.nlargest=S;x.nsmallest=V;x.prototype.push=function(I){return u(this.nodes,I,this.cmp)};x.prototype.pop=function(){return q(this.nodes,this.cmp)};x.prototype.peek=function(){return this.nodes[0]};x.prototype.contains=function(I){return-1!==this.nodes.indexOf(I)};x.prototype.replace=function(I){return D(this.nodes,I,this.cmp)};x.prototype.pushpop=function(I){return U(this.nodes,I,this.cmp)};x.prototype.heapify=function(){return aa(this.nodes,this.cmp)};x.prototype.updateItem=function(I){return X(this.nodes,
I,this.cmp)};x.prototype.clear=function(){return this.nodes=[]};x.prototype.empty=function(){return 0===this.nodes.length};x.prototype.size=function(){return this.nodes.length};x.prototype.clone=function(){var I=new x;I.nodes=this.nodes.slice(0);return I};x.prototype.toArray=function(){return this.nodes.slice(0)};x.prototype.insert=x.prototype.push;x.prototype.top=x.prototype.peek;x.prototype.front=x.prototype.peek;x.prototype.has=x.prototype.contains;x.prototype.copy=x.prototype.clone;return x}();
(function(x,I){return"function"===typeof define&&define.amd?define([],I):"object"===typeof oa?gb.exports=I():x.Heap=I()})(this,function(){return w})}).call(this)};
shadow$provide[150]=function(Pa,da,gb,oa){gb.exports=da(149)};
shadow$provide[151]=function(Pa,da,gb,oa){function k(wb){return wb&&"object"===typeof wb&&"default"in wb?wb["default"]:wb}function f(wb){f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Yb){return typeof Yb}:function(Yb){return Yb&&"function"===typeof Symbol&&Yb.constructor===Symbol&&Yb!==Symbol.prototype?"symbol":typeof Yb};return f(wb)}function h(wb,Yb){if(!(wb instanceof Yb))throw new TypeError("Cannot call a class as a function");}function l(wb,Yb){for(var oc=0;oc<Yb.length;oc++){var tc=
Yb[oc];tc.enumerable=tc.enumerable||!1;tc.configurable=!0;"value"in tc&&(tc.writable=!0);Object.defineProperty(wb,tc.key,tc)}}function u(wb,Yb,oc){Yb&&l(wb.prototype,Yb);oc&&l(wb,oc);return wb}function q(wb,Yb,oc){Yb in wb?Object.defineProperty(wb,Yb,{value:oc,enumerable:!0,configurable:!0,writable:!0}):wb[Yb]=oc;return wb}function D(wb,Yb){var oc=Array.isArray(wb)?wb:void 0;if(!oc){oc=[];var tc=!0,xc=!1,qa=void 0;try{for(var ka=wb[Symbol.iterator](),Ja;!(tc=(Ja=ka.next()).done)&&(oc.push(Ja.value),
!Yb||oc.length!==Yb);tc=!0);}catch(G){xc=!0,qa=G}finally{try{if(!tc&&null!=ka["return"])ka["return"]()}finally{if(xc)throw qa;}}}if(!(wb=oc))throw new TypeError("Invalid attempt to destructure non-iterable instance");return wb}function U(wb,Yb,oc,tc,xc,qa){var ka=jc(wb)?wb:Le[wb]||Le.euclidean;return 0===Yb&&jc(wb)?ka(xc,qa):ka(Yb,oc,tc,xc,qa)}function aa(wb,Yb,oc,tc){for(var xc=[],qa=new wg,ka=wb.cy().hasCompoundNodes(),Ja=0;Ja<wb.length;Ja++){var G=wb[Ja];oc?xc.push(G):ka&&tc(xc,qa,G)}for(;0<xc.length;)oc=
xc.shift(),Yb(oc),qa.add(oc.id()),ka&&tc(xc,qa,oc);return wb}function X(wb,Yb,oc){if(oc.isParent()){oc=oc._private.children;for(var tc=0;tc<oc.length;tc++){var xc=oc[tc];Yb.has(xc.id())||wb.push(xc)}}}function S(wb,Yb,oc){oc.isChild()&&(oc=oc._private.parent,Yb.has(oc.id())||wb.push(oc))}function V(wb,Yb,oc){S(wb,Yb,oc);X(wb,Yb,oc)}function F(wb){return function(Yb){void 0===Yb&&(Yb=!0);if(0!==this.length&&this.isNode()&&!this.removed()){for(var oc=0,tc=this[0],xc=tc._private.edges,qa=0;qa<xc.length;qa++){var ka=
xc[qa];if(Yb||!ka.isLoop())oc+=wb(tc,ka)}return oc}}}function t(wb,Yb){return function(oc){for(var tc,xc=this.nodes(),qa=0;qa<xc.length;qa++){var ka=xc[qa][wb](oc);void 0===ka||void 0!==tc&&!Yb(ka,tc)||(tc=ka)}return tc}}function w(){return!1}function x(){return!0}function I(){for(var wb=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Lf,Yb=1<arguments.length?arguments[1]:void 0,oc=0;oc<Lj.length;oc++){var tc=Lj[oc];this[tc]=wb[tc]||Ek[tc]}this.context=Yb||this.context;this.listeners=[];this.emitting=
0}function R(wb,Yb,oc){var tc=oc._private;tc=tc.styleCache=tc.styleCache||[];var xc;null==(xc=tc[wb])&&(xc=tc[wb]=Yb(oc));return xc}function B(wb,Yb){wb=Oc(wb);return function(oc){return R(wb,Yb,oc)}}function v(wb,Yb){wb=Oc(wb);var oc=function(tc){return Yb.call(tc)};return function(){var tc=this[0];if(tc)return R(wb,oc,tc)}}function O(wb,Yb){if(wb=wb._private.data.parent?wb.parents():null)for(var oc=0;oc<wb.length;oc++)if(!Yb(wb[oc]))return!1;return!0}function N(wb){var Yb=wb.ok,oc=wb.edgeOkViaNode||
wb.ok,tc=wb.parentOk||wb.ok;return function(){var xc=this.cy();if(!xc.styleEnabled())return!0;var qa=this[0];xc=xc.hasCompoundNodes();if(qa){var ka=qa._private;if(!Yb(qa))return!1;if(qa.isNode())return!xc||O(qa,tc);qa=ka.source;ka=ka.target;return oc(qa)&&(!xc||O(qa,oc))&&(qa===ka||oc(ka)&&(!xc||O(ka,oc)))}}}function A(wb){return function(){var Yb=arguments,oc=[];if(2===Yb.length)this.on(wb.event,Yb[0],Yb[1]);else if(1===Yb.length&&jc(Yb[0]))this.on(wb.event,Yb[0]);else if(0===Yb.length||1===Yb.length&&
Tc(Yb[0])){Yb=1===Yb.length?Yb[0]:null;for(var tc=0;tc<this.length;tc++){var xc=this[tc],qa=!wb.ableField||xc._private[wb.ableField],ka=xc._private[wb.field]!=wb.value;if(wb.overrideAble){var Ja=wb.overrideAble(xc);if(void 0!==Ja&&(qa=Ja,!Ja))return this}qa&&(xc._private[wb.field]=wb.value,ka&&oc.push(xc))}oc=this.spawn(oc);oc.updateStyle();oc.emit(wb.event);Yb&&oc.emit(Yb)}return this}}function J(wb){Wh[wb.field]=function(){var Yb=this[0];if(Yb){if(wb.overrideField){var oc=wb.overrideField(Yb);if(void 0!==
oc)return oc}return Yb._private[wb.field]}};Wh[wb.on]=A({event:wb.on,field:wb.field,ableField:wb.ableField,overrideAble:wb.overrideAble,value:!0});Wh[wb.off]=A({event:wb.off,field:wb.field,ableField:wb.ableField,overrideAble:wb.overrideAble,value:!1})}function T(wb){return function(Yb){for(var oc=[],tc=0;tc<this.length;tc++){var xc=this[tc]._private[wb.attr];xc&&oc.push(xc)}return this.spawn(oc,!0).filter(Yb)}}function z(wb){return function(Yb){var oc=[],tc=this._private.cy,xc=wb||{};bc(Yb)&&(Yb=
tc.$(Yb));for(tc=0;tc<Yb.length;tc++)for(var qa=Yb[tc]._private.edges,ka=0;ka<qa.length;ka++){var Ja=qa[ka],G=Ja._private.data,ca=this.hasElementWithId(G.source)&&Yb.hasElementWithId(G.target);G=Yb.hasElementWithId(G.source)&&this.hasElementWithId(G.target);if(ca||G){if(xc.thisIsSrc||xc.thisIsTgt){if(xc.thisIsSrc&&!ca)continue;if(xc.thisIsTgt&&!G)continue}oc.push(Ja)}}return this.spawn(oc,!0)}}function ba(wb){wb=Dc({},{codirected:!1},wb);return function(Yb){for(var oc=[],tc=this.edges(),xc=wb,qa=
0;qa<tc.length;qa++){var ka=tc[qa]._private,Ja=ka.source,G=Ja._private.data.id;ka=ka.data.target;Ja=Ja._private.edges;for(var ca=0;ca<Ja.length;ca++){var ya=Ja[ca],Ka=ya._private.data,ab=Ka.target,ob=Ka.source;Ka=ab===ka&&ob===G;ab=G===ab&&ka===ob;(xc.codirected&&Ka||!xc.codirected&&(Ka||ab))&&oc.push(ya)}}return this.spawn(oc,!0).filter(Yb)}}function K(wb,Yb,oc,tc){function xc(ya,Ka,ab){return(((1-3*ab+3*Ka)*ya+(3*ab-6*Ka))*ya+3*Ka)*ya}var qa="undefined"!==typeof Float32Array;if(4!==arguments.length)return!1;
for(var ka=0;4>ka;++ka)if("number"!==typeof arguments[ka]||isNaN(arguments[ka])||!isFinite(arguments[ka]))return!1;wb=Math.min(wb,1);oc=Math.min(oc,1);wb=Math.max(wb,0);oc=Math.max(oc,0);var Ja=qa?new Float32Array(11):Array(11),G=!1;qa=function(ya){if(!G&&(G=!0,wb!==Yb||oc!==tc))for(var Ka=0;11>Ka;++Ka)Ja[Ka]=xc(.1*Ka,wb,oc);if(wb===Yb&&oc===tc)return ya;if(0===ya)return 0;if(1===ya)return 1;var ab=0;for(Ka=1;10!==Ka&&Ja[Ka]<=ya;++Ka)ab+=.1;--Ka;Ka=ab+(ya-Ja[Ka])/(Ja[Ka+1]-Ja[Ka])*.1;var ob=3*(1-
3*oc+3*wb)*Ka*Ka+2*(3*oc-6*wb)*Ka+3*wb;if(.001<=ob){for(ab=0;4>ab;++ab){ob=3*(1-3*oc+3*wb)*Ka*Ka+2*(3*oc-6*wb)*Ka+3*wb;if(0===ob)break;var rb=xc(Ka,wb,oc)-ya;Ka-=rb/ob}ya=Ka}else if(0===ob)ya=Ka;else{Ka=ab;ab+=.1;var Fb=0;do rb=Ka+(ab-Ka)/2,ob=xc(rb,wb,oc)-ya,0<ob?ab=rb:Ka=rb;while(1E-7<Math.abs(ob)&&10>++Fb);ya=rb}return xc(ya,Yb,tc)};qa.getControlPoints=function(){return[{x:wb,y:Yb},{x:oc,y:tc}]};var ca="generateBezier("+[wb,Yb,oc,tc]+")";qa.toString=function(){return ca};return qa}function r(wb,
Yb,oc,tc,xc){if(1===tc||Yb===oc)return oc;Yb=xc(Yb,oc,tc);if(null==wb)return Yb;if(wb.roundValue||wb.color)Yb=Math.round(Yb);void 0!==wb.min&&(Yb=Math.max(Yb,wb.min));void 0!==wb.max&&(Yb=Math.min(Yb,wb.max));return Yb}function Y(wb,Yb){return null!=wb.pfValue||null!=wb.value?null==wb.pfValue||null!=Yb&&"%"===Yb.type.units?wb.value:wb.pfValue:wb}function Z(wb,Yb,oc,tc,xc){var qa=null!=xc?xc.type:null;0>oc?oc=0:1<oc&&(oc=1);wb=Y(wb,xc);Yb=Y(Yb,xc);if(Rc(wb)&&Rc(Yb))return r(qa,wb,Yb,oc,tc);if(Tc(wb)&&
Tc(Yb)){xc=[];for(var ka=0;ka<Yb.length;ka++){var Ja=wb[ka],G=Yb[ka];null!=Ja&&null!=G?(Ja=r(qa,Ja,G,oc,tc),xc.push(Ja)):xc.push(G)}return xc}}function E(wb,Yb,oc,tc){var xc=!tc,qa=wb._private;Yb=Yb._private;var ka=Yb.easing,Ja=Yb.startTime,G=(tc?wb:wb.cy()).style();if(!Yb.easingImpl)if(null==ka)Yb.easingImpl=Mh.linear;else{var ca=bc(ka)?G.parse("transition-timing-function",ka).value:ka;bc(ca)?(ka=ca,ca=[]):(ka=ca[1],ca=ca.slice(2).map(function(ab){return+ab}));0<ca.length?("spring"===ka&&ca.push(Yb.duration),
Yb.easingImpl=Mh[ka].apply(null,ca)):Yb.easingImpl=Mh[ka]}ka=Yb.easingImpl;oc=0===Yb.duration?1:(oc-Ja)/Yb.duration;Yb.applying&&(oc=Yb.progress);0>oc?oc=0:1<oc&&(oc=1);if(null==Yb.delay){Ja=Yb.startPosition;if((ca=Yb.position)&&xc&&!wb.locked()){var ya={};C(Ja.x,ca.x)&&(ya.x=Z(Ja.x,ca.x,oc,ka));C(Ja.y,ca.y)&&(ya.y=Z(Ja.y,ca.y,oc,ka));wb.position(ya)}ca=Yb.startPan;ya=Yb.pan;var Ka=qa.pan;if(Ja=null!=ya&&tc)C(ca.x,ya.x)&&(Ka.x=Z(ca.x,ya.x,oc,ka)),C(ca.y,ya.y)&&(Ka.y=Z(ca.y,ya.y,oc,ka)),wb.emit("pan");
ca=Yb.startZoom;ya=Yb.zoom;if(tc=null!=ya&&tc)C(ca,ya)&&(qa.zoom=Yf(qa.minZoom,Z(ca,ya,oc,ka),qa.maxZoom)),wb.emit("zoom");(Ja||tc)&&wb.emit("viewport");if((qa=Yb.style)&&0<qa.length&&xc){for(xc=0;xc<qa.length;xc++)Ja=qa[xc],tc=Ja.name,ca=Yb.startStyle[tc],Ja=Z(ca,Ja,oc,ka,G.properties[ca.name]),G.overrideBypass(wb,tc,Ja);wb.emit("style")}}return Yb.progress=oc}function C(wb,Yb){return null==wb||null==Yb?!1:Rc(wb)&&Rc(Yb)||wb&&Yb?!0:!1}function W(wb,Yb,oc,tc){wb=Yb._private;wb.started=!0;wb.startTime=
oc-wb.progress*wb.duration}function fa(wb,Yb){function oc(G,ca){var ya=G._private,Ka=ya.animation.current;ya=ya.animation.queue;var ab=!1;if(0===Ka.length){var ob=ya.shift();ob&&Ka.push(ob)}ob=function(Ub){for(var Zb=Ub.length-1;0<=Zb;Zb--)(0,Ub[Zb])();Ub.splice(0,Ub.length)};for(var rb=Ka.length-1;0<=rb;rb--){var Fb=Ka[rb],qb=Fb._private;if(qb.stopped)Ka.splice(rb,1),qb.hooked=!1,qb.playing=!1,qb.started=!1,ob(qb.frames);else if(qb.playing||qb.applying)qb.playing&&qb.applying&&(qb.applying=!1),qb.started||
W(G,Fb,wb),E(G,Fb,wb,ca),qb.applying&&(qb.applying=!1),ob(qb.frames),null!=qb.step&&qb.step(wb),Fb.completed()&&(Ka.splice(rb,1),qb.hooked=!1,qb.playing=!1,qb.started=!1,ob(qb.completes)),ab=!0}ca||0!==Ka.length||0!==ya.length||xc.push(G);return ab}for(var tc=Yb._private.aniEles,xc=[],qa=!1,ka=0;ka<tc.length;ka++){var Ja=oc(tc[ka]);qa=qa||Ja}ka=oc(Yb,!0);if(qa||ka)0<tc.length?Yb.notify("draw",tc):Yb.notify("draw");tc.unmerge(xc);Yb.emit("step")}function ja(wb){this.options=Dc({},xg,wb)}function Ba(wb){this.options=
Dc({},Sj,wb)}function Ga(wb){this.options=Dc({},ei,wb)}function ua(wb){this.options=Dc({},dk,wb);this.options.layout=this}function Fa(wb){this.options=Dc({},Qi,wb)}function Xa(wb){this.options=Dc({},qk,wb)}function Sa(wb){this.options=Dc({},Ji,wb)}function eb(wb){this.options=Dc({},lj,wb)}function Va(wb){this.options=wb;this.notifications=0}function La(wb){var Yb=[];if(null!=wb){for(var oc=0;oc<wb.length;oc+=2)Yb.push({x:wb[oc],y:wb[oc+1]});return Yb}}function Ra(wb,Yb){for(var oc=0;oc<Yb.length;oc++){var tc=
Yb[oc];wb.lineTo(tc.x,tc.y)}}function la(wb,Yb,oc){for(var tc,xc=0;xc<Yb.length;xc++){var qa=Yb[xc];0===xc&&(tc=qa);wb.lineTo(qa.x,qa.y)}wb.quadraticCurveTo(oc.x,oc.y,tc.x,tc.y)}function ma(wb,Yb,oc){wb.beginPath&&wb.beginPath();for(var tc=0;tc<Yb.length;tc++){var xc=Yb[tc];wb.lineTo(xc.x,xc.y)}Yb=oc[0];wb.moveTo(Yb.x,Yb.y);for(tc=1;tc<oc.length;tc++)xc=oc[tc],wb.lineTo(xc.x,xc.y);wb.closePath&&wb.closePath()}function Aa(wb,Yb,oc,tc,xc){wb.beginPath&&wb.beginPath();wb.arc(oc,tc,xc,0,2*Math.PI,!1);
oc=Yb[0];wb.moveTo(oc.x,oc.y);for(oc=0;oc<Yb.length;oc++)tc=Yb[oc],wb.lineTo(tc.x,tc.y);wb.closePath&&wb.closePath()}function Da(wb,Yb,oc,tc){wb.arc(Yb,oc,tc,0,2*Math.PI,!1)}function Qa(wb,Yb,oc,tc,xc){var qa=5<arguments.length&&void 0!==arguments[5]?arguments[5]:5;wb.beginPath();wb.moveTo(Yb+qa,oc);wb.lineTo(Yb+tc-qa,oc);wb.quadraticCurveTo(Yb+tc,oc,Yb+tc,oc+qa);wb.lineTo(Yb+tc,oc+xc-qa);wb.quadraticCurveTo(Yb+tc,oc+xc,Yb+tc-qa,oc+xc);wb.lineTo(Yb+qa,oc+xc);wb.quadraticCurveTo(Yb,oc+xc,Yb,oc+xc-
qa);wb.lineTo(Yb,oc+qa);wb.quadraticCurveTo(Yb,oc,Yb+qa,oc);wb.closePath();wb.fill()}function Ea(wb,Yb){wb=atob(wb);for(var oc=new ArrayBuffer(wb.length),tc=new Uint8Array(oc),xc=0;xc<wb.length;xc++)tc[xc]=wb.charCodeAt(xc);return new Blob([oc],{type:Yb})}function kb(wb){var Yb=wb.indexOf(",");return wb.substr(Yb+1)}function cb(wb,Yb,oc){switch(wb.output){case "blob-promise":return new xe(function(tc,xc){try{Yb.toBlob(function(qa){null!=qa?tc(qa):xc(Error("`canvas.toBlob()` sent a null value in its callback"))},
oc,wb.quality)}catch(qa){xc(qa)}});case "blob":return Ea(kb(Yb.toDataURL(oc,wb.quality)),oc);case "base64":return kb(Yb.toDataURL(oc,wb.quality));default:return Yb.toDataURL(oc,wb.quality)}}function Mb(wb){var Yb=this;Yb.data={canvases:Array(Wf.CANVAS_LAYERS),contexts:Array(Wf.CANVAS_LAYERS),canvasNeedsRedraw:Array(Wf.CANVAS_LAYERS),bufferCanvases:Array(Wf.BUFFER_COUNT),bufferContexts:Array(Wf.CANVAS_LAYERS)};Yb.data.canvasContainer=document.createElement("div");var oc=Yb.data.canvasContainer.style;
Yb.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";oc.position="relative";oc.zIndex="0";oc.overflow="hidden";wb=wb.cy.container();wb.appendChild(Yb.data.canvasContainer);wb.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var tc={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Hb&&Hb.userAgent.match(/msie|trident|edge/i)&&(tc["-ms-touch-action"]="none",tc["touch-action"]=
"none");for(wb=0;wb<Wf.CANVAS_LAYERS;wb++){var xc=Yb.data.canvases[wb]=document.createElement("canvas");Yb.data.contexts[wb]=xc.getContext("2d");Object.keys(tc).forEach(function(Zb){xc.style[Zb]=tc[Zb]});xc.style.position="absolute";xc.setAttribute("data-id","layer"+wb);xc.style.zIndex=String(Wf.CANVAS_LAYERS-wb);Yb.data.canvasContainer.appendChild(xc);Yb.data.canvasNeedsRedraw[wb]=!1}Yb.data.topCanvas=Yb.data.canvases[0];Yb.data.canvases[Wf.NODE].setAttribute("data-id","layer"+Wf.NODE+"-node");Yb.data.canvases[Wf.SELECT_BOX].setAttribute("data-id",
"layer"+Wf.SELECT_BOX+"-selectbox");Yb.data.canvases[Wf.DRAG].setAttribute("data-id","layer"+Wf.DRAG+"-drag");for(wb=0;wb<Wf.BUFFER_COUNT;wb++)Yb.data.bufferCanvases[wb]=document.createElement("canvas"),Yb.data.bufferContexts[wb]=Yb.data.bufferCanvases[wb].getContext("2d"),Yb.data.bufferCanvases[wb].style.position="absolute",Yb.data.bufferCanvases[wb].setAttribute("data-id","buffer"+wb),Yb.data.bufferCanvases[wb].style.zIndex=String(-wb-1),Yb.data.bufferCanvases[wb].style.visibility="hidden";Yb.pathsEnabled=
!0;var qa=be(),ka=function(Zb){return{x:-Zb.w/2,y:-Zb.h/2}},Ja=function(Zb){Zb.boundingBox();return Zb[0]._private.bodyBounds},G=function(Zb){Zb.boundingBox();return Zb[0]._private.labelBounds.main||qa},ca=function(Zb){Zb.boundingBox();return Zb[0]._private.labelBounds.source||qa},ya=function(Zb){Zb.boundingBox();return Zb[0]._private.labelBounds.target||qa};wb=function(Zb,Ec){return Ec};var Ka=function(Zb,Ec,n){Zb=Zb?Zb+"-":"";return{x:Ec.x+n.pstyle(Zb+"text-margin-x").pfValue,y:Ec.y+n.pstyle(Zb+
"text-margin-y").pfValue}},ab=function(Zb,Ec,n){Zb=Zb[0]._private.rscratch;return{x:Zb[Ec],y:Zb[n]}},ob=Yb.data.eleTxrCache=new fj(Yb,{getKey:function(Zb){return Zb[0]._private.nodeKey},doesEleInvalidateKey:function(Zb){Zb=Zb[0]._private;return Zb.oldBackgroundTimestamp!==Zb.backgroundTimestamp},drawElement:function(Zb,Ec,n,Q,ta){return Yb.drawElement(Zb,Ec,n,!1,!1,ta)},getBoundingBox:Ja,getRotationPoint:function(Zb){Zb=Ja(Zb);return{x:(Zb.x1+Zb.x2)/2,y:(Zb.y1+Zb.y2)/2}},getRotationOffset:function(Zb){return ka(Ja(Zb))},
allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),rb=Yb.data.lblTxrCache=new fj(Yb,{getKey:function(Zb){return Zb[0]._private.labelStyleKey},drawElement:function(Zb,Ec,n,Q,ta){return Yb.drawElementText(Zb,Ec,n,Q,"main",ta)},getBoundingBox:G,getRotationPoint:function(Zb){return Ka("",ab(Zb,"labelX","labelY"),Zb)},getRotationOffset:function(Zb){var Ec=G(Zb),n=ka(G(Zb));if(Zb.isNode()){switch(Zb.pstyle("text-halign").value){case "left":n.x=-Ec.w;break;case "right":n.x=0}switch(Zb.pstyle("text-valign").value){case "top":n.y=
-Ec.h;break;case "bottom":n.y=0}}return n},isVisible:wb}),Fb=Yb.data.slbTxrCache=new fj(Yb,{getKey:function(Zb){return Zb[0]._private.sourceLabelStyleKey},drawElement:function(Zb,Ec,n,Q,ta){return Yb.drawElementText(Zb,Ec,n,Q,"source",ta)},getBoundingBox:ca,getRotationPoint:function(Zb){return Ka("source",ab(Zb,"sourceLabelX","sourceLabelY"),Zb)},getRotationOffset:function(Zb){return ka(ca(Zb))},isVisible:wb}),qb=Yb.data.tlbTxrCache=new fj(Yb,{getKey:function(Zb){return Zb[0]._private.targetLabelStyleKey},
drawElement:function(Zb,Ec,n,Q,ta){return Yb.drawElementText(Zb,Ec,n,Q,"target",ta)},getBoundingBox:ya,getRotationPoint:function(Zb){return Ka("target",ab(Zb,"targetLabelX","targetLabelY"),Zb)},getRotationOffset:function(Zb){return ka(ya(Zb))},isVisible:wb}),Ub=Yb.data.lyrTxrCache=new sh(Yb);Yb.onUpdateEleCalcs(function(Zb,Ec){ob.invalidateElements(Ec);rb.invalidateElements(Ec);Fb.invalidateElements(Ec);qb.invalidateElements(Ec);Ub.invalidateElements(Ec);for(Zb=0;Zb<Ec.length;Zb++){var n=Ec[Zb]._private;
n.oldBackgroundTimestamp=n.backgroundTimestamp}});wb=function(Zb){for(var Ec=0;Ec<Zb.length;Ec++)Ub.enqueueElementRefinement(Zb[Ec].ele)};ob.onDequeue(wb);rb.onDequeue(wb);Fb.onDequeue(wb);qb.onDequeue(wb)}function Gb(wb,Yb,oc){var tc=oc,xc=function(rb){Je("Can not register `"+Yb+"` for `"+wb+"` since `"+rb+"` already exists in the prototype and can not be overridden")};if("core"===wb){if(dj.prototype[Yb])return xc(Yb);dj.prototype[Yb]=oc}else if("collection"===wb){if(oi.prototype[Yb])return xc(Yb);
oi.prototype[Yb]=oc}else if("layout"===wb){xc=function(rb){this.options=rb;oc.call(this,rb);ub(this._private)||(this._private={});this._private.cy=rb.cy;this._private.listeners=[];this.createEmitter()};var qa=xc.prototype=Object.create(oc.prototype),ka=[];for(tc=0;tc<ka.length;tc++){var Ja=ka[tc];qa[Ja]=qa[Ja]||function(){return this}}qa.start&&!qa.run?qa.run=function(){this.start();return this}:!qa.start&&qa.run&&(qa.start=function(){this.run();return this});var G=oc.prototype.stop;qa.stop=function(){var rb=
this.options;if(rb&&rb.animate&&(rb=this.animations))for(var Fb=0;Fb<rb.length;Fb++)rb[Fb].stop();G?G.call(this):this.emit("layoutstop");return this};qa.destroy||(qa.destroy=function(){return this});qa.cy=function(){return this._private.cy};var ca={addEventFields:function(rb,Fb){Fb.layout=rb;Fb.cy=rb._private.cy;Fb.target=rb},bubble:function(){return!0},parent:function(rb){return rb._private.cy}};Dc(qa,{createEmitter:function(){this._private.emitter=new I(ca,this);return this},emitter:function(){return this._private.emitter},
on:function(rb,Fb){this.emitter().on(rb,Fb);return this},one:function(rb,Fb){this.emitter().one(rb,Fb);return this},once:function(rb,Fb){this.emitter().one(rb,Fb);return this},removeListener:function(rb,Fb){this.emitter().removeListener(rb,Fb);return this},removeAllListeners:function(){this.emitter().removeAllListeners();return this},emit:function(rb,Fb){this.emitter().emit(rb,Fb);return this}});Hc.eventAliasesOn(qa);tc=xc}else if("renderer"===wb&&"null"!==Yb&&"base"!==Yb){var ya=Wb("renderer","base");
tc=ya.prototype;Ja=oc.prototype;var Ka=function(){ya.apply(this,arguments);oc.apply(this,arguments)},ab=Ka.prototype;for(qa in tc){var ob=tc[qa];if(null!=Ja[qa])return xc(qa);ab[qa]=ob}for(ka in Ja)ab[ka]=Ja[ka];tc.clientFunctions.forEach(function(rb){ab[rb]=ab[rb]||function(){cd("Renderer does not implement `renderer."+rb+"()` on its prototype")}});tc=Ka}return Bb({map:Ci,keys:[wb,Yb],value:tc})}function Wb(wb,Yb){return $b({map:Ci,keys:[wb,Yb]})}function sa(wb,Yb,oc,tc,xc){return Bb({map:Hi,keys:[wb,
Yb,oc,tc],value:xc})}function ra(wb,Yb,oc,tc){return $b({map:Hi,keys:[wb,Yb,oc,tc]})}var xa=k(da(148)),Ia=k(da(150)),bb="undefined"===typeof window?null:window,Hb=bb?bb.navigator:null,zb=f(""),mb=f({}),Jb=f(function(){}),Eb="undefined"===typeof HTMLElement?"undefined":f(HTMLElement),Db=function(wb){return wb&&wb.instanceString&&jc(wb.instanceString)?wb.instanceString():null},bc=function(wb){return null!=wb&&f(wb)==zb},jc=function(wb){return null!=wb&&f(wb)===Jb},Tc=function(wb){return!Vd(wb)&&(Array.isArray?
Array.isArray(wb):null!=wb&&wb instanceof Array)},ub=function(wb){return null!=wb&&f(wb)===mb&&!Tc(wb)&&wb.constructor===Object},Rc=function(wb){return null!=wb&&f(wb)===f(1)&&!isNaN(wb)},Gd=function(wb){return Rc(wb)&&Math.floor(wb)===wb},Kd=function(wb){if("undefined"!==Eb)return null!=wb&&wb instanceof HTMLElement},Vd=function(wb){return ze(wb)||ee(wb)},ze=function(wb){return"collection"===Db(wb)&&wb._private.single},ee=function(wb){return"collection"===Db(wb)&&!wb._private.single},bd=function(wb){return void 0===
wb||null===wb||""===wb||wb.match(/^\s+$/)?!0:!1},Bd=function(wb){return null!=wb&&f(wb)===mb&&jc(wb.then)},Ld=function(wb,Yb){Yb||(Yb=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var tc=[],xc=0;xc<arguments.length;xc++)tc.push(arguments[xc]);return tc.join("$")});var oc=function xc(){var qa=arguments,ka,Ja=Yb.apply(this,qa),G=xc.cache;(ka=G[Ja])||(ka=G[Ja]=wb.apply(this,qa));return ka};oc.cache={};return oc},fe=Ld(function(wb){return wb.replace(/([A-Z])/g,
function(Yb){return"-"+Yb.toLowerCase()})}),Ee=Ld(function(wb){return wb.replace(/(-\w)/g,function(Yb){return Yb[1].toUpperCase()})}),dd=Ld(function(wb,Yb){return wb+Yb[0].toUpperCase()+Yb.substring(1)},function(wb,Yb){return wb+"$"+Yb}),nd=function(wb){return bd(wb)?wb:wb.charAt(0).toUpperCase()+wb.substring(1)},Dc=null!=Object.assign?Object.assign.bind(Object):function(wb){for(var Yb=arguments,oc=1;oc<Yb.length;oc++){var tc=Yb[oc];if(null!=tc)for(var xc=Object.keys(tc),qa=0;qa<xc.length;qa++){var ka=
xc[qa];wb[ka]=tc[ka]}}return wb},jd=function(wb){function Yb(Ja,G,ca){0>ca&&(ca+=1);1<ca&&--ca;return ca<1/6?Ja+6*(G-Ja)*ca:.5>ca?G:ca<2/3?Ja+(G-Ja)*(2/3-ca)*6:Ja}if(wb=/^hsl[a]?\(((?:[-+]?(?:(?:\d+|\d*\.\d+)(?:[Ee][+-]?\d+)?)))\s*,\s*((?:[-+]?(?:(?:\d+|\d*\.\d+)(?:[Ee][+-]?\d+)?))[%])\s*,\s*((?:[-+]?(?:(?:\d+|\d*\.\d+)(?:[Ee][+-]?\d+)?))[%])(?:\s*,\s*((?:[-+]?(?:(?:\d+|\d*\.\d+)(?:[Ee][+-]?\d+)?))))?\)$/.exec(wb)){var oc=parseInt(wb[1]);0>oc?oc=(360- -1*oc%360)%360:360<oc&&(oc%=360);oc/=360;var tc=
parseFloat(wb[2]);if(0>tc||100<tc)return;tc/=100;var xc=parseFloat(wb[3]);if(0>xc||100<xc)return;xc/=100;wb=wb[4];if(void 0!==wb&&(wb=parseFloat(wb),0>wb||1<wb))return;if(0===tc)xc=tc=oc=Math.round(255*xc);else{var qa=.5>xc?xc*(1+tc):xc+tc-xc*tc,ka=2*xc-qa;xc=Math.round(255*Yb(ka,qa,oc+1/3));tc=Math.round(255*Yb(ka,qa,oc));oc=Math.round(255*Yb(ka,qa,oc-1/3))}oc=[xc,tc,oc,wb]}return oc},Qd=function(wb){if(wb=/^rgb[a]?\(((?:[-+]?(?:(?:\d+|\d*\.\d+)(?:[Ee][+-]?\d+)?))[%]?)\s*,\s*((?:[-+]?(?:(?:\d+|\d*\.\d+)(?:[Ee][+-]?\d+)?))[%]?)\s*,\s*((?:[-+]?(?:(?:\d+|\d*\.\d+)(?:[Ee][+-]?\d+)?))[%]?)(?:\s*,\s*((?:[-+]?(?:(?:\d+|\d*\.\d+)(?:[Ee][+-]?\d+)?))))?\)$/.exec(wb)){var Yb=
[];for(var oc=[],tc=1;3>=tc;tc++){var xc=wb[tc];"%"===xc[xc.length-1]&&(oc[tc]=!0);xc=parseFloat(xc);oc[tc]&&(xc=xc/100*255);if(0>xc||255<xc)return;Yb.push(Math.floor(xc))}tc=oc[1]&&oc[2]&&oc[3];if((oc[1]||oc[2]||oc[3])&&!tc)return;wb=wb[4];if(void 0!==wb){wb=parseFloat(wb);if(0>wb||1<wb)return;Yb.push(wb)}}return Yb},ae=function(wb){var Yb;if(!(Yb=(Tc(wb)?wb:null)||te[wb.toLowerCase()]))if(4!==wb.length&&7!==wb.length||"#"!==wb[0])Yb=void 0;else{if(4===wb.length){Yb=parseInt(wb[1]+wb[1],16);var oc=
parseInt(wb[2]+wb[2],16);var tc=parseInt(wb[3]+wb[3],16)}else Yb=parseInt(wb[1]+wb[2],16),oc=parseInt(wb[3]+wb[4],16),tc=parseInt(wb[5]+wb[6],16);Yb=[Yb,oc,tc]}return Yb||Qd(wb)||jd(wb)},te={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,
158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,
61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],
hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,
136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,
228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,
105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,
245],yellow:[255,255,0],yellowgreen:[154,205,50]},Bb=function(wb){for(var Yb=wb.map,oc=wb.keys,tc=oc.length,xc=0;xc<tc;xc++){var qa=oc[xc];if(ub(qa))throw Error("Tried to set map with object key");xc<oc.length-1?(null==Yb[qa]&&(Yb[qa]={}),Yb=Yb[qa]):Yb[qa]=wb.value}},$b=function(wb){var Yb=wb.map;wb=wb.keys;for(var oc=wb.length,tc=0;tc<oc;tc++){var xc=wb[tc];if(ub(xc))throw Error("Tried to get map with object key");Yb=Yb[xc];if(null==Yb)break}return Yb},Gc=bb?bb.performance:null,Jc=Gc&&Gc.now?function(){return Gc.now()}:
function(){return Date.now()},ud=function(){if(bb){if(bb.requestAnimationFrame)return function(wb){bb.requestAnimationFrame(wb)};if(bb.mozRequestAnimationFrame)return function(wb){bb.mozRequestAnimationFrame(wb)};if(bb.webkitRequestAnimationFrame)return function(wb){bb.webkitRequestAnimationFrame(wb)};if(bb.msRequestAnimationFrame)return function(wb){bb.msRequestAnimationFrame(wb)}}return function(wb){wb&&setTimeout(function(){wb(Jc())},1E3/60)}}(),Zc=function(wb){for(var Yb=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:9261,oc;;){oc=wb.next();if(oc.done)break;Yb=65599*Yb+oc.value|0}return Yb},xd=function(wb){return 65599*(1<arguments.length&&void 0!==arguments[1]?arguments[1]:9261)+wb|0},Sd=function(wb){var Yb=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5381;return(Yb<<5)+Yb+wb|0},ie=function(wb){return 2097152*wb[0]+wb[1]},Be=function(wb,Yb){return[xd(wb[0],Yb[0]),Sd(wb[1],Yb[1])]},uc=function(wb,Yb){var oc={value:0,done:!1},tc=0,xc=wb.length;return Zc({next:function(){tc<xc?
oc.value=wb[tc++]:oc.done=!0;return oc}},Yb)},Oc=function(wb,Yb){var oc={value:0,done:!1},tc=0,xc=wb.length;return Zc({next:function(){tc<xc?oc.value=wb.charCodeAt(tc++):oc.done=!0;return oc}},Yb)},Nd=function(){for(var wb=arguments,Yb,oc=0;oc<wb.length;oc++){var tc=wb[oc];Yb=0===oc?Oc(tc):Oc(tc,Yb)}return Yb},Od=!0,pe=null!=console.warn,ye=null!=console.trace,me=Number.MAX_SAFE_INTEGER||9007199254740991,od=function(){return!0},hd=function(){return!1},ge=function(){return 0},$d=function(){},cd=function(wb){throw Error(wb);
},Ie=function(wb){if(void 0!==wb)Od=!!wb;else return Od},Je=function(wb){Ie()&&(pe?console.warn(wb):(console.log(wb),ye&&console.trace()))},Ad=function(wb){return null==wb?wb:Tc(wb)?wb.slice():ub(wb)?Dc({},wb):wb},$e=function(wb,Yb){for(Yb=wb="";36>wb++;Yb+=51*wb&52?(wb^15?8^Math.random()*(wb^20?16:4):4).toString(16):"-");return Yb},qf={},Ye=function(wb){var Yb=Object.keys(wb);return function(oc){for(var tc={},xc=0;xc<Yb.length;xc++){var qa=Yb[xc],ka=null==oc?void 0:oc[qa];tc[qa]=void 0===ka?wb[qa]:
ka}return tc}},af=function(wb,Yb,oc){for(var tc=wb.length-1;0<=tc&&(wb[tc]!==Yb||(wb.splice(tc,1),!oc));tc--);},jg=function(wb){wb.splice(0,wb.length)},oe=function(wb,Yb){for(var oc=0;oc<Yb.length;oc++)wb.push(Yb[oc])},If=function(wb,Yb,oc){oc&&(Yb=dd(oc,Yb));return wb[Yb]},hg=function(wb,Yb,oc,tc){oc&&(Yb=dd(oc,Yb));wb[Yb]=tc},zg=function(){function wb(){h(this,wb);this._obj={}}u(wb,[{key:"set",value:function(Yb,oc){this._obj[Yb]=oc;return this}},{key:"delete",value:function(Yb){this._obj[Yb]=void 0;
return this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(Yb){return void 0!==this._obj[Yb]}},{key:"get",value:function(Yb){return this._obj[Yb]}}]);return wb}(),pf="undefined"!==typeof Map?Map:zg,bg=function(){function wb(Yb){h(this,wb);this._obj=Object.create(null);this.size=0;if(null!=Yb){Yb=null!=Yb.instanceString&&Yb.instanceString()===this.instanceString()?Yb.toArray():Yb;for(var oc=0;oc<Yb.length;oc++)this.add(Yb[oc])}}u(wb,[{key:"instanceString",value:function(){return"set"}},
{key:"add",value:function(Yb){var oc=this._obj;1!==oc[Yb]&&(oc[Yb]=1,this.size++)}},{key:"delete",value:function(Yb){var oc=this._obj;1===oc[Yb]&&(oc[Yb]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(Yb){return 1===this._obj[Yb]}},{key:"toArray",value:function(){var Yb=this;return Object.keys(this._obj).filter(function(oc){return Yb.has(oc)})}},{key:"forEach",value:function(Yb,oc){return this.toArray().forEach(Yb,oc)}}]);return wb}(),wg="undefined"!==
("undefined"===typeof Set?"undefined":f(Set))?Set:bg,Tf=function(wb,Yb){var oc=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;if(void 0===wb||void 0===Yb||"core"!==Db(wb))cd("An element must have a core reference and parameters set");else{var tc=Yb.group;null==tc&&(tc=Yb.data&&null!=Yb.data.source&&null!=Yb.data.target?"edges":"nodes");if("nodes"!==tc&&"edges"!==tc)cd("An element must be of type `nodes` or `edges`; you specified `"+tc+"`");else{this.length=1;this[0]=this;tc=this._private=
{cy:wb,single:!0,data:Yb.data||{},position:Yb.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:tc,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:Yb.selected?!0:!1,selectable:void 0===Yb.selectable?!0:Yb.selectable?!0:!1,locked:Yb.locked?!0:!1,grabbed:!1,grabbable:void 0===Yb.grabbable?!0:Yb.grabbable?!0:!1,pannable:void 0===Yb.pannable?"edges"===tc?!0:!1:Yb.pannable?!0:!1,active:!1,classes:new wg,animation:{current:[],
queue:[]},rscratch:{},scratch:Yb.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};null==tc.position.x&&(tc.position.x=0);null==tc.position.y&&(tc.position.y=0);if(Yb.renderedPosition){var xc=Yb.renderedPosition,qa=wb.pan(),ka=wb.zoom();tc.position={x:(xc.x-qa.x)/ka,y:(xc.y-
qa.y)/ka}}xc=[];Tc(Yb.classes)?xc=Yb.classes:bc(Yb.classes)&&(xc=Yb.classes.split(/\s+/));qa=0;for(ka=xc.length;qa<ka;qa++){var Ja=xc[qa];Ja&&""!==Ja&&tc.classes.add(Ja)}this.createEmitter();if(tc=Yb.style||Yb.css)Je("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(tc);(void 0===oc||oc)&&this.restore()}}},sg=function(wb){wb={bfs:wb.bfs||!wb.dfs,dfs:wb.dfs||!wb.bfs};return function(Yb,oc,tc){if(ub(Yb)&&!Vd(Yb)){var xc=
Yb;Yb=xc.roots||xc.root;oc=xc.visit;tc=xc.directed}tc=2!==arguments.length||jc(oc)?tc:oc;oc=jc(oc)?oc:function(){};xc=this._private.cy;var qa=Yb=bc(Yb)?this.filter(Yb):Yb,ka=[],Ja=[],G={},ca={},ya={},Ka=0,ab,ob=this.byGroup(),rb=ob.nodes,Fb=ob.edges;for(ob=0;ob<qa.length;ob++){var qb=qa[ob],Ub=qb.id();qb.isNode()&&(ka.unshift(qb),wb.bfs&&(ya[Ub]=!0,Ja.push(qb)),ca[Ub]=0)}qa=function(){var Zb=wb.bfs?ka.shift():ka.pop(),Ec=Zb.id();if(wb.dfs){if(ya[Ec])return"continue";ya[Ec]=!0;Ja.push(Zb)}var n=ca[Ec],
Q=G[Ec],ta=null!=Q?Q.source():null,pa=null!=Q?Q.target():null;ta=null==Q?void 0:Zb.same(ta)?pa[0]:ta[0];pa=void 0;pa=oc(Zb,Q,ta,Ka++,n);if(!0===pa)return ab=Zb,"break";if(!1===pa)return"break";n=Zb.connectedEdges().filter(function(hb){return(!tc||hb.source().same(Zb))&&Fb.has(hb)});for(Q=0;Q<n.length;Q++){ta=n[Q];pa=ta.connectedNodes().filter(function(hb){return!hb.same(Zb)&&rb.has(hb)});var Oa=pa.id();0===pa.length||ya[Oa]||(pa=pa[0],ka.push(pa),wb.bfs&&(ya[Oa]=!0,Ja.push(pa)),G[Oa]=ta,ca[Oa]=ca[Ec]+
1)}};a:for(;0!==ka.length;)switch(qa()){case "continue":continue;case "break":break a}qa=xc.collection();for(ob=0;ob<Ja.length;ob++)qb=Ja[ob],Ub=G[qb.id()],null!=Ub&&qa.push(Ub),qa.push(qb);return{path:xc.collection(qa),found:xc.collection(ab)}}},zc={breadthFirstSearch:sg({bfs:!0}),depthFirstSearch:sg({dfs:!0})};zc.bfs=zc.breadthFirstSearch;zc.dfs=zc.depthFirstSearch;var Wa=Ye({root:null,weight:function(wb){return 1},directed:!1}),Ha=Ye({root:null,goal:null,weight:function(wb){return 1},heuristic:function(wb){return 0},
directed:!1}),m=Ye({weight:function(wb){return 1},directed:!1}),Na=Ye({weight:function(wb){return 1},directed:!1,root:null}),Xb=Math.sqrt(2),Xc=function(wb,Yb,oc,tc){for(;oc>tc;){var xc=Math.floor(Math.random()*Yb.length),qa=wb,ka=Yb;0===ka.length&&cd("Karger-Stein must be run on a connected (sub)graph");Yb=ka[xc];xc=qa[Yb[1]];Yb=qa[Yb[2]];for(var Ja=ka.length-1;0<=Ja;Ja--){var G=ka[Ja],ca=G[1];G=G[2];(qa[ca]===xc&&qa[G]===Yb||qa[ca]===Yb&&qa[G]===xc)&&ka.splice(Ja,1)}for(Ja=0;Ja<ka.length;Ja++)ca=
ka[Ja],ca[1]===Yb?(ka[Ja]=ca.slice(),ka[Ja][1]=xc):ca[2]===Yb&&(ka[Ja]=ca.slice(),ka[Ja][2]=xc);for(Ja=0;Ja<qa.length;Ja++)qa[Ja]===Yb&&(qa[Ja]=xc);Yb=ka;oc--}return Yb},Id=function(wb,Yb,oc){return{x:wb.x*Yb+oc.x,y:wb.y*Yb+oc.y}},Td=function(wb){return{x:wb[0],y:wb[1]}},nf=function(wb){for(var Yb=2<arguments.length&&void 0!==arguments[2]?arguments[2]:wb.length,oc=Infinity,tc=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;tc<Yb;tc++){var xc=wb[tc];isFinite(xc)&&(oc=Math.min(xc,oc))}return oc},
Se=function(wb){for(var Yb=2<arguments.length&&void 0!==arguments[2]?arguments[2]:wb.length,oc=-Infinity,tc=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;tc<Yb;tc++){var xc=wb[tc];isFinite(xc)&&(oc=Math.max(xc,oc))}return oc},Rd=function(wb){for(var Yb=2<arguments.length&&void 0!==arguments[2]?arguments[2]:wb.length,oc=0,tc=0,xc=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;xc<Yb;xc++){var qa=wb[xc];isFinite(qa)&&(oc+=qa,tc++)}return oc/tc},Vf=function(wb){var Yb=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:0,oc=2<arguments.length&&void 0!==arguments[2]?arguments[2]:wb.length,tc=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!0,xc=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!0;(3<arguments.length&&void 0!==arguments[3]?arguments[3]:1)?wb=wb.slice(Yb,oc):(oc<wb.length&&wb.splice(oc,wb.length-oc),0<Yb&&wb.splice(0,Yb));Yb=0;for(oc=wb.length-1;0<=oc;oc--){var qa=wb[oc];xc?isFinite(qa)||(wb[oc]=-Infinity,Yb++):wb.splice(oc,1)}tc&&wb.sort(function(ka,
Ja){return ka-Ja});tc=wb.length;xc=Math.floor(tc/2);return 0!==tc%2?wb[xc+1+Yb]:(wb[xc-1+Yb]+wb[xc+Yb])/2},jf=Math.log2||function(wb){return Math.log(wb)/Math.log(2)},Jf=function(wb,Yb){return Math.sqrt(Xf(wb,Yb))},Xf=function(wb,Yb){var oc=Yb.x-wb.x;wb=Yb.y-wb.y;return oc*oc+wb*wb},Pg=function(wb){for(var Yb=wb.length,oc=0,tc=0;tc<Yb;tc++)oc+=wb[tc];for(tc=0;tc<Yb;tc++)wb[tc]/=oc;return wb},dh=function(wb,Yb,oc,tc){return(1-tc)*(1-tc)*wb+2*(1-tc)*tc*Yb+tc*tc*oc},Zg=function(wb,Yb,oc,tc){return{x:dh(wb.x,
Yb.x,oc.x,tc),y:dh(wb.y,Yb.y,oc.y,tc)}},Yf=function(wb,Yb,oc){return Math.max(wb,Math.min(oc,Yb))},be=function(wb){if(null==wb)return{x1:Infinity,y1:Infinity,x2:-Infinity,y2:-Infinity,w:0,h:0};if(null!=wb.x1&&null!=wb.y1){if(null!=wb.x2&&null!=wb.y2&&wb.x2>=wb.x1&&wb.y2>=wb.y1)return{x1:wb.x1,y1:wb.y1,x2:wb.x2,y2:wb.y2,w:wb.x2-wb.x1,h:wb.y2-wb.y1};if(null!=wb.w&&null!=wb.h&&0<=wb.w&&0<=wb.h)return{x1:wb.x1,y1:wb.y1,x2:wb.x1+wb.w,y2:wb.y1+wb.h,w:wb.w,h:wb.h}}},Kf=function(wb){return{x1:wb.x1,x2:wb.x2,
w:wb.w,y1:wb.y1,y2:wb.y2,h:wb.h}},he=function(wb){wb.x1=Infinity;wb.y1=Infinity;wb.x2=-Infinity;wb.y2=-Infinity;wb.w=0;wb.h=0},Ue=function(wb){var Yb=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;wb.x1-=Yb;wb.x2+=Yb;wb.y1-=Yb;wb.y2+=Yb;wb.w=wb.x2-wb.x1;wb.h=wb.y2-wb.y1;return wb},Pf=function(wb){var Yb=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[0],oc,tc,xc;if(1===Yb.length)var qa=oc=tc=xc=Yb[0];else 2===Yb.length?(qa=tc=Yb[0],xc=oc=Yb[1]):4===Yb.length&&(Yb=D(Yb,4),qa=Yb[0],
oc=Yb[1],tc=Yb[2],xc=Yb[3]);wb.x1-=xc;wb.x2+=oc;wb.y1-=qa;wb.y2+=tc;wb.w=wb.x2-wb.x1;wb.h=wb.y2-wb.y1;return wb},Ig=function(wb,Yb){wb.x1=Yb.x1;wb.y1=Yb.y1;wb.x2=Yb.x2;wb.y2=Yb.y2;wb.w=wb.x2-wb.x1;wb.h=wb.y2-wb.y1},Ya=function(wb,Yb){return wb.x1>Yb.x2||Yb.x1>wb.x2||wb.x2<Yb.x1||Yb.x2<wb.x1||wb.y2<Yb.y1||Yb.y2<wb.y1||wb.y1>Yb.y2||Yb.y1>wb.y2?!1:!0},Cb=function(wb,Yb,oc){return wb.x1<=Yb&&Yb<=wb.x2&&wb.y1<=oc&&oc<=wb.y2},fc=function(wb,Yb){return Cb(wb,Yb.x1,Yb.y1)&&Cb(wb,Yb.x2,Yb.y2)},lc=function(wb,
Yb,oc,tc,xc,qa,ka){var Ja=Math.min(xc/4,qa/4,8);xc/=2;qa/=2;var G=tc-qa-ka;G=jb(wb,Yb,oc,tc,oc-xc+Ja-ka,G,oc+xc-Ja+ka,G,!1);if(0<G.length)return G;G=oc+xc+ka;G=jb(wb,Yb,oc,tc,G,tc-qa+Ja-ka,G,tc+qa-Ja+ka,!1);if(0<G.length)return G;G=tc+qa+ka;G=jb(wb,Yb,oc,tc,oc-xc+Ja-ka,G,oc+xc-Ja+ka,G,!1);if(0<G.length)return G;G=oc-xc-ka;G=jb(wb,Yb,oc,tc,G,tc-qa+Ja-ka,G,tc+qa-Ja+ka,!1);if(0<G.length)return G;var ca=oc-xc+Ja,ya=tc-qa+Ja;G=vc(wb,Yb,oc,tc,ca,ya,Ja+ka);if(0<G.length&&G[0]<=ca&&G[1]<=ya)return[G[0],G[1]];
ca=oc+xc-Ja;ya=tc-qa+Ja;G=vc(wb,Yb,oc,tc,ca,ya,Ja+ka);if(0<G.length&&G[0]>=ca&&G[1]<=ya)return[G[0],G[1]];ca=oc+xc-Ja;ya=tc+qa-Ja;G=vc(wb,Yb,oc,tc,ca,ya,Ja+ka);if(0<G.length&&G[0]>=ca&&G[1]>=ya)return[G[0],G[1]];xc=oc-xc+Ja;qa=tc+qa-Ja;G=vc(wb,Yb,oc,tc,xc,qa,Ja+ka);return 0<G.length&&G[0]<=xc&&G[1]>=qa?[G[0],G[1]]:[]},rc=function(wb,Yb,oc,tc){oc=Yb*Yb-4*wb*(oc-tc);if(0>oc)return[];oc=Math.sqrt(oc);wb*=2;return[(-Yb+oc)/wb,(-Yb-oc)/wb]},Pc=function(wb,Yb,oc){for(var tc,xc,qa,ka,Ja=0,G=0;G<oc.length/
2;G++)if(tc=oc[2*G],xc=oc[2*G+1],G+1<oc.length/2?(qa=oc[2*(G+1)],ka=oc[2*(G+1)+1]):(qa=oc[2*(G+1-oc.length/2)],ka=oc[2*(G+1-oc.length/2)+1]),tc!=wb||qa!=wb)if(tc>=wb&&wb>=qa||tc<=wb&&wb<=qa)tc=(wb-tc)/(qa-tc)*(ka-xc)+xc,tc>Yb&&Ja++;return 0===Ja%2?!1:!0},$a=function(wb,Yb,oc,tc,xc,qa,ka,Ja,G){var ca=Array(oc.length);if(null!=Ja[0]){var ya=Math.atan(Ja[1]/Ja[0]);ya=0>Ja[0]?ya+Math.PI/2:-ya-Math.PI/2}else ya=Ja;Ja=Math.cos(-ya);ya=Math.sin(-ya);for(var Ka=0;Ka<ca.length/2;Ka++)ca[2*Ka]=qa/2*(oc[2*Ka]*
Ja-oc[2*Ka+1]*ya),ca[2*Ka+1]=ka/2*(oc[2*Ka+1]*Ja+oc[2*Ka]*ya),ca[2*Ka]+=tc,ca[2*Ka+1]+=xc;0<G?(oc=Nb(ca,-G),oc=xb(oc)):oc=ca;return Pc(wb,Yb,oc)},xb=function(wb){for(var Yb=Array(wb.length/2),oc,tc,xc,qa,ka,Ja,G,ca,ya=0;ya<wb.length/4;ya++)oc=wb[4*ya],tc=wb[4*ya+1],xc=wb[4*ya+2],qa=wb[4*ya+3],ya<wb.length/4-1?(ka=wb[4*(ya+1)],Ja=wb[4*(ya+1)+1],G=wb[4*(ya+1)+2],ca=wb[4*(ya+1)+3]):(ka=wb[0],Ja=wb[1],G=wb[2],ca=wb[3]),oc=jb(oc,tc,xc,qa,ka,Ja,G,ca,!0),Yb[2*ya]=oc[0],Yb[2*ya+1]=oc[1];return Yb},Nb=function(wb,
Yb){for(var oc=Array(2*wb.length),tc,xc,qa,ka,Ja=0;Ja<wb.length/2;Ja++){tc=wb[2*Ja];xc=wb[2*Ja+1];Ja<wb.length/2-1?(qa=wb[2*(Ja+1)],ka=wb[2*(Ja+1)+1]):(qa=wb[0],ka=wb[1]);var G=ka-xc,ca=-(qa-tc),ya=Math.sqrt(G*G+ca*ca);G/=ya;ca/=ya;oc[4*Ja]=tc+G*Yb;oc[4*Ja+1]=xc+ca*Yb;oc[4*Ja+2]=qa+G*Yb;oc[4*Ja+3]=ka+ca*Yb}return oc},cc=function(wb,Yb,oc,tc,xc,qa,ka){wb=(wb-xc)/(oc/2+ka);Yb=(Yb-qa)/(tc/2+ka);return 1>=wb*wb+Yb*Yb},vc=function(wb,Yb,oc,tc,xc,qa,ka){oc=[oc-wb,tc-Yb];tc=[wb-xc,Yb-qa];xc=oc[0]*oc[0]+
oc[1]*oc[1];qa=2*(tc[0]*oc[0]+tc[1]*oc[1]);tc=qa*qa-4*xc*(tc[0]*tc[0]+tc[1]*tc[1]-ka*ka);if(0>tc)return[];ka=(-qa+Math.sqrt(tc))/(2*xc);qa=(-qa-Math.sqrt(tc))/(2*xc);xc=Math.min(ka,qa);qa=Math.max(ka,qa);ka=[];0<=xc&&1>=xc&&ka.push(xc);0<=qa&&1>=qa&&ka.push(qa);if(0===ka.length)return[];xc=ka[0]*oc[0]+wb;qa=ka[0]*oc[1]+Yb;return 1<ka.length?ka[0]==ka[1]?[xc,qa]:[xc,qa,ka[1]*oc[0]+wb,ka[1]*oc[1]+Yb]:[xc,qa]},ed=function(wb,Yb,oc){return Yb<=wb&&wb<=oc||oc<=wb&&wb<=Yb?wb:wb<=Yb&&Yb<=oc||oc<=Yb&&Yb<=
wb?Yb:oc},jb=function(wb,Yb,oc,tc,xc,qa,ka,Ja,G){var ca=wb-xc,ya=oc-wb,Ka=ka-xc,ab=Yb-qa,ob=tc-Yb,rb=Ja-qa,Fb=Ka*ab-rb*ca;ca=ya*ab-ob*ca;Ka=rb*ya-Ka*ob;return 0!==Ka?(oc=Fb/Ka,tc=ca/Ka,-.001<=oc&&1.001>=oc&&-.001<=tc&&1.001>=tc?[wb+oc*ya,Yb+oc*ob]:G?[wb+oc*ya,Yb+oc*ob]:[]):0===Fb||0===ca?ed(wb,oc,ka)===ka?[ka,Ja]:ed(wb,oc,xc)===xc?[xc,qa]:ed(xc,ka,oc)===oc?[oc,tc]:[]:[]},Qb=function(wb,Yb,oc,tc,xc,qa,ka,Ja){var G=[],ca=Array(oc.length),ya=!0;null==qa&&(ya=!1);if(ya){for(ya=0;ya<ca.length/2;ya++)ca[2*
ya]=oc[2*ya]*qa+tc,ca[2*ya+1]=oc[2*ya+1]*ka+xc;0<Ja?(oc=Nb(ca,-Ja),oc=xb(oc)):oc=ca}for(qa=0;qa<oc.length/2;qa++)ka=oc[2*qa],Ja=oc[2*qa+1],qa<oc.length/2-1?(ca=oc[2*(qa+1)],ya=oc[2*(qa+1)+1]):(ca=oc[0],ya=oc[1]),ka=jb(wb,Yb,tc,xc,ka,Ja,ca,ya),0!==ka.length&&G.push(ka[0],ka[1]);return G},pc=function(wb,Yb,oc){wb=[wb[0]-Yb[0],wb[1]-Yb[1]];var tc=Math.sqrt(wb[0]*wb[0]+wb[1]*wb[1]);oc=(tc-oc)/tc;0>oc&&(oc=1E-5);return[Yb[0]+oc*wb[0],Yb[1]+oc*wb[1]]},Qc=function(wb,Yb){wb=vd(wb,Yb);return wb=Cc(wb)},Cc=
function(wb){for(var Yb,oc,tc=wb.length/2,xc=Infinity,qa=Infinity,ka=-Infinity,Ja=-Infinity,G=0;G<tc;G++)Yb=wb[2*G],oc=wb[2*G+1],xc=Math.min(xc,Yb),ka=Math.max(ka,Yb),qa=Math.min(qa,oc),Ja=Math.max(Ja,oc);G=2/(ka-xc);for(var ca=2/(Ja-qa),ya=0;ya<tc;ya++)Yb=wb[2*ya]*=G,oc=wb[2*ya+1]*=ca,xc=Math.min(xc,Yb),ka=Math.max(ka,Yb),qa=Math.min(qa,oc),Ja=Math.max(Ja,oc);if(-1>qa)for(Yb=0;Yb<tc;Yb++)wb[2*Yb+1]+=-1-qa;return wb},vd=function(wb,Yb){var oc=1/wb*2*Math.PI,tc=0===wb%2?Math.PI/2+oc/2:Math.PI/2;tc+=
Yb;Yb=Array(2*wb);for(var xc,qa=0;qa<wb;qa++)xc=qa*oc+tc,Yb[2*qa]=Math.cos(xc),Yb[2*qa+1]=Math.sin(-xc);return Yb},Wd=function(wb,Yb){return{heightOffset:Math.min(15,.05*Yb),widthOffset:Math.min(100,.25*wb),ctrlPtOffsetPct:.05}},we=Ye({dampingFactor:.8,precision:1E-6,iterations:200,weight:function(wb){return 1}}),ue=Ye({root:null,weight:function(wb){return 1},directed:!1,alpha:0}),sd={degreeCentralityNormalized:function(wb){wb=ue(wb);var Yb=this.cy(),oc=this.nodes(),tc=oc.length;if(wb.directed){for(var xc=
{},qa={},ka=0,Ja=0,G=0;G<tc;G++){var ca=oc[G],ya=ca.id();wb.root=ca;ca=this.degreeCentrality(wb);ka<ca.indegree&&(ka=ca.indegree);Ja<ca.outdegree&&(Ja=ca.outdegree);xc[ya]=ca.indegree;qa[ya]=ca.outdegree}return{indegree:function(ob){if(0==ka)return 0;bc(ob)&&(ob=Yb.filter(ob));return xc[ob.id()]/ka},outdegree:function(ob){if(0===Ja)return 0;bc(ob)&&(ob=Yb.filter(ob));return qa[ob.id()]/Ja}}}var Ka={},ab=0;for(G=0;G<tc;G++)ya=oc[G],wb.root=ya,ca=this.degreeCentrality(wb),ab<ca.degree&&(ab=ca.degree),
Ka[ya.id()]=ca.degree;return{degree:function(ob){if(0===ab)return 0;bc(ob)&&(ob=Yb.filter(ob));return Ka[ob.id()]/ab}}},degreeCentrality:function(wb){wb=ue(wb);var Yb=this.cy(),oc=this,tc=wb,xc=tc.root;wb=tc.weight;var qa=tc.directed;tc=tc.alpha;xc=Yb.collection(xc)[0];if(qa){qa=xc.connectedEdges();Yb=qa.filter(function(Ka){return Ka.target().same(xc)&&oc.has(Ka)});qa=qa.filter(function(Ka){return Ka.source().same(xc)&&oc.has(Ka)});for(var ka=Yb.length,Ja=qa.length,G=0,ca=0,ya=0;ya<Yb.length;ya++)G+=
wb(Yb[ya]);for(Yb=0;Yb<qa.length;Yb++)ca+=wb(qa[Yb]);return{indegree:Math.pow(ka,1-tc)*Math.pow(G,tc),outdegree:Math.pow(Ja,1-tc)*Math.pow(ca,tc)}}Yb=xc.connectedEdges().intersection(oc);qa=Yb.length;for(Ja=ka=0;Ja<Yb.length;Ja++)ka+=wb(Yb[Ja]);return{degree:Math.pow(qa,1-tc)*Math.pow(ka,tc)}}};sd.dc=sd.degreeCentrality;sd.dcn=sd.degreeCentralityNormalised=sd.degreeCentralityNormalized;var Fe=Ye({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ge={closenessCentralityNormalized:function(wb){var Yb=
Fe(wb);wb=Yb.harmonic;var oc=Yb.weight,tc=Yb.directed,xc=this.cy(),qa={},ka=0;Yb=this.nodes();oc=this.floydWarshall({weight:oc,directed:tc});for(tc=0;tc<Yb.length;tc++){for(var Ja=0,G=Yb[tc],ca=0;ca<Yb.length;ca++)if(tc!==ca){var ya=oc.distance(G,Yb[ca]);Ja=wb?Ja+1/ya:Ja+ya}wb||(Ja=1/Ja);ka<Ja&&(ka=Ja);qa[G.id()]=Ja}return{closeness:function(Ka){if(0==ka)return 0;Ka=bc(Ka)?xc.filter(Ka)[0].id():Ka.id();return qa[Ka]/ka}}},closenessCentrality:function(wb){var Yb=Fe(wb);wb=Yb.root;var oc=Yb.weight,
tc=Yb.directed;Yb=Yb.harmonic;wb=this.filter(wb)[0];oc=this.dijkstra({root:wb,weight:oc,directed:tc});tc=0;for(var xc=this.nodes(),qa=0;qa<xc.length;qa++){var ka=xc[qa];ka.same(wb)||(ka=oc.distanceTo(ka),tc=Yb?tc+1/ka:tc+ka)}return Yb?tc:1/tc}};Ge.cc=Ge.closenessCentrality;Ge.ccn=Ge.closenessCentralityNormalised=Ge.closenessCentralityNormalized;var Me=Ye({weight:null,directed:!1}),rf={betweennessCentrality:function(wb){var Yb=Me(wb);wb=Yb.directed;var oc=Yb.weight,tc=null!=oc,xc=this.cy(),qa=this.nodes(),
ka={},Ja={},G=0,ca={set:function(ab,ob){Ja[ab]=ob;ob>G&&(G=ob)},get:function(ab){return Ja[ab]}};for(Yb=0;Yb<qa.length;Yb++){var ya=qa[Yb],Ka=ya.id();ka[Ka]=wb?ya.outgoers().nodes():ya.openNeighborhood().nodes();ca.set(Ka,0)}wb=function(ab){for(var ob=qa[ab].id(),rb=[],Fb={},qb={},Ub={},Zb=new Ia(function(pa,Oa){return Ub[pa]-Ub[Oa]}),Ec=0;Ec<qa.length;Ec++){var n=qa[Ec].id();Fb[n]=[];qb[n]=0;Ub[n]=Infinity}qb[ob]=1;Ub[ob]=0;for(Zb.push(ob);!Zb.empty();)if(ob=Zb.pop(),rb.push(ob),tc)for(Ec=0;Ec<ka[ob].length;Ec++){n=
ka[ob][Ec];var Q=xc.getElementById(ob),ta=void 0;ta=0<Q.edgesTo(n).length?Q.edgesTo(n)[0]:n.edgesTo(Q)[0];Q=oc(ta);n=n.id();Ub[n]>Ub[ob]+Q&&(Ub[n]=Ub[ob]+Q,0>Zb.nodes.indexOf(n)?Zb.push(n):Zb.updateItem(n),qb[n]=0,Fb[n]=[]);Ub[n]==Ub[ob]+Q&&(qb[n]+=qb[ob],Fb[n].push(ob))}else for(Ec=0;Ec<ka[ob].length;Ec++)n=ka[ob][Ec].id(),Infinity==Ub[n]&&(Zb.push(n),Ub[n]=Ub[ob]+1),Ub[n]==Ub[ob]+1&&(qb[n]+=qb[ob],Fb[n].push(ob));Zb={};for(ob=0;ob<qa.length;ob++)Zb[qa[ob].id()]=0;for(;0<rb.length;){ob=rb.pop();
for(Ec=0;Ec<Fb[ob].length;Ec++)n=Fb[ob][Ec],Zb[n]+=qb[n]/qb[ob]*(1+Zb[ob]);ob!=qa[ab].id()&&ca.set(ob,ca.get(ob)+Zb[ob])}};for(Yb=0;Yb<qa.length;Yb++)wb(Yb);wb={betweenness:function(ab){ab=xc.collection(ab).id();return ca.get(ab)},betweennessNormalized:function(ab){if(0==G)return 0;ab=xc.collection(ab).id();return ca.get(ab)/G}};wb.betweennessNormalised=wb.betweennessNormalized;return wb}};rf.bc=rf.betweennessCentrality;var Ma=Ye({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(wb){return 1}]}),
lb=function(wb,Yb){for(var oc,tc=0;tc<Yb;tc++){for(var xc=oc=0;xc<Yb;xc++)oc+=wb[xc*Yb+tc];for(xc=0;xc<Yb;xc++)wb[xc*Yb+tc]/=oc}},vb=function(wb){var Yb=this.nodes(),oc=this.edges(),tc=this.cy(),xc=Ma(wb),qa={};for(wb=0;wb<Yb.length;wb++)qa[Yb[wb].id()]=wb;wb=Yb.length;var ka=wb*wb,Ja=Array(ka),G;for(G=0;G<ka;G++)Ja[G]=0;for(G=0;G<oc.length;G++){for(var ca=oc[G],ya=qa[ca.source().id()],Ka=qa[ca.target().id()],ab=xc.attributes,ob=0,rb=0;rb<ab.length;rb++)ob+=ab[rb](ca);ca=ob;Ja[ya*wb+Ka]+=ca;Ja[Ka*
wb+ya]+=ca}oc=Ja;qa=xc.multFactor;for(G=0;G<wb;G++)oc[G*wb+G]=qa;lb(Ja,wb);oc=!0;for(qa=0;oc&&qa<xc.maxIterations;){oc=!1;ca=Ja;Ja=wb;G=xc.expandFactor;ya=ca.slice(0);for(Ka=1;Ka<G;Ka++){ab=ya;ob=Ja;rb=Array(ob*ob);for(var Fb=0;Fb<ob;Fb++){for(var qb=0;qb<ob;qb++)rb[Fb*ob+qb]=0;for(qb=0;qb<ob;qb++)for(var Ub=0;Ub<ob;Ub++)rb[Fb*ob+Ub]+=ca[Fb*ob+qb]*ab[qb*ob+Ub]}ca=rb}Ja=G=ca;ya=wb;Ka=xc.inflateFactor;ca=Array(ya*ya);for(ab=0;ab<ya*ya;ab++)ca[ab]=Math.pow(Ja[ab],Ka);lb(ca,ya);Ja=ca;a:{for(ya=0;ya<ka;ya++)if(Math.round(Ja[ya]*
Math.pow(10,4))/Math.pow(10,4)!==Math.round(G[ya]*Math.pow(10,4))/Math.pow(10,4)){G=!1;break a}G=!0}G||(oc=!0);qa++}xc=Ja;ka=[];for(oc=0;oc<wb;oc++){qa=[];for(Ja=0;Ja<wb;Ja++)0<Math.round(1E3*xc[oc*wb+Ja])/1E3&&qa.push(Yb[Ja]);0!==qa.length&&ka.push(tc.collection(qa))}Yb=ka;for(tc=0;tc<Yb.length;tc++)for(wb=0;wb<Yb.length;wb++){if(xc=tc!=wb)a:{xc=Yb[tc];ka=Yb[wb];for(oc=0;oc<xc.length;oc++)if(!ka[oc]||xc[oc].id()!==ka[oc].id()){xc=!1;break a}xc=!0}xc&&Yb.splice(wb,1)}return Yb},nb={markovClustering:vb,
mcl:vb},ac=function(wb){return wb},yc=function(wb,Yb,oc){return wb+Math.abs(oc-Yb)},Mc=function(wb,Yb,oc){return wb+Math.pow(oc-Yb,2)},md=function(wb){return Math.sqrt(wb)},yd=function(wb,Yb,oc){return Math.max(wb,Math.abs(oc-Yb))},ne=function(wb,Yb,oc,tc,xc){for(var qa=5<arguments.length&&void 0!==arguments[5]?arguments[5]:ac,ka=tc,Ja,G,ca=0;ca<wb;ca++)Ja=Yb(ca),G=oc(ca),ka=xc(ka,Ja,G);return qa(ka)},Le={euclidean:function(wb,Yb,oc){return 2<=wb?ne(wb,Yb,oc,0,Mc,md):ne(wb,Yb,oc,0,yc)},squaredEuclidean:function(wb,
Yb,oc){return ne(wb,Yb,oc,0,Mc)},manhattan:function(wb,Yb,oc){return ne(wb,Yb,oc,0,yc)},max:function(wb,Yb,oc){return ne(wb,Yb,oc,-Infinity,yd)}};Le["squared-euclidean"]=Le.squaredEuclidean;Le.squaredeuclidean=Le.squaredEuclidean;var Qe=Ye({k:2,m:2,sensitivityThreshold:1E-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Xe=function(wb,Yb,oc,tc,xc){return U(wb,tc.length,"kMedoids"!==xc?function(qa){return oc[qa]}:function(qa){return tc[qa](oc)},function(qa){return tc[qa](Yb)},
oc,Yb)},Ed=function(wb,Yb,oc){for(var tc=oc.length,xc=Array(tc),qa=Array(tc),ka=Array(Yb),Ja=0;Ja<tc;Ja++)xc[Ja]=wb.min(oc[Ja]).value,qa[Ja]=wb.max(oc[Ja]).value;for(oc=0;oc<Yb;oc++){wb=[];for(Ja=0;Ja<tc;Ja++)wb[Ja]=Math.random()*(qa[Ja]-xc[Ja])+xc[Ja];ka[oc]=wb}return ka},kf=function(wb,Yb,oc,tc,xc){for(var qa=Infinity,ka=0,Ja=0;Ja<Yb.length;Ja++){var G=Xe(oc,wb,Yb[Ja],tc,xc);G<qa&&(qa=G,ka=Ja)}return ka},og=function(wb,Yb,oc){for(var tc=[],xc,qa=0;qa<Yb.length;qa++)xc=Yb[qa],oc[xc.id()]===wb&&tc.push(xc);
return tc},kg=function(wb,Yb,oc){for(var tc=0;tc<oc;tc++)if(wb===Yb[tc])return!0;return!1},Uf=function(wb,Yb){var oc=Array(Yb);if(50>wb.length)for(var tc=0;tc<Yb;tc++){for(var xc=wb[Math.floor(Math.random()*wb.length)];kg(xc,oc,tc);)xc=wb[Math.floor(Math.random()*wb.length)];oc[tc]=xc}else for(tc=0;tc<Yb;tc++)oc[tc]=wb[Math.floor(Math.random()*wb.length)];return oc},dg=function(wb,Yb,oc){for(var tc=0,xc=0;xc<Yb.length;xc++)tc+=Xe("manhattan",Yb[xc],wb,oc,"kMedoids");return tc},tg=function(wb){var Yb=
this.cy(),oc=this.nodes(),tc=Qe(wb),xc,qa;var ka=Array(oc.length);for(wb=0;wb<oc.length;wb++)ka[wb]=Array(tc.k);wb=Array(oc.length);for(xc=0;xc<oc.length;xc++)wb[xc]=Array(tc.k);for(xc=0;xc<oc.length;xc++){for(var Ja=qa=0;Ja<tc.k;Ja++)wb[xc][Ja]=Math.random(),qa+=wb[xc][Ja];for(Ja=0;Ja<tc.k;Ja++)wb[xc][Ja]/=qa}xc=Array(tc.k);for(qa=0;qa<tc.k;qa++)xc[qa]=Array(tc.attributes.length);qa=Array(oc.length);for(Ja=0;Ja<oc.length;Ja++)qa[Ja]=Array(tc.k);Ja=!0;for(var G=0;Ja&&G<tc.maxIterations;){Ja=!1;var ca,
ya=xc,Ka=oc;var ab=wb;var ob=qa,rb=tc;for(ca=0;ca<Ka.length;ca++)for(var Fb=0;Fb<ya.length;Fb++)ob[ca][Fb]=Math.pow(ab[ca][Fb],rb.m);for(Fb=0;Fb<ya.length;Fb++)for(var qb=0;qb<rb.attributes.length;qb++){for(var Ub=ab=ca=0;Ub<Ka.length;Ub++)ca+=ob[Ub][Fb]*rb.attributes[qb](Ka[Ub]),ab+=ob[Ub][Fb];ya[Fb][qb]=ca/ab}ya=wb;ab=ka;Ka=xc;ob=oc;rb=tc;for(ca=0;ca<ya.length;ca++)ab[ca]=ya[ca].slice();qb=2/(rb.m-1);for(Ub=0;Ub<Ka.length;Ub++)for(var Zb=0;Zb<ob.length;Zb++){for(var Ec=Fb=0;Ec<Ka.length;Ec++)ca=
Xe(rb.distance,ob[Zb],Ka[Ub],rb.attributes,"cmeans"),ab=Xe(rb.distance,ob[Zb],Ka[Ec],rb.attributes,"cmeans"),Fb+=Math.pow(ca/ab,qb);ya[Zb][Ub]=1/Fb}a:{for(ya=0;ya<wb.length;ya++)for(Ka=0;Ka<wb[ya].length;Ka++)if(Math.abs(wb[ya][Ka]-ka[ya][Ka])>tc.sensitivityThreshold){ya=!1;break a}ya=!0}ya||(Ja=!0);G++}tc=Array(tc.k);for(ka=0;ka<tc.length;ka++)tc[ka]=[];for(qa=0;qa<wb.length;qa++){ka=-Infinity;xc=-1;for(Ja=0;Ja<wb[0].length;Ja++)wb[qa][Ja]>ka&&(ka=wb[qa][Ja],xc=Ja);tc[xc].push(oc[qa])}for(oc=0;oc<
tc.length;oc++)tc[oc]=Yb.collection(tc[oc]);return{clusters:tc,degreeOfMembership:wb}},fh={kMeans:function(wb){var Yb=this.cy(),oc=this.nodes(),tc=Qe(wb),xc=Array(tc.k),qa={};var ka=tc.testMode?"number"===typeof tc.testCentroids?Ed(oc,tc.k,tc.attributes):"object"===f(tc.testCentroids)?tc.testCentroids:Ed(oc,tc.k,tc.attributes):Ed(oc,tc.k,tc.attributes);for(var Ja=!0,G=0;Ja&&G<tc.maxIterations;){for(Ja=0;Ja<oc.length;Ja++)wb=oc[Ja],qa[wb.id()]=kf(wb,ka,tc.distance,tc.attributes,"kMeans");Ja=!1;for(var ca=
0;ca<tc.k;ca++){var ya=og(ca,oc,qa);if(0!==ya.length){for(var Ka=tc.attributes.length,ab=ka[ca],ob=Array(Ka),rb=Array(Ka),Fb=0;Fb<Ka;Fb++){for(var qb=rb[Fb]=0;qb<ya.length;qb++)wb=ya[qb],rb[Fb]+=tc.attributes[Fb](wb);ob[Fb]=rb[Fb]/ya.length;Math.abs(ab[Fb]-ob[Fb])<=tc.sensitivityThreshold||(Ja=!0)}ka[ca]=ob;xc[ca]=Yb.collection(ya)}}G++}return xc},kMedoids:function(wb){var Yb=this.cy(),oc=this.nodes();wb=Qe(wb);var tc=Array(wb.k),xc,qa={},ka=Array(wb.k);wb.testMode?"number"!==typeof wb.testCentroids&&
(xc="object"===f(wb.testCentroids)?wb.testCentroids:Uf(oc,wb.k)):xc=Uf(oc,wb.k);for(var Ja=!0,G=0;Ja&&G<wb.maxIterations;){for(Ja=0;Ja<oc.length;Ja++){var ca=oc[Ja];qa[ca.id()]=kf(ca,xc,wb.distance,wb.attributes,"kMedoids")}Ja=!1;for(var ya=0;ya<xc.length;ya++){var Ka=og(ya,oc,qa);if(0!==Ka.length){ka[ya]=dg(xc[ya],Ka,wb.attributes);for(var ab=0;ab<Ka.length;ab++)ca=dg(Ka[ab],Ka,wb.attributes),ca<ka[ya]&&(ka[ya]=ca,xc[ya]=Ka[ab],Ja=!0);tc[ya]=Yb.collection(Ka)}}G++}return tc},fuzzyCMeans:tg,fcm:tg},
sb=Ye({distance:"euclidean",linkage:"min",mode:"threshold",threshold:Infinity,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),tb={single:"min",complete:"max"},Lb=function(wb){wb=sb(wb);var Yb=tb[wb.linkage];null!=Yb&&(wb.linkage=Yb);return wb},Vb=function(wb,Yb,oc,tc,xc){for(var qa=0,ka=Infinity,Ja=xc.attributes,G=function(ab,ob){return U(xc.distance,Ja.length,function(rb){return Ja[rb](ab)},function(rb){return Ja[rb](ob)},ab,ob)},ca=0;ca<wb.length;ca++){var ya=wb[ca].key,Ka=oc[ya][tc[ya]];Ka<
ka&&(qa=ya,ka=Ka)}if("threshold"===xc.mode&&ka>=xc.threshold||"dendrogram"===xc.mode&&1===wb.length)return!1;ka=Yb[qa];qa=Yb[tc[qa]];ca="dendrogram"===xc.mode?{left:ka,right:qa,key:ka.key}:{value:ka.value.concat(qa.value),key:ka.key};wb[ka.index]=ca;wb.splice(qa.index,1);Yb[ka.key]=ca;for(ca=0;ca<wb.length;ca++)ya=wb[ca],ka.key===ya.key?Yb=Infinity:"min"===xc.linkage?(Yb=oc[ka.key][ya.key],oc[ka.key][ya.key]>oc[qa.key][ya.key]&&(Yb=oc[qa.key][ya.key])):"max"===xc.linkage?(Yb=oc[ka.key][ya.key],oc[ka.key][ya.key]<
oc[qa.key][ya.key]&&(Yb=oc[qa.key][ya.key])):Yb="mean"===xc.linkage?(oc[ka.key][ya.key]*ka.size+oc[qa.key][ya.key]*qa.size)/(ka.size+qa.size):"dendrogram"===xc.mode?G(ya.value,ka.value):G(ya.value[0],ka.value[0]),oc[ka.key][ya.key]=oc[ya.key][ka.key]=Yb;for(G=0;G<wb.length;G++){Yb=wb[G].key;if(tc[Yb]===ka.key||tc[Yb]===qa.key){ca=Yb;for(ya=0;ya<wb.length;ya++)Ka=wb[ya].key,oc[Yb][Ka]<oc[Yb][ca]&&(ca=Ka);tc[Yb]=ca}wb[G].index=G}ka.key=qa.key=ka.index=qa.index=null;return!0},hc=function xc(Yb,oc,tc){Yb&&
(Yb.value?oc.push(Yb.value):(Yb.left&&xc(Yb.left,oc),Yb.right&&xc(Yb.right,oc)))},dc=function xc(oc,tc){if(!oc)return"";if(oc.left&&oc.right){var qa=xc(oc.left,tc);oc=xc(oc.right,tc);var ka=tc.add({group:"nodes",data:{id:qa+","+oc}});tc.add({group:"edges",data:{source:qa,target:ka.id()}});tc.add({group:"edges",data:{source:oc,target:ka.id()}});return ka.id()}if(oc.value)return oc.value.id()},Fc=function ka(tc,xc,qa){if(!tc)return[];var Ja=[],G=[];if(0===xc)return tc.left&&hc(tc.left,Ja),tc.right&&
hc(tc.right,G),tc=Ja.concat(G),[qa.collection(tc)];if(1===xc){if(tc.value)return[qa.collection(tc.value)];tc.left&&hc(tc.left,Ja);tc.right&&hc(tc.right,G);return[qa.collection(Ja),qa.collection(G)]}if(tc.value)return[qa.collection(tc.value)];tc.left&&(Ja=ka(tc.left,xc-1,qa));tc.right&&(G=ka(tc.right,xc-1,qa));return Ja.concat(G)},Yc=function(tc){var xc=this.cy(),qa=this.nodes(),ka=Lb(tc),Ja=ka.attributes,G=function(Fb,qb){return U(ka.distance,Ja.length,function(Ub){return Ja[Ub](Fb)},function(Ub){return Ja[Ub](qb)},
Fb,qb)};tc=[];for(var ca=[],ya=[],Ka=[],ab=0;ab<qa.length;ab++){var ob={value:"dendrogram"===ka.mode?qa[ab]:[qa[ab]],key:ab,index:ab};tc[ab]=ob;Ka[ab]=ob;ca[ab]=[];ya[ab]=0}for(qa=0;qa<tc.length;qa++)for(ab=0;ab<=qa;ab++)ob=void 0,ob="dendrogram"===ka.mode?qa===ab?Infinity:G(tc[qa].value,tc[ab].value):qa===ab?Infinity:G(tc[qa].value[0],tc[ab].value[0]),ca[qa][ab]=ob,ca[ab][qa]=ob,ob<ca[qa][ya[qa]]&&(ya[qa]=ab);for(G=Vb(tc,Ka,ca,ya,ka);G;)G=Vb(tc,Ka,ca,ya,ka);if("dendrogram"===ka.mode){var rb=Fc(tc[0],
ka.dendrogramDepth,xc);ka.addDendrogram&&dc(tc[0],xc)}else rb=Array(tc.length),tc.forEach(function(Fb,qb){Fb.key=Fb.index=null;rb[qb]=xc.collection(Fb.value)});return rb},Nc={hierarchicalClustering:Yc,hca:Yc},fd=Ye({distance:"euclidean",preference:"median",damping:.8,maxIterations:1E3,minIterations:100,attributes:[]}),mc=function(tc){var xc=tc.damping,qa=tc.preference;.5<=xc&&1>xc||cd("Damping must range on [0.5, 1).  Got: ".concat(xc));xc=["median","mean","min","max"];xc.some(function(ka){return ka===
qa})||Rc(qa)||cd("Preference must be one of [".concat(xc.map(function(ka){return"'".concat(ka,"'")}).join(", "),"] or a number.  Got: ").concat(qa));return fd(tc)},wd=function(tc,xc,qa,ka){return-U(tc,ka.length,function(Ja){return ka[Ja](xc)},function(Ja){return ka[Ja](qa)},xc,qa)},Xd=function(tc,xc,qa){for(var ka=[],Ja=0;Ja<tc;Ja++){for(var G=-1,ca=-Infinity,ya=0;ya<qa.length;ya++){var Ka=qa[ya];xc[Ja*tc+Ka]>ca&&(G=Ka,ca=xc[Ja*tc+Ka])}0<G&&ka.push(G)}for(tc=0;tc<qa.length;tc++)ka[qa[tc]]=qa[tc];
return ka},ce=function(tc){var xc=this.cy(),qa=this.nodes(),ka=mc(tc);tc={};for(var Ja=0;Ja<qa.length;Ja++)tc[qa[Ja].id()]=Ja;var G,ca;Ja=qa.length;var ya=Ja*Ja;var Ka=Array(ya);for(G=0;G<ya;G++)Ka[G]=-Infinity;for(G=0;G<Ja;G++)for(ca=0;ca<Ja;ca++)G!==ca&&(Ka[G*Ja+ca]=wd(ka.distance,qa[G],qa[ca],ka.attributes));G=ka.preference;G="median"===G?Vf(Ka):"mean"===G?Rd(Ka):"min"===G?nf(Ka):"max"===G?Se(Ka):G;for(ca=0;ca<Ja;ca++)Ka[ca*Ja+ca]=G;G=Array(ya);for(ca=0;ca<ya;ca++)G[ca]=0;ca=Array(ya);for(var ab=
0;ab<ya;ab++)ca[ab]=0;ya=Array(Ja);ab=Array(Ja);for(var ob=Array(Ja),rb=0;rb<Ja;rb++)ya[rb]=0,ab[rb]=0,ob[rb]=0;rb=Array(Ja*ka.minIterations);for(var Fb=0;Fb<rb.length;Fb++)rb[Fb]=0;for(Fb=0;Fb<ka.maxIterations;Fb++){for(var qb=0;qb<Ja;qb++){for(var Ub=-Infinity,Zb=-Infinity,Ec=-1,n,Q=0;Q<Ja;Q++)ya[Q]=G[qb*Ja+Q],n=ca[qb*Ja+Q]+Ka[qb*Ja+Q],n>=Ub?(Zb=Ub,Ub=n,Ec=Q):n>Zb&&(Zb=n);for(n=0;n<Ja;n++)G[qb*Ja+n]=(1-ka.damping)*(Ka[qb*Ja+n]-Ub)+ka.damping*ya[n];G[qb*Ja+Ec]=(1-ka.damping)*(Ka[qb*Ja+Ec]-Zb)+ka.damping*
ya[Ec]}for(qb=0;qb<Ja;qb++){for(Zb=Ub=0;Zb<Ja;Zb++)ya[Zb]=ca[Zb*Ja+qb],ab[Zb]=Math.max(0,G[Zb*Ja+qb]),Ub+=ab[Zb];Ub-=ab[qb];ab[qb]=G[qb*Ja+qb];Ub+=ab[qb];for(Zb=0;Zb<Ja;Zb++)ca[Zb*Ja+qb]=(1-ka.damping)*Math.min(0,Ub-ab[Zb])+ka.damping*ya[Zb];ca[qb*Ja+qb]=(1-ka.damping)*(Ub-ab[qb])+ka.damping*ya[qb]}for(Ub=qb=0;Ub<Ja;Ub++)Zb=0<ca[Ub*Ja+Ub]+G[Ub*Ja+Ub]?1:0,rb[Fb%ka.minIterations*Ja+Ub]=Zb,qb+=Zb;if(0<qb&&(Fb>=ka.minIterations-1||Fb==ka.maxIterations-1)){for(Ub=qb=0;Ub<Ja;Ub++){for(Zb=ob[Ub]=0;Zb<ka.minIterations;Zb++)ob[Ub]+=
rb[Zb*Ja+Ub];0!==ob[Ub]&&ob[Ub]!==ka.minIterations||qb++}if(qb===Ja)break}}ka=[];for(ya=0;ya<Ja;ya++)0<G[ya*Ja+ya]+ca[ya*Ja+ya]&&ka.push(ya);G=Xd(Ja,Ka,ka);for(ca=0;ca<ka.length;ca++){ya=[];for(ab=0;ab<G.length;ab++)G[ab]===ka[ca]&&ya.push(ab);ab=-1;ob=-Infinity;for(rb=0;rb<ya.length;rb++){for(qb=Fb=0;qb<ya.length;qb++)Fb+=Ka[ya[qb]*Ja+ya[rb]];Fb>ob&&(ab=rb,ob=Fb)}ka[ca]=ya[ab]}Ka=G=Xd(Ja,Ka,ka);Ja={};for(G=0;G<ka.length;G++)Ja[ka[G]]=[];for(G=0;G<qa.length;G++)ca=tc[qa[G].id()],ca=Ka[ca],null!=ca&&
Ja[ca].push(qa[G]);qa=Array(ka.length);for(tc=0;tc<ka.length;tc++)qa[tc]=xc.collection(Ja[ka[tc]]);return qa},De={affinityPropagation:ce,ap:ce},Ua=Ye({root:void 0,directed:!1}),pb=function(){var tc=this,xc={},qa=0,ka=0,Ja=[],G=[],ca={},ya=function(ob,rb){for(var Fb=G.length-1,qb=[],Ub=tc.spawn();G[Fb].x!=ob||G[Fb].y!=rb;)qb.push(G.pop().edge),Fb--;qb.push(G.pop().edge);qb.forEach(function(Zb){var Ec=Zb.connectedNodes().intersection(tc);Ub.merge(Zb);Ec.forEach(function(n){var Q=n.id(),ta=n.connectedEdges().intersection(tc);
Ub.merge(n);xc[Q].cutVertex?Ub.merge(ta.filter(function(pa){return pa.isLoop()})):Ub.merge(ta)})});Ja.push(Ub)},Ka=function Ub(rb,Fb,qb){rb===qb&&(ka+=1);xc[Fb]={id:qa,low:qa++,cutVertex:!1};var Zb=tc.getElementById(Fb).connectedEdges().intersection(tc);if(0===Zb.size())Ja.push(tc.spawn(tc.getElementById(Fb)));else{var Ec,n,Q,ta;Zb.forEach(function(pa){Ec=pa.source().id();n=pa.target().id();Q=Ec===Fb?n:Ec;Q!==qb&&(ta=pa.id(),ca[ta]||(ca[ta]=!0,G.push({x:Fb,y:Q,edge:pa})),Q in xc?xc[Fb].low=Math.min(xc[Fb].low,
xc[Q].id):(Ub(rb,Q,Fb),xc[Fb].low=Math.min(xc[Fb].low,xc[Q].low),xc[Fb].id<=xc[Q].low&&(xc[Fb].cutVertex=!0,ya(Fb,Q))))})}};tc.forEach(function(rb){rb.isNode()&&(rb=rb.id(),rb in xc||(ka=0,Ka(rb,rb),xc[rb].cutVertex=1<ka))});var ab=Object.keys(xc).filter(function(rb){return xc[rb].cutVertex}).map(function(rb){return tc.getElementById(rb)});return{cut:tc.spawn(ab),components:Ja}},Rb=function(){var tc=this,xc={},qa=0,ka=[],Ja=[],G=tc.spawn(tc),ca=function ab(Ka){Ja.push(Ka);xc[Ka]={index:qa,low:qa++,
explored:!1};tc.getElementById(Ka).connectedEdges().intersection(tc).forEach(function(Fb){Fb=Fb.target().id();Fb!==Ka&&(Fb in xc||ab(Fb),xc[Fb].explored||(xc[Ka].low=Math.min(xc[Ka].low,xc[Fb].low)))});if(xc[Ka].index===xc[Ka].low){for(var ob=tc.spawn();;){var rb=Ja.pop();ob.merge(tc.getElementById(rb));xc[rb].low=xc[Ka].index;xc[rb].explored=!0;if(rb===Ka)break}rb=ob.edgesWith(ob);ob=ob.merge(rb);ka.push(ob);G=G.difference(ob)}};tc.forEach(function(Ka){Ka.isNode()&&(Ka=Ka.id(),Ka in xc||ca(Ka))});
return{cut:G,components:ka}},ec={};[zc,{dijkstra:function(tc){if(!ub(tc)){var xc=arguments;tc={root:xc[0],weight:xc[1],directed:xc[2]}}xc=Wa(tc);var qa=xc.root,ka=xc.directed,Ja=this,G=xc.weight;qa=bc(qa)?this.filter(qa)[0]:qa[0];var ca={},ya={},Ka={};xc=this.byGroup();var ab=xc.nodes,ob=xc.edges;ob.unmergeBy(function(pa){return pa.isLoop()});xc=function(pa,Oa){ca[pa.id()]=Oa;rb.updateItem(pa)};for(var rb=new Ia(function(pa,Oa){return ca[pa.id()]-ca[Oa.id()]}),Fb=0;Fb<ab.length;Fb++){var qb=ab[Fb];
ca[qb.id()]=qb.same(qa)?0:Infinity;rb.push(qb)}for(qa=function(pa,Oa){pa=(ka?pa.edgesTo(Oa):pa.edgesWith(Oa)).intersect(ob);Oa=Infinity;for(var hb,yb=0;yb<pa.length;yb++){var Kb=pa[yb],ic=G(Kb);if(ic<Oa||!hb)Oa=ic,hb=Kb}return{edge:hb,dist:Oa}};0<rb.size();){Fb=rb.pop();qb=ca[Fb.id()];var Ub=Fb.id();Ka[Ub]=qb;if(Infinity!==qb){Ub=Fb.neighborhood().intersect(ab);for(var Zb=0;Zb<Ub.length;Zb++){var Ec=Ub[Zb],n=Ec.id(),Q=qa(Fb,Ec),ta=qb+Q.dist;ta<ca[Ec.id()]&&(xc(Ec,ta),ya[n]={node:Fb,edge:Q.edge})}}}return{distanceTo:function(pa){pa=
bc(pa)?ab.filter(pa)[0]:pa[0];return Ka[pa.id()]},pathTo:function(pa){var Oa=bc(pa)?ab.filter(pa)[0]:pa[0];pa=[];var hb=Oa.id();if(0<Oa.length)for(pa.unshift(Oa);ya[hb];)Oa=ya[hb],pa.unshift(Oa.edge),pa.unshift(Oa.node),Oa=Oa.node,hb=Oa.id();return Ja.spawn(pa)}}}},{kruskal:function(tc){tc=tc||function(rb){return 1};var xc=this.byGroup(),qa=xc.nodes,ka=xc.edges,Ja=qa.length,G=Array(Ja);xc=function(rb){for(var Fb=0;Fb<G.length;Fb++)if(G[Fb].has(rb))return Fb};for(var ca=0;ca<Ja;ca++)G[ca]=this.spawn(qa[ca]);
ka=ka.sort(function(rb,Fb){return tc(rb)-tc(Fb)});for(Ja=0;Ja<ka.length;Ja++){ca=ka[Ja];var ya=ca.source()[0],Ka=ca.target()[0];ya=xc(ya);Ka=xc(Ka);var ab=G[ya],ob=G[Ka];ya!==Ka&&(qa.merge(ca),ab.merge(ob),G.splice(Ka,1))}return qa}},{aStar:function(tc){var xc=this.cy();tc=Ha(tc);var qa=tc.root,ka=tc.goal,Ja=tc.heuristic,G=tc.directed,ca=tc.weight;qa=xc.collection(qa)[0];ka=xc.collection(ka)[0];var ya=qa.id(),Ka=ka.id();xc={};var ab={},ob={},rb=new Ia(function(hb,yb){return ab[hb.id()]-ab[yb.id()]}),
Fb=new wg;tc={};var qb={},Ub=function(hb,yb){rb.push(hb);Fb.add(yb)};Ub(qa,ya);xc[ya]=0;ab[ya]=Ja(qa);for(ya=0;0<rb.size();){var Zb=rb.pop();qa=Zb.id();Fb["delete"](qa);ya++;if(qa===Ka){Ja=[];G=Ka;for(Ka=qb[G];;){Ja.unshift(ka);null!=Ka&&Ja.unshift(Ka);ka=tc[G];if(null==ka)break;G=ka.id();Ka=qb[G]}return{found:!0,distance:xc[qa],path:this.spawn(Ja),steps:ya}}ob[qa]=!0;for(var Ec=Zb._private.edges,n=0;n<Ec.length;n++){var Q=Ec[n];if(this.hasElementWithId(Q.id())&&(!G||Q.data("source")===qa)){var ta=
Q.source(),pa=Q.target();ta=ta.id()!==qa?ta:pa;pa=ta.id();if(this.hasElementWithId(pa)&&!ob[pa]){var Oa=xc[qa]+ca(Q);Fb.has(pa)?Oa<xc[pa]&&(xc[pa]=Oa,ab[pa]=Oa+Ja(ta),tc[pa]=Zb,qb[pa]=Q):(xc[pa]=Oa,ab[pa]=Oa+Ja(ta),Ub(ta,pa),tc[pa]=Zb,qb[pa]=Q)}}}}return{found:!1,distance:void 0,path:void 0,steps:ya}}},{floydWarshall:function(tc){var xc=this.cy(),qa=m(tc);tc=qa.directed;qa=qa.weight;var ka=this.byGroup(),Ja=ka.nodes;ka=ka.edges;for(var G=Ja.length,ca=G*G,ya=Array(ca),Ka=0;Ka<ca;Ka++){var ab=Ka%G;
ya[Ka]=(Ka-ab)/G===ab?0:Infinity}var ob=Array(ca),rb=Array(ca);for(ca=0;ca<ka.length;ca++){Ka=ka[ca];ab=Ka.source()[0];var Fb=Ka.target()[0];if(ab!==Fb){ab=Ja.indexOf(ab);var qb=Ja.indexOf(Fb),Ub=ab*G+qb;Fb=qa(Ka);ya[Ub]>Fb&&(ya[Ub]=Fb,ob[Ub]=qb,rb[Ub]=Ka);tc||(qb=qb*G+ab,!tc&&ya[qb]>Fb&&(ya[qb]=Fb,ob[qb]=ab,rb[qb]=Ka))}}for(tc=0;tc<G;tc++)for(qa=0;qa<G;qa++)for(ka=qa*G+tc,ca=0;ca<G;ca++)Ka=qa*G+ca,ab=tc*G+ca,ya[ka]+ya[ab]<ya[Ka]&&(ya[Ka]=ya[ka]+ya[ab],ob[Ka]=ob[ka]);var Zb=function(Ec){return(bc(Ec)?
xc.filter(Ec):Ec)[0]};return{distance:function(Ec,n){Ec=Ja.indexOf(Zb(Ec));n=Ja.indexOf(Zb(n));return ya[Ec*G+n]},path:function(Ec,n){Ec=Ja.indexOf(Zb(Ec));n=Ja.indexOf(Zb(n));var Q=Ja[Ec];if(Ec===n)return Q.collection();if(null==ob[Ec*G+n])return xc.collection();var ta=xc.collection();for(ta.merge(Q);Ec!==n;)Q=Ec,Ec=ob[Ec*G+n],Q=rb[Q*G+Ec],ta.merge(Q),ta.merge(Ja[Ec]);return ta}}}},{bellmanFord:function(tc){var xc=this,qa=Na(tc);tc=qa.directed;var ka=qa.root;qa=qa.weight;var Ja=this,G=this.cy(),
ca=this.byGroup(),ya=ca.edges,Ka=ca.nodes,ab=Ka.length,ob=new pf;ca=!1;ka=G.collection(ka)[0];ya.unmergeBy(function(yb){return yb.isLoop()});for(var rb=ya.length,Fb=function(yb){var Kb=ob.get(yb.id());Kb||(Kb={},ob.set(yb.id(),Kb));return Kb},qb=function(yb){return(bc(yb)?G.$(yb):yb)[0]},Ub=0;Ub<ab;Ub++){var Zb=Ka[Ub],Ec=Fb(Zb);Zb.same(ka)?Ec.dist=0:Ec.dist=Infinity;Ec.pred=null;Ec.edge=null}var n=!1;Ka=function(yb,Kb,ic,Bc,Lc,gd){Kb=Bc.dist+gd;Kb<Lc.dist&&!ic.same(Bc.edge)&&(Lc.dist=Kb,Lc.pred=yb,
Lc.edge=ic,n=!0)};for(Ub=1;Ub<ab;Ub++){n=!1;for(Zb=0;Zb<rb;Zb++){Ec=ya[Zb];var Q=Ec.source(),ta=Ec.target(),pa=qa(Ec),Oa=Fb(Q),hb=Fb(ta);Ka(Q,ta,Ec,Oa,hb,pa);tc||Ka(ta,Q,Ec,hb,Oa,pa)}if(!n)break}if(n)for(ab=0;ab<rb;ab++)if(Ub=ya[ab],Zb=Ub.source(),Ka=Ub.target(),Ub=qa(Ub),Zb=Fb(Zb).dist,Ka=Fb(Ka).dist,Zb+Ub<Ka||!tc&&Ka+Ub<Zb){Je("Graph contains a negative weight cycle for Bellman-Ford");ca=!0;break}return{distanceTo:function(yb){return Fb(qb(yb)).dist},pathTo:function(yb){for(var Kb=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:ka,ic=[],Bc=qb(yb);;){if(null==Bc)return xc.spawn();var Lc=Fb(Bc),gd=Lc.edge;Lc=Lc.pred;ic.unshift(Bc[0]);if(Bc.same(Kb)&&0<ic.length)break;null!=gd&&ic.unshift(gd);Bc=Lc}return Ja.spawn(ic)},hasNegativeWeightCycle:ca,negativeWeightCycles:[]}}},{kargerStein:function(){var tc=this,xc=this.byGroup(),qa=xc.nodes,ka=xc.edges;ka.unmergeBy(function(n){return n.isLoop()});var Ja=qa.length;xc=ka.length;var G=Math.ceil(Math.pow(Math.log(Ja)/Math.LN2,2)),ca=Math.floor(Ja/
Xb);if(2>Ja)cd("At least 2 nodes are required for Karger-Stein algorithm");else{for(var ya=[],Ka=0;Ka<xc;Ka++){var ab=ka[Ka];ya.push([Ka,qa.indexOf(ab.source()),qa.indexOf(ab.target())])}Ka=Infinity;ab=[];xc=Array(Ja);for(var ob=Array(Ja),rb=Array(Ja),Fb=function(n,Q){for(var ta=0;ta<Ja;ta++)Q[ta]=n[ta]},qb=0;qb<=G;qb++){for(var Ub=0;Ub<Ja;Ub++)ob[Ub]=Ub;var Zb=Xc(ob,ya.slice(),Ja,ca);Ub=Zb.slice();Fb(ob,rb);Zb=Xc(ob,Zb,ca,2);Ub=Xc(rb,Ub,ca,2);Zb.length<=Ub.length&&Zb.length<Ka?(Ka=Zb.length,ab=Zb,
Fb(ob,xc)):Ub.length<=Zb.length&&Ub.length<Ka&&(Ka=Ub.length,ab=Ub,Fb(rb,xc))}var Ec=this.spawn(ab.map(function(n){return ka[n[0]]}));G=this.spawn();ca=this.spawn();ya=xc[0];for(Ka=0;Ka<xc.length;Ka++)ab=qa[Ka],xc[Ka]===ya?G.merge(ab):ca.merge(ab);qa=function(n){var Q=tc.spawn();n.forEach(function(ta){Q.merge(ta);ta.connectedEdges().forEach(function(pa){tc.contains(pa)&&!Ec.contains(pa)&&Q.merge(pa)})});return Q};qa=[qa(G),qa(ca)];return{cut:Ec,components:qa,partition1:G,partition2:ca}}}},{pageRank:function(tc){var xc=
we(tc),qa=xc.dampingFactor;tc=xc.precision;var ka=xc.iterations,Ja=xc.weight,G=this._private.cy;xc=this.byGroup();var ca=xc.nodes,ya=xc.edges;xc=ca.length;var Ka=ya.length,ab=Array(xc*xc),ob=Array(xc);qa=(1-qa)/xc;for(var rb=0;rb<xc;rb++){for(var Fb=0;Fb<xc;Fb++)ab[rb*xc+Fb]=0;ob[rb]=0}for(rb=0;rb<Ka;rb++){Fb=ya[rb];var qb=Fb.data("source"),Ub=Fb.data("target");qb!==Ub&&(qb=ca.indexOfId(qb),Ub=ca.indexOfId(Ub),Fb=Ja(Fb),ab[Ub*xc+qb]+=Fb,ob[qb]+=Fb)}Ja=1/xc+qa;for(ya=0;ya<xc;ya++)if(0===ob[ya])for(Ka=
0;Ka<xc;Ka++)ab[Ka*xc+ya]=Ja;else for(Ka=0;Ka<xc;Ka++)rb=Ka*xc+ya,ab[rb]=ab[rb]/ob[ya]+qa;var Zb=Array(xc);ob=Array(xc);for(qa=0;qa<xc;qa++)Zb[qa]=1;for(qa=0;qa<ka;qa++){for(Ja=0;Ja<xc;Ja++)ob[Ja]=0;for(Ja=0;Ja<xc;Ja++)for(ya=0;ya<xc;ya++)ob[Ja]+=ab[Ja*xc+ya]*Zb[ya];Pg(ob);Ja=Zb;Zb=ob;ob=Ja;for(Ka=ya=0;Ka<xc;Ka++)rb=Ja[Ka]-Zb[Ka],ya+=rb*rb;if(ya<tc)break}return{rank:function(Ec){Ec=G.collection(Ec)[0];return Zb[ca.indexOf(Ec)]}}}},sd,Ge,rf,nb,fh,Nc,De,{hierholzer:function(tc){if(!ub(tc)){var xc=arguments;
tc={root:xc[0],directed:xc[1]}}xc=Ua(tc);var qa=xc.root,ka=xc.directed,Ja=!1,G,ca,ya;qa&&(ya=bc(qa)?this.filter(qa)[0].id():qa[0].id());var Ka={},ab={};ka?this.forEach(function(qb){var Ub=qb.id();if(qb.isNode()){var Zb=qb.indegree(!0),Ec=qb.outdegree(!0),n=Zb-Ec;Zb=Ec-Zb;if(1==n)G?Ja=!0:G=Ub;else if(1==Zb)ca?Ja=!0:ca=Ub;else if(1<Zb||1<n)Ja=!0;Ka[Ub]=[];qb.outgoers().forEach(function(Q){Q.isEdge()&&Ka[Ub].push(Q.id())})}else ab[Ub]=[void 0,qb.target().id()]}):this.forEach(function(qb){var Ub=qb.id();
qb.isNode()?(qb.degree(!0)%2&&(G?ca?Ja=!0:ca=Ub:G=Ub),Ka[Ub]=[],qb.connectedEdges().forEach(function(Zb){return Ka[Ub].push(Zb.id())})):ab[Ub]=[qb.source().id(),qb.target().id()]});xc={found:!1,trail:void 0};if(Ja)return xc;if(ca&&G)if(ka){if(ya&&ca!=ya)return xc;ya=ca}else{if(ya&&ca!=ya&&G!=ya)return xc;ya||(ya=ca)}else ya||(ya=this[0].id());qa=function(qb){var Ub=qb;qb=[qb];for(var Zb,Ec,n;Ka[Ub].length;)Zb=Ka[Ub].shift(),Ec=ab[Zb][0],n=ab[Zb][1],Ub!=n?(Ka[n]=Ka[n].filter(function(Q){return Q!=
Zb}),Ub=n):ka||Ub==Ec||(Ka[Ec]=Ka[Ec].filter(function(Q){return Q!=Zb}),Ub=Ec),qb.unshift(Zb),qb.unshift(Ub);return qb};var ob=[],rb=[];for(rb=qa(ya);1!=rb.length;)0==Ka[rb[0]].length?(ob.unshift(this.getElementById(rb.shift())),ob.unshift(this.getElementById(rb.shift()))):rb=qa(rb.shift()).concat(rb);ob.unshift(this.getElementById(rb.shift()));for(var Fb in Ka)if(Ka[Fb].length)return xc;xc.found=!0;xc.trail=this.spawn(ob,!0);return xc}},{hopcroftTarjanBiconnected:pb,htbc:pb,htb:pb,hopcroftTarjanBiconnectedComponents:pb},
{tarjanStronglyConnected:Rb,tsc:Rb,tscc:Rb,tarjanStronglyConnectedComponents:Rb}].forEach(function(tc){Dc(ec,tc)});var Sc=function qa(xc){if(!(this instanceof qa))return new qa(xc);this.id="Thenable/1.0.7";this.state=0;this.rejectReason=this.fulfillValue=void 0;this.onFulfilled=[];this.onRejected=[];this.proxy={then:this.then.bind(this)};"function"===typeof xc&&xc.call(this,this.fulfill.bind(this),this.reject.bind(this))};Sc.prototype={fulfill:function(xc){return kd(this,1,"fulfillValue",xc)},reject:function(xc){return kd(this,
2,"rejectReason",xc)},then:function(xc,qa){var ka=new Sc;this.onFulfilled.push(je(xc,ka,"fulfill"));this.onRejected.push(je(qa,ka,"reject"));Fd(this);return ka.proxy}};var kd=function(xc,qa,ka,Ja){0===xc.state&&(xc.state=qa,xc[ka]=Ja,Fd(xc));return xc},Fd=function(xc){1===xc.state?Yd(xc,"onFulfilled",xc.fulfillValue):2===xc.state&&Yd(xc,"onRejected",xc.rejectReason)},Yd=function(xc,qa,ka){if(0!==xc[qa].length){var Ja=xc[qa];xc[qa]=[];xc=function(){for(var G=0;G<Ja.length;G++)Ja[G](ka)};"function"===
typeof setImmediate?setImmediate(xc):setTimeout(xc,0)}},je=function(xc,qa,ka){return function(Ja){if("function"!==typeof xc)qa[ka].call(qa,Ja);else{try{var G=xc(Ja)}catch(ca){qa.reject(ca);return}re(qa,G)}}},re=function Ja(qa,ka){if(qa===ka||qa.proxy===ka)qa.reject(new TypeError("cannot resolve promise with itself"));else{if("object"===f(ka)&&null!==ka||"function"===typeof ka)try{var G=ka.then}catch(ya){qa.reject(ya);return}if("function"===typeof G){var ca=!1;try{G.call(ka,function(ya){ca||(ca=!0,
ya===ka?qa.reject(new TypeError("circular thenable chain")):Ja(qa,ya))},function(ya){ca||(ca=!0,qa.reject(ya))})}catch(ya){ca||qa.reject(ya)}}else qa.fulfill(ka)}};Sc.all=function(qa){return new Sc(function(ka,Ja){for(var G=Array(qa.length),ca=0,ya=0;ya<qa.length;ya++)(function(Ka){var ab=qa[Ka];null!=ab&&null!=ab.then?ab.then(function(ob){G[Ka]=ob;ca++;ca===qa.length&&ka(G)},function(ob){Ja(ob)}):(G[Ka]=ab,ca++,ca===qa.length&&ka(G))})(ya)})};Sc.resolve=function(qa){return new Sc(function(ka,Ja){ka(qa)})};
Sc.reject=function(qa){return new Sc(function(ka,Ja){Ja(qa)})};var xe="undefined"!==typeof Promise?Promise:Sc,Af=function(qa,ka,Ja){var G="core"===Db(qa),ca=!G;ka=this._private=Dc({duration:1E3},ka,Ja);ka.target=qa;ka.style=ka.style||ka.css;ka.started=!1;ka.playing=!1;ka.hooked=!1;ka.applying=!1;ka.progress=0;ka.completes=[];ka.frames=[];ka.complete&&jc(ka.complete)&&ka.completes.push(ka.complete);ca&&(ca=qa.position(),ka.startPosition=ka.startPosition||{x:ca.x,y:ca.y},ka.startStyle=ka.startStyle||
qa.cy().style().getAnimationStartStyle(qa,ka.style));G&&(G=qa.pan(),ka.startPan={x:G.x,y:G.y},ka.startZoom=qa.zoom());this.length=1;this[0]=this},Qf=Af.prototype;Dc(Qf,{instanceString:function(){return"animation"},hook:function(){var qa=this._private;if(!qa.hooked){var ka=qa.target._private.animation;(qa.queue?ka.queue:ka.current).push(this);Vd(qa.target)&&qa.target.cy().addToAnimationPool(qa.target);qa.hooked=!0}return this},play:function(){var qa=this._private;1===qa.progress&&(qa.progress=0);qa.playing=
!0;qa.started=!1;qa.stopped=!1;this.hook();return this},playing:function(){return this._private.playing},apply:function(){var qa=this._private;qa.applying=!0;qa.started=!1;qa.stopped=!1;this.hook();return this},applying:function(){return this._private.applying},pause:function(){var qa=this._private;qa.playing=!1;qa.started=!1;return this},stop:function(){var qa=this._private;qa.playing=!1;qa.started=!1;qa.stopped=!0;return this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},
time:function(qa){var ka=this._private;return void 0===qa?ka.progress*ka.duration:this.progress(qa/ka.duration)},progress:function(qa){var ka=this._private,Ja=ka.playing;if(void 0===qa)return ka.progress;Ja&&this.pause();ka.progress=qa;ka.started=!1;Ja&&this.play();return this},completed:function(){return 1===this._private.progress},reverse:function(){var qa=this._private,ka=qa.playing;ka&&this.pause();qa.progress=1-qa.progress;qa.started=!1;var Ja=function(Ka,ab){var ob=qa[Ka];null!=ob&&(qa[Ka]=
qa[ab],qa[ab]=ob)};Ja("zoom","startZoom");Ja("pan","startPan");Ja("position","startPosition");if(qa.style)for(Ja=0;Ja<qa.style.length;Ja++){var G=qa.style[Ja],ca=G.name,ya=qa.startStyle[ca];qa.startStyle[ca]=G;qa.style[Ja]=ya}ka&&this.play();return this},promise:function(qa){var ka=this._private;switch(qa){case "frame":var Ja=ka.frames;break;default:case "complete":case "completed":Ja=ka.completes}return new xe(function(G,ca){Ja.push(function(){G()})})}});Qf.complete=Qf.completed;Qf.run=Qf.play;Qf.running=
Qf.playing;var Hc={};[{animated:function(){return function(){var qa=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;if(qa=qa[0])return 0<qa._private.animation.current.length}},clearQueue:function(){return function(){var qa=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var ka=0;ka<qa.length;ka++)qa[ka]._private.animation.queue=[];return this}},delay:function(){return function(qa,ka){return(this._private.cy||this).styleEnabled()?
this.animate({delay:qa,duration:qa,complete:ka}):this}},delayAnimation:function(){return function(qa,ka){return(this._private.cy||this).styleEnabled()?this.animation({delay:qa,duration:qa,complete:ka}):this}},animation:function(){return function(qa,ka){var Ja=void 0!==this.length,G=Ja?this:[this],ca=this._private.cy||this;Ja=!Ja;var ya=!Ja;if(!ca.styleEnabled())return this;var Ka=ca.style();qa=Dc({},qa,ka);if(0===Object.keys(qa).length)return new Af(G[0],qa);void 0===qa.duration&&(qa.duration=400);
switch(qa.duration){case "slow":qa.duration=600;break;case "fast":qa.duration=200}ya&&(qa.style=Ka.getPropsList(qa.style||qa.css),qa.css=void 0);ya&&null!=qa.renderedPosition&&(ka=qa.renderedPosition,ya=ca.pan(),Ka=ca.zoom(),qa.position={x:(ka.x-ya.x)/Ka,y:(ka.y-ya.y)/Ka});Ja&&null!=qa.panBy&&(ka=qa.panBy,ya=ca.pan(),qa.pan={x:ya.x+ka.x,y:ya.y+ka.y});ka=qa.center||qa.centre;Ja&&null!=ka&&(ka=ca.getCenterPan(ka.eles,qa.zoom),null!=ka&&(qa.pan=ka));Ja&&null!=qa.fit&&(ka=qa.fit,ka=ca.getFitViewport(ka.eles||
ka.boundingBox,ka.padding),null!=ka&&(qa.pan=ka.pan,qa.zoom=ka.zoom));Ja&&ub(qa.zoom)&&(ca=ca.getZoomedViewport(qa.zoom),null!=ca?(ca.zoomed&&(qa.zoom=ca.zoom),ca.panned&&(qa.pan=ca.pan)):qa.zoom=null);return new Af(G[0],qa)}},animate:function(){return function(qa,ka){var Ja=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;ka&&(qa=Dc({},qa,ka));for(ka=0;ka<Ja.length;ka++){var G=Ja[ka],ca=G.animated()&&(void 0===qa.queue||qa.queue);G.animation(qa,ca?{queue:!0}:
void 0).play()}return this}},stop:function(){return function(qa,ka){var Ja=void 0!==this.length?this:[this],G=this._private.cy||this;if(!G.styleEnabled())return this;for(var ca=0;ca<Ja.length;ca++){for(var ya=Ja[ca]._private,Ka=ya.animation.current,ab=0;ab<Ka.length;ab++){var ob=Ka[ab]._private;ka&&(ob.duration=0)}qa&&(ya.animation.queue=[]);ka||(ya.animation.current=[])}G.notify("draw");return this}}},{data:function(qa){qa=Dc({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,
settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(ka){},beforeSet:function(ka,Ja){},onSet:function(ka){},canSet:function(ka){return!0}},qa);return function(ka,Ja){var G=qa,ca=void 0!==this.length,ya=ca?this:[this];ca=ca?this[0]:this;if(bc(ka)){if(G.allowGetting&&void 0===Ja){if(ca){G.beforeGet(ca);var Ka=ca._private[G.field][ka]}return Ka}if(G.allowSetting&&void 0!==Ja&&!G.immutableKeys[ka]){Ka=q({},ka,Ja);G.beforeSet(this,Ka);Ka=
0;for(var ab=ya.length;Ka<ab;Ka++)ca=ya[Ka],G.canSet(ca)&&(ca._private[G.field][ka]=Ja);G.updateStyle&&this.updateStyle();G.onSet(this);if(G.settingTriggersEvent)this[G.triggerFnName](G.settingEvent)}}else if(G.allowSetting&&ub(ka)){ab=Object.keys(ka);G.beforeSet(this,ka);for(ca=0;ca<ab.length;ca++)if(Ja=ab[ca],Ka=ka[Ja],!G.immutableKeys[Ja])for(var ob=0;ob<ya.length;ob++){var rb=ya[ob];G.canSet(rb)&&(rb._private[G.field][Ja]=Ka)}G.updateStyle&&this.updateStyle();G.onSet(this);if(G.settingTriggersEvent)this[G.triggerFnName](G.settingEvent)}else if(G.allowBinding&&
jc(ka))this.on(G.bindingEvent,ka);else if(G.allowGetting&&void 0===ka)return ca&&(G.beforeGet(ca),ab=ca._private[G.field]),ab;return this}},removeData:function(qa){qa=Dc({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},qa);return function(ka){var Ja=qa,G=void 0!==this.length?this:[this];if(bc(ka)){ka=ka.split(/\s+/);for(var ca=ka.length,ya=0;ya<ca;ya++){var Ka=ka[ya];if(!bd(Ka)&&!Ja.immutableKeys[Ka])for(var ab=0,ob=G.length;ab<ob;ab++)G[ab]._private[Ja.field][Ka]=
void 0}if(Ja.triggerEvent)this[Ja.triggerFnName](Ja.event)}else if(void 0===ka){ka=0;for(ca=G.length;ka<ca;ka++)for(ya=G[ka]._private[Ja.field],Ka=Object.keys(ya),ab=0;ab<Ka.length;ab++)ob=Ka[ab],Ja.immutableKeys[ob]||(ya[ob]=void 0);if(Ja.triggerEvent)this[Ja.triggerFnName](Ja.event)}return this}}},{eventAliasesOn:function(qa){qa.addListener=qa.listen=qa.bind=qa.on;qa.unlisten=qa.unbind=qa.off=qa.removeListener;qa.trigger=qa.emit;qa.pon=qa.promiseOn=function(ka,Ja){var G=this,ca=Array.prototype.slice.call(arguments,
0);return new xe(function(ya,Ka){Ka=ca.concat([function(ob){G.off.apply(G,ab);ya(ob)}]);var ab=Ka.concat([]);G.on.apply(G,Ka)})}}}].forEach(function(qa){Dc(Hc,qa)});var td={animate:Hc.animate(),animation:Hc.animation(),animated:Hc.animated(),clearQueue:Hc.clearQueue(),delay:Hc.delay(),delayAnimation:Hc.delayAnimation(),stop:Hc.stop()},id={classes:function(qa){if(void 0===qa){var ka=[];this[0]._private.classes.forEach(function(Fb){return ka.push(Fb)});return ka}Tc(qa)||(qa=(qa||"").match(/\S+/g)||
[]);for(var Ja=[],G=new wg(qa),ca=0;ca<this.length;ca++){for(var ya=this[ca],Ka=ya._private,ab=Ka.classes,ob=!1,rb=0;rb<qa.length;rb++)if(!ab.has(qa[rb])){ob=!0;break}ob||(ob=ab.size!==qa.length);ob&&(Ka.classes=G,Ja.push(ya))}0<Ja.length&&this.spawn(Ja).updateStyle().emit("class");return this},addClass:function(qa){return this.toggleClass(qa,!0)},hasClass:function(qa){var ka=this[0];return null!=ka&&ka._private.classes.has(qa)},toggleClass:function(qa,ka){Tc(qa)||(qa=qa.match(/\S+/g)||[]);for(var Ja=
void 0===ka,G=[],ca=0,ya=this.length;ca<ya;ca++)for(var Ka=this[ca],ab=Ka._private.classes,ob=!1,rb=0;rb<qa.length;rb++){var Fb=qa[rb],qb=ab.has(Fb),Ub=!1;if(ka||Ja&&!qb)ab.add(Fb),Ub=!0;else if(!ka||Ja&&qb)ab["delete"](Fb),Ub=!0;!ob&&Ub&&(G.push(Ka),ob=!0)}0<G.length&&this.spawn(G).updateStyle().emit("class");return this},removeClass:function(qa){return this.toggleClass(qa,!1)},flashClass:function(qa,ka){var Ja=this;if(null==ka)ka=250;else if(0===ka)return Ja;Ja.addClass(qa);setTimeout(function(){Ja.removeClass(qa)},
ka);return Ja}};id.className=id.classNames=id.classes;var ke="\x3d|\\!\x3d|\x3e|\x3e\x3d|\x3c|\x3c\x3d|\\$\x3d|\\^\x3d|\\*\x3d";(function(){var qa;var ka=ke.split("|");for(qa=0;qa<ka.length;qa++){var Ja=ka[qa];ke+="|@"+Ja}ka=ke.split("|");for(qa=0;qa<ka.length;qa++)Ja=ka[qa],0<=Ja.indexOf("!")||"\x3d"!==Ja&&(ke+="|\\!"+Ja)})();var Ob=function(){return{checks:[]}},gc=[{selector:":selected",matches:function(qa){return qa.selected()}},{selector:":unselected",matches:function(qa){return!qa.selected()}},
{selector:":selectable",matches:function(qa){return qa.selectable()}},{selector:":unselectable",matches:function(qa){return!qa.selectable()}},{selector:":locked",matches:function(qa){return qa.locked()}},{selector:":unlocked",matches:function(qa){return!qa.locked()}},{selector:":visible",matches:function(qa){return qa.visible()}},{selector:":hidden",matches:function(qa){return!qa.visible()}},{selector:":transparent",matches:function(qa){return qa.transparent()}},{selector:":grabbed",matches:function(qa){return qa.grabbed()}},
{selector:":free",matches:function(qa){return!qa.grabbed()}},{selector:":removed",matches:function(qa){return qa.removed()}},{selector:":inside",matches:function(qa){return!qa.removed()}},{selector:":grabbable",matches:function(qa){return qa.grabbable()}},{selector:":ungrabbable",matches:function(qa){return!qa.grabbable()}},{selector:":animated",matches:function(qa){return qa.animated()}},{selector:":unanimated",matches:function(qa){return!qa.animated()}},{selector:":parent",matches:function(qa){return qa.isParent()}},
{selector:":childless",matches:function(qa){return qa.isChildless()}},{selector:":child",matches:function(qa){return qa.isChild()}},{selector:":orphan",matches:function(qa){return qa.isOrphan()}},{selector:":nonorphan",matches:function(qa){return qa.isChild()}},{selector:":compound",matches:function(qa){return qa.isNode()?qa.isParent():qa.source().isParent()||qa.target().isParent()}},{selector:":loop",matches:function(qa){return qa.isLoop()}},{selector:":simple",matches:function(qa){return qa.isSimple()}},
{selector:":active",matches:function(qa){return qa.active()}},{selector:":inactive",matches:function(qa){return!qa.active()}},{selector:":backgrounding",matches:function(qa){return qa.backgrounding()}},{selector:":nonbackgrounding",matches:function(qa){return!qa.backgrounding()}}].sort(function(qa,ka){qa=qa.selector;ka=ka.selector;return-1*(qa<ka?-1:qa>ka?1:0)}),Ac=function(){for(var qa={},ka,Ja=0;Ja<gc.length;Ja++)ka=gc[Ja],qa[ka.selector]=ka.matches;return qa}(),Uc=function(qa){return qa.replace(/\\([\!\"\#\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\]\^\`\{\|\}\~])/g,
function(ka,Ja){return Ja})},y=[{name:"group",query:!0,regex:"(node|edge|\\*)",populate:function(qa,ka,Ja){qa=D(Ja,1)[0];ka.checks.push({type:0,value:"*"===qa?qa:qa+"s"})}},{name:"state",query:!0,regex:"("+gc.map(function(qa){return qa.selector}).join("|")+")",populate:function(qa,ka,Ja){qa=D(Ja,1)[0];ka.checks.push({type:7,value:qa})}},{name:"id",query:!0,regex:"\\#((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\\x26\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\\x3c\\\x3d\\\x3e\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)",populate:function(qa,
ka,Ja){qa=D(Ja,1)[0];ka.checks.push({type:8,value:Uc(qa)})}},{name:"className",query:!0,regex:"\\.((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\\x26\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\\x3c\\\x3d\\\x3e\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)",populate:function(qa,ka,Ja){qa=D(Ja,1)[0];ka.checks.push({type:9,value:Uc(qa)})}},{name:"dataExists",query:!0,regex:"\\[\\s*((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\\x26\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\\x3c\\\x3d\\\x3e\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)\\s*\\]",populate:function(qa,
ka,Ja){qa=D(Ja,1)[0];ka.checks.push({type:4,field:Uc(qa)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\\x26\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\\x3c\\\x3d\\\x3e\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)\\s*("+ke+")\\s*(\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*\\]",populate:function(qa,ka,Ja){var G=D(Ja,3);qa=G[0];Ja=G[1];G=G[2];G=null!=/^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'$/.exec(G)?G.substring(1,G.length-1):parseFloat(G);
ka.checks.push({type:3,field:Uc(qa),operator:Ja,value:G})}},{name:"dataBool",query:!0,regex:"\\[\\s*(\\?|\\!|\\^)\\s*((?:[\\w-]|(?:\\\\[\\!\\\"\\#\\$\\%\\\x26\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\\x3c\\\x3d\\\x3e\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]))+)\\s*\\]",populate:function(qa,ka,Ja){qa=D(Ja,2);Ja=qa[0];ka.checks.push({type:5,field:Uc(qa[1]),operator:Ja})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*(degree|indegree|outdegree)\\s*("+ke+")\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*\\]\\]",
populate:function(qa,ka,Ja){qa=D(Ja,3);Ja=qa[1];var G=qa[2];ka.checks.push({type:6,field:Uc(qa[0]),operator:Ja,value:parseFloat(G)})}},{name:"nextQuery",separator:!0,regex:"\\s*,\\s*",populate:function(qa,ka){ka=qa.currentSubject;var Ja=qa.edgeCount,G=qa.compoundCount,ca=qa[qa.length-1];null!=ka&&(ca.subject=ka,qa.currentSubject=null);ca.edgeCount=Ja;ca.compoundCount=G;qa.edgeCount=0;qa.compoundCount=0;return qa[qa.length++]=Ob()}},{name:"directedEdge",separator:!0,regex:"\\s+-\x3e\\s+",populate:function(qa,
ka){if(null==qa.currentSubject){var Ja=Ob(),G=Ob();Ja.checks.push({type:11,source:ka,target:G});qa[qa.length-1]=Ja;qa.edgeCount++;return G}Ja=Ob();G=Ob();Ja.checks.push({type:12,source:ka,target:G});qa[qa.length-1]=Ja;qa.edgeCount++;return G}},{name:"undirectedEdge",separator:!0,regex:"\\s+\x3c-\x3e\\s+",populate:function(qa,ka){if(null==qa.currentSubject){var Ja=Ob(),G=Ob();Ja.checks.push({type:10,nodes:[ka,G]});qa[qa.length-1]=Ja;qa.edgeCount++;return G}Ja=Ob();G=Ob();Ja.checks.push({type:14,node:ka,
neighbor:G});qa[qa.length-1]=Ja;return G}},{name:"child",separator:!0,regex:"\\s+\x3e\\s+",populate:function(qa,ka){if(null==qa.currentSubject){ka=Ob();var Ja=Ob();ka.checks.push({type:15,parent:qa[qa.length-1],child:Ja});qa[qa.length-1]=ka;qa.compoundCount++;return Ja}if(qa.currentSubject===ka){Ja=Ob();var G=qa[qa.length-1],ca=Ob(),ya=Ob(),Ka=Ob(),ab=Ob();Ja.checks.push({type:19,left:G,right:ca,subject:ya});ya.checks=ka.checks;ka.checks=[{type:20}];ab.checks.push({type:20});ca.checks.push({type:17,
parent:ab,child:Ka});qa[qa.length-1]=Ja;qa.currentSubject=ya;qa.compoundCount++;return Ka}Ja=Ob();G=Ob();ca=[{type:17,parent:Ja,child:G}];Ja.checks=ka.checks;ka.checks=ca;qa.compoundCount++;return G}},{name:"descendant",separator:!0,regex:"\\s+",populate:function(qa,ka){if(null==qa.currentSubject){ka=Ob();var Ja=Ob();ka.checks.push({type:16,ancestor:qa[qa.length-1],descendant:Ja});qa[qa.length-1]=ka;qa.compoundCount++;return Ja}if(qa.currentSubject===ka){Ja=Ob();var G=qa[qa.length-1],ca=Ob(),ya=Ob(),
Ka=Ob(),ab=Ob();Ja.checks.push({type:19,left:G,right:ca,subject:ya});ya.checks=ka.checks;ka.checks=[{type:20}];ab.checks.push({type:20});ca.checks.push({type:18,ancestor:ab,descendant:Ka});qa[qa.length-1]=Ja;qa.currentSubject=ya;qa.compoundCount++;return Ka}Ja=Ob();G=Ob();ca=[{type:18,ancestor:Ja,descendant:G}];Ja.checks=ka.checks;ka.checks=ca;qa.compoundCount++;return G}},{name:"subject",modifier:!0,regex:"\\$",populate:function(qa,ka){if(null!=qa.currentSubject&&qa.currentSubject!==ka)return Je("Redefinition of subject in selector `"+
qa.toString()+"`"),!1;qa.currentSubject=ka;qa=qa[qa.length-1].checks[0];ka=null==qa?null:qa.type;11===ka?qa.type=13:10===ka&&(qa.type=14,qa.node=qa.nodes[1],qa.neighbor=qa.nodes[0],qa.nodes=null)}}];y.forEach(function(qa){return qa.regexObj=new RegExp("^"+qa.regex)});var wa=function(qa,ka,Ja){var G=bc(qa),ca=Rc(qa),ya=bc(Ja),Ka=!1,ab=!1,ob=!1;0<=ka.indexOf("!")&&(ka=ka.replace("!",""),ab=!0);0<=ka.indexOf("@")&&(ka=ka.replace("@",""),Ka=!0);if(G||ya||Ka){var rb=G||ca?""+qa:"";var Fb=""+Ja}Ka&&(qa=
rb=rb.toLowerCase(),Ja=Fb=Fb.toLowerCase());switch(ka){case "*\x3d":ka=0<=rb.indexOf(Fb);break;case "$\x3d":ka=0<=rb.indexOf(Fb,rb.length-Fb.length);break;case "^\x3d":ka=0===rb.indexOf(Fb);break;case "\x3d":ka=qa===Ja;break;case "\x3e":ob=!0;ka=qa>Ja;break;case "\x3e\x3d":ob=!0;ka=qa>=Ja;break;case "\x3c":ob=!0;ka=qa<Ja;break;case "\x3c\x3d":ob=!0;ka=qa<=Ja;break;default:ka=!1}!ab||null==qa&&ob||(ka=!ka);return ka},fb=[],Ib=function(qa,ka){return qa.checks.every(function(Ja){return fb[Ja.type](Ja,
ka)})};fb[0]=function(qa,ka){qa=qa.value;return"*"===qa||qa===ka.group()};fb[7]=function(qa,ka){return Ac[qa.value](ka)};fb[8]=function(qa,ka){qa=qa.value;return ka.id()===qa};fb[9]=function(qa,ka){return ka.hasClass(qa.value)};fb[6]=function(qa,ka){var Ja=qa.operator,G=qa.value;return wa(ka[qa.field](),Ja,G)};fb[3]=function(qa,ka){var Ja=qa.operator,G=qa.value;return wa(ka.data(qa.field),Ja,G)};fb[5]=function(qa,ka){var Ja=qa.operator;a:{qa=ka.data(qa.field);switch(Ja){case "?":Ja=qa?!0:!1;break a;
case "!":Ja=qa?!1:!0;break a;case "^":Ja=void 0===qa;break a}Ja=void 0}return Ja};fb[4]=function(qa,ka){return void 0!==ka.data(qa.field)};fb[10]=function(qa,ka){var Ja=qa.nodes[0];qa=qa.nodes[1];var G=ka.source();ka=ka.target();return Ib(Ja,G)&&Ib(qa,ka)||Ib(qa,G)&&Ib(Ja,ka)};fb[14]=function(qa,ka){return Ib(qa.node,ka)&&ka.neighborhood().some(function(Ja){return Ja.isNode()&&Ib(qa.neighbor,Ja)})};fb[11]=function(qa,ka){return Ib(qa.source,ka.source())&&Ib(qa.target,ka.target())};fb[12]=function(qa,
ka){return Ib(qa.source,ka)&&ka.outgoers().some(function(Ja){return Ja.isNode()&&Ib(qa.target,Ja)})};fb[13]=function(qa,ka){return Ib(qa.target,ka)&&ka.incomers().some(function(Ja){return Ja.isNode()&&Ib(qa.source,Ja)})};fb[15]=function(qa,ka){return Ib(qa.child,ka)&&Ib(qa.parent,ka.parent())};fb[17]=function(qa,ka){return Ib(qa.parent,ka)&&ka.children().some(function(Ja){return Ib(qa.child,Ja)})};fb[16]=function(qa,ka){return Ib(qa.descendant,ka)&&ka.ancestors().some(function(Ja){return Ib(qa.ancestor,
Ja)})};fb[18]=function(qa,ka){return Ib(qa.ancestor,ka)&&ka.descendants().some(function(Ja){return Ib(qa.descendant,Ja)})};fb[19]=function(qa,ka){return Ib(qa.subject,ka)&&Ib(qa.left,ka)&&Ib(qa.right,ka)};fb[20]=function(){return!0};fb[1]=function(qa,ka){return qa.value.has(ka)};fb[2]=function(qa,ka){qa=qa.value;return qa(ka)};var kc=function(qa){this.inputText=qa;this.currentSubject=null;this.length=this.edgeCount=this.compoundCount=0;null==qa||bc(qa)&&qa.match(/^\s*$/)||(Vd(qa)?this.addQuery({checks:[{type:1,
value:qa.collection()}]}):jc(qa)?this.addQuery({checks:[{type:2,value:qa}]}):bc(qa)?this.parse(qa)||(this.invalid=!0):cd("A selector must be created from a string; found "))},$c=kc.prototype;[{parse:function(qa){var ka,Ja=this.inputText=qa,G=this[0]=Ob();this.length=1;var ca=Ja;(Ja=ca.match(/^\s+/))&&(ca=ca.substring(Ja[0].length));for(Ja=ca;;){var ya=ca=void 0;for(ka=0;ka<y.length;ka++){var Ka=y[ka],ab=Ja.match(Ka.regexObj);if(null!=ab){ca=ab;ya=Ka;Ja=Ja.substring(ab[0].length);break}}ka=ca;ca=Ja;
if(null==ya)return Je("The selector `"+qa+"`is invalid"),!1;Ja=ka.slice(1);Ja=ya.populate(this,G,Ja);if(!1===Ja)return!1;null!=Ja&&(G=Ja);Ja=ca;if(Ja.match(/^\s*$/))break}G=this[this.length-1];null!=this.currentSubject&&(G.subject=this.currentSubject);G.edgeCount=this.edgeCount;G.compoundCount=this.compoundCount;for(G=0;G<this.length;G++){ca=this[G];if(0<ca.compoundCount&&0<ca.edgeCount)return Je("The selector `"+qa+"` is invalid because it uses both a compound selector and an edge selector"),!1;
if(1<ca.edgeCount)return Je("The selector `"+qa+"` is invalid because it uses multiple edge selectors"),!1;1===ca.edgeCount&&Je("The selector `"+qa+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;
for(var qa=function(ab){return null==ab?"":ab},ka=function(ab){return bc(ab)?'"'+ab+'"':qa(ab)},Ja=function(ab,ob){var rb=ab.value;switch(ab.type){case 0:return ab=qa(rb),ab.substring(0,ab.length-1);case 3:return"["+ab.field+(" "+qa(ab.operator)+" ")+ka(rb)+"]";case 5:return ob=ab.field,"["+qa(ab.operator)+ob+"]";case 4:return"["+ab.field+"]";case 6:return"[["+ab.field+(" "+qa(ab.operator)+" ")+ka(rb)+"]]";case 7:return rb;case 8:return"#"+rb;case 9:return"."+rb;case 17:case 15:return G(ab.parent,
ob)+" \x3e "+G(ab.child,ob);case 18:case 16:return G(ab.ancestor,ob)+" "+G(ab.descendant,ob);case 19:rb=G(ab.left,ob);var Fb=G(ab.subject,ob);ab=G(ab.right,ob);return rb+(0<rb.length?" ":"")+Fb+ab;case 20:return""}},G=function(ab,ob){return ab.checks.reduce(function(rb,Fb,qb){return rb+(ob===ab&&0===qb?"$":"")+Ja(Fb,ob)},"")},ca="",ya=0;ya<this.length;ya++){var Ka=this[ya];ca+=G(Ka,Ka.subject);1<this.length&&ya<this.length-1&&(ca+=", ")}return this.toStringCache=ca}},{matches:function(qa){for(var ka=
0;ka<this.length;ka++)if(Ib(this[ka],qa))return!0;return!1},filter:function(qa){var ka=this;if(1===ka.length&&1===ka[0].checks.length&&8===ka[0].checks[0].type)return qa.getElementById(ka[0].checks[0].value).collection();var Ja=function(G){for(var ca=0;ca<ka.length;ca++)if(Ib(ka[ca],G))return!0;return!1};null==ka.text()&&(Ja=function(){return!0});return qa.filter(Ja)}}].forEach(function(qa){return Dc($c,qa)});$c.text=function(){return this.inputText};$c.size=function(){return this.length};$c.eq=function(qa){return this[qa]};
$c.sameText=function(qa){return!this.invalid&&!qa.invalid&&this.text()===qa.text()};$c.addQuery=function(qa){this[this.length++]=qa};$c.selector=$c.toString;var zd={allAre:function(qa){var ka=new kc(qa);return this.every(function(Ja){return ka.matches(Ja)})},is:function(qa){var ka=new kc(qa);return this.some(function(Ja){return ka.matches(Ja)})},some:function(qa,ka){for(var Ja=0;Ja<this.length;Ja++)if(ka?qa.apply(ka,[this[Ja],Ja,this]):qa(this[Ja],Ja,this))return!0;return!1},every:function(qa,ka){for(var Ja=
0;Ja<this.length;Ja++)if(ka?!qa.apply(ka,[this[Ja],Ja,this]):!qa(this[Ja],Ja,this))return!1;return!0},same:function(qa){if(this===qa)return!0;qa=this.cy().collection(qa);var ka=this.length;return ka!==qa.length?!1:1===ka?this[0]===qa[0]:this.every(function(Ja){return qa.hasElementWithId(Ja.id())})},anySame:function(qa){qa=this.cy().collection(qa);return this.some(function(ka){return qa.hasElementWithId(ka.id())})},allAreNeighbors:function(qa){qa=this.cy().collection(qa);var ka=this.neighborhood();
return qa.every(function(Ja){return ka.hasElementWithId(Ja.id())})},contains:function(qa){qa=this.cy().collection(qa);var ka=this;return qa.every(function(Ja){return ka.hasElementWithId(Ja.id())})}};zd.allAreNeighbours=zd.allAreNeighbors;zd.has=zd.contains;zd.equal=zd.equals=zd.same;var rd=function(qa,ka){return function(Ja,G,ca,ya){var Ka;null==Ja?Ka="":Vd(Ja)&&1===Ja.length&&(Ka=Ja.id());if(1===this.length&&Ka){var ab=this[0]._private;ab=ab.traversalCache=ab.traversalCache||{};ab=ab[ka]=ab[ka]||
[];Ka=Oc(Ka);var ob=ab[Ka];return ob?ob:ab[Ka]=qa.call(this,Ja,G,ca,ya)}return qa.call(this,Ja,G,ca,ya)}},Zd={parent:function(qa){var ka=[];if(1===this.length){var Ja=this[0]._private.parent;if(Ja)return Ja}for(Ja=0;Ja<this.length;Ja++){var G=this[Ja]._private.parent;G&&ka.push(G)}return this.spawn(ka,!0).filter(qa)},parents:function(qa){for(var ka=[],Ja=this.parent();Ja.nonempty();){for(var G=0;G<Ja.length;G++)ka.push(Ja[G]);Ja=Ja.parent()}return this.spawn(ka,!0).filter(qa)},commonAncestors:function(qa){for(var ka,
Ja=0;Ja<this.length;Ja++){var G=this[Ja].parents();ka=ka||G;ka=ka.intersect(G)}return ka.filter(qa)},orphans:function(qa){return this.stdFilter(function(ka){return ka.isOrphan()}).filter(qa)},nonorphans:function(qa){return this.stdFilter(function(ka){return ka.isChild()}).filter(qa)},children:rd(function(qa){for(var ka=[],Ja=0;Ja<this.length;Ja++)for(var G=this[Ja]._private.children,ca=0;ca<G.length;ca++)ka.push(G[ca]);return this.spawn(ka,!0).filter(qa)},"children"),siblings:function(qa){return this.parent().children().not(this).filter(qa)},
isParent:function(){var qa=this[0];if(qa)return qa.isNode()&&0!==qa._private.children.length},isChildless:function(){var qa=this[0];if(qa)return qa.isNode()&&0===qa._private.children.length},isChild:function(){var qa=this[0];if(qa)return qa.isNode()&&null!=qa._private.parent},isOrphan:function(){var qa=this[0];if(qa)return qa.isNode()&&null==qa._private.parent},descendants:function(qa){function ka(G){for(var ca=0;ca<G.length;ca++){var ya=G[ca];Ja.push(ya);ya.children().nonempty()&&ka(ya.children())}}
var Ja=[];ka(this.children());return this.spawn(Ja,!0).filter(qa)},forEachDown:function(qa){return aa(this,qa,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,X)},forEachUp:function(qa){return aa(this,qa,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,S)},forEachUpAndDown:function(qa){return aa(this,qa,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,V)}};Zd.ancestors=Zd.parents;var ve;var Pe=ve={data:Hc.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,
settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Hc.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Hc.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),
removeScratch:Hc.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Hc.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Hc.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var qa=this[0];if(qa)return qa._private.data.id}};Pe.attr=Pe.data;Pe.removeAttr=Pe.removeData;var hf={};Dc(hf,{degree:F(function(qa,ka){return ka.source().same(ka.target())?2:1}),indegree:F(function(qa,
ka){return ka.target().same(qa)?1:0}),outdegree:F(function(qa,ka){return ka.source().same(qa)?1:0})});Dc(hf,{minDegree:t("degree",function(qa,ka){return qa<ka}),maxDegree:t("degree",function(qa,ka){return qa>ka}),minIndegree:t("indegree",function(qa,ka){return qa<ka}),maxIndegree:t("indegree",function(qa,ka){return qa>ka}),minOutdegree:t("outdegree",function(qa,ka){return qa<ka}),maxOutdegree:t("outdegree",function(qa,ka){return qa>ka})});Dc(hf,{totalDegree:function(qa){for(var ka=0,Ja=this.nodes(),
G=0;G<Ja.length;G++)ka+=Ja[G].degree(qa);return ka}});var eg,Sf=function(qa,ka,Ja){for(var G=0;G<qa.length;G++){var ca=qa[G];if(!ca.locked()){var ya=ca._private.position;ya={x:null!=ka.x?ka.x-ya.x:0,y:null!=ka.y?ka.y-ya.y:0};!ca.isParent()||0===ya.x&&0===ya.y||ca.children().shift(ya,Ja);ca.dirtyBoundingBoxCache()}}},gg={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x",
"y"],beforeGet:function(qa){qa.updateCompoundBounds()},beforeSet:function(qa,ka){Sf(qa,ka,!1)},onSet:function(qa){qa.dirtyCompoundBoundsCache()},canSet:function(qa){return!qa.locked()}};var vf=eg={position:Hc.data(gg),silentPosition:Hc.data(Dc({},gg,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(qa,ka){Sf(qa,ka,!0)},onSet:function(qa){qa.dirtyCompoundBoundsCache()}})),positions:function(qa,ka){if(ub(qa))ka?this.silentPosition(qa):this.position(qa);else if(jc(qa)){var Ja=
this.cy();Ja.startBatch();for(var G=0;G<this.length;G++){var ca=this[G],ya;if(ya=qa(ca,G))ka?ca.silentPosition(ya):ca.position(ya)}Ja.endBatch()}return this},silentPositions:function(qa){return this.positions(qa,!0)},shift:function(qa,ka,Ja){if(ub(qa)){var G={x:Rc(qa.x)?qa.x:0,y:Rc(qa.y)?qa.y:0};Ja=ka}else bc(qa)&&Rc(ka)&&(G={x:0,y:0},G[qa]=ka);if(null!=G){qa=this.cy();qa.startBatch();for(ka=0;ka<this.length;ka++){var ca=this[ka],ya=ca.position();ya={x:ya.x+G.x,y:ya.y+G.y};Ja?ca.silentPosition(ya):
ca.position(ya)}qa.endBatch()}return this},silentShift:function(qa,ka){ub(qa)?this.shift(qa,!0):bc(qa)&&Rc(ka)&&this.shift(qa,ka,!0);return this},renderedPosition:function(qa,ka){var Ja=this[0],G=this.cy(),ca=G.zoom();G=G.pan();var ya=ub(qa)?qa:void 0,Ka=void 0!==ya||void 0!==ka&&bc(qa);if(Ja&&Ja.isNode())if(Ka)for(Ja=0;Ja<this.length;Ja++)Ka=this[Ja],void 0!==ka?Ka.position(qa,(ka-G[qa])/ca):void 0!==ya&&Ka.position({x:(ya.x-G.x)/ca,y:(ya.y-G.y)/ca});else return ka=Ja.position(),ya=Id(ka,ca,G),void 0===
qa?ya:ya[qa];else if(!Ka)return;return this},relativePosition:function(qa,ka){var Ja=this[0],G=this.cy(),ca=ub(qa)?qa:void 0,ya=void 0!==ca||void 0!==ka&&bc(qa);G=G.hasCompoundNodes();if(Ja&&Ja.isNode())if(ya)for(Ja=0;Ja<this.length;Ja++){ya=this[Ja];var Ka=G?ya.parent():null,ab=Ka&&0<Ka.length,ob=ab;ab&&(Ka=Ka[0]);Ka=ob?Ka.position():{x:0,y:0};void 0!==ka?ya.position(qa,ka+Ka[qa]):void 0!==ca&&ya.position({x:ca.x+Ka.x,y:ca.y+Ka.y})}else return ka=Ja.position(),(G=(ca=G?Ja.parent():null)&&0<ca.length)&&
(ca=ca[0]),ca=G?ca.position():{x:0,y:0},ca={x:ka.x-ca.x,y:ka.y-ca.y},void 0===qa?ca:ca[qa];else if(!ya)return;return this}};vf.modelPosition=vf.point=vf.position;vf.modelPositions=vf.points=vf.positions;vf.renderedPoint=vf.renderedPosition;vf.relativePoint=vf.relativePosition;var df;var Gf=df={};df.renderedBoundingBox=function(qa){qa=this.boundingBox(qa);var ka=this.cy(),Ja=ka.zoom(),G=ka.pan();ka=qa.x1*Ja+G.x;var ca=qa.x2*Ja+G.x,ya=qa.y1*Ja+G.y;qa=qa.y2*Ja+G.y;return{x1:ka,x2:ca,y1:ya,y2:qa,w:ca-
ka,h:qa-ya}};df.dirtyCompoundBoundsCache=function(){var qa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,ka=this.cy();if(!ka.styleEnabled()||!ka.hasCompoundNodes())return this;this.forEachUp(function(Ja){if(Ja.isParent()){var G=Ja._private;G.compoundBoundsClean=!1;G.bbCache=null;qa||Ja.emitAndNotify("bounds")}});return this};df.updateCompoundBounds=function(){function qa(Ka){function ab(pa,Oa,hb){var yb=0,Kb=0,ic=Oa+hb;0<pa&&0<ic&&(yb=Oa/ic*pa,Kb=hb/ic*pa);return{biasDiff:yb,biasComplementDiff:Kb}}
if(Ka.isParent()){var ob=Ka._private,rb=Ka.children(),Fb="include"===Ka.pstyle("compound-sizing-wrt-labels").value,qb=Ka.pstyle("min-width").pfValue,Ub=Ka.pstyle("min-width-bias-left"),Zb=Ka.pstyle("min-width-bias-right"),Ec=Ka.pstyle("min-height").pfValue,n=Ka.pstyle("min-height-bias-top"),Q=Ka.pstyle("min-height-bias-bottom");rb=rb.boundingBox({includeLabels:Fb,includeOverlays:!1,useCache:!1});Fb=ob.position;if(0===rb.w||0===rb.h)rb={w:Ka.pstyle("width").pfValue,h:Ka.pstyle("height").pfValue},rb.x1=
Fb.x-rb.w/2,rb.x2=Fb.x+rb.w/2,rb.y1=Fb.y-rb.h/2,rb.y2=Fb.y+rb.h/2;var ta=Ub.value;"px"===Ub.units&&0<qb&&(ta=100*ta/qb);Ub=Zb.value;"px"===Zb.units&&0<qb&&(Ub=100*Ub/qb);Zb=n.value;"px"===n.units&&0<Ec&&(Zb=100*Zb/Ec);n=Q.value;"px"===Q.units&&0<Ec&&(n=100*n/Ec);ta=ab(qb-rb.w,ta,Ub);Q=ta.biasDiff;ta=ta.biasComplementDiff;Zb=ab(Ec-rb.h,Zb,n);n=Zb.biasDiff;Zb=Zb.biasComplementDiff;ob.autoPadding=function(pa,Oa,hb,yb){if("%"===hb.units)switch(yb){case "width":return 0<pa?hb.pfValue*pa:0;case "height":return 0<
Oa?hb.pfValue*Oa:0;case "average":return 0<pa&&0<Oa?hb.pfValue*(pa+Oa)/2:0;case "min":return 0<pa&&0<Oa?pa>Oa?hb.pfValue*Oa:hb.pfValue*pa:0;case "max":return 0<pa&&0<Oa?pa>Oa?hb.pfValue*pa:hb.pfValue*Oa:0;default:return 0}else return"px"===hb.units?hb.pfValue:0}(rb.w,rb.h,Ka.pstyle("padding"),Ka.pstyle("padding-relative-to").value);ob.autoWidth=Math.max(rb.w,qb);Fb.x=(-Q+rb.x1+rb.x2+ta)/2;ob.autoHeight=Math.max(rb.h,Ec);Fb.y=(-n+rb.y1+rb.y2+Zb)/2}}var ka=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:!1,Ja=this.cy();if(!Ja.styleEnabled()||!Ja.hasCompoundNodes()||!ka&&Ja.batching())return this;for(var G=0;G<this.length;G++){var ca=this[G],ya=ca._private;if(!ya.compoundBoundsClean||ka)qa(ca),Ja.batching()||(ya.compoundBoundsClean=!0)}return this};var ug=function(qa){return Infinity===qa||-Infinity===qa?0:qa},Ng=function(qa,ka,Ja,G,ca){0!==G-ka&&0!==ca-Ja&&null!=ka&&null!=Ja&&null!=G&&null!=ca&&(qa.x1=ka<qa.x1?ka:qa.x1,qa.x2=G>qa.x2?G:qa.x2,qa.y1=Ja<qa.y1?Ja:qa.y1,qa.y2=ca>qa.y2?ca:
qa.y2,qa.w=qa.x2-qa.x1,qa.h=qa.y2-qa.y1)},Vg=function(qa,ka){return null==ka?qa:Ng(qa,ka.x1,ka.y1,ka.x2,ka.y2)},ch=function(qa,ka,Ja){if(!ka.cy().headless()){var G=ka._private,ca=G.rstyle,ya=ca.arrowWidth/2;"none"!==ka.pstyle(Ja+"-arrow-shape").value&&("source"===Ja?(ka=ca.srcX,ca=ca.srcY):"target"===Ja?(ka=ca.tgtX,ca=ca.tgtY):(ka=ca.midX,ca=ca.midY),G=G.arrowBounds=G.arrowBounds||{},Ja=G[Ja]=G[Ja]||{},Ja.x1=ka-ya,Ja.y1=ca-ya,Ja.x2=ka+ya,Ja.y2=ca+ya,Ja.w=Ja.x2-Ja.x1,Ja.h=Ja.y2-Ja.y1,Ue(Ja,1),Ng(qa,
Ja.x1,Ja.y1,Ja.x2,Ja.y2))}},Mg=function(qa,ka,Ja){if(!ka.cy().headless()){var G=Ja?Ja+"-":"";var ca=ka._private,ya=ca.rstyle;if(ka.pstyle(G+"label").strValue){var Ka=ka.pstyle("text-halign"),ab=ka.pstyle("text-valign"),ob=If(ya,"labelWidth",Ja),rb=If(ya,"labelHeight",Ja),Fb=If(ya,"labelX",Ja),qb=If(ya,"labelY",Ja),Ub=ka.pstyle(G+"text-margin-x").pfValue,Zb=ka.pstyle(G+"text-margin-y").pfValue;ya=ka.isEdge();G=ka.pstyle(G+"text-rotation");var Ec=ka.pstyle("text-outline-width").pfValue,n=ka.pstyle("text-border-width").pfValue/
2;ka=ka.pstyle("text-background-padding").pfValue;var Q=ob/2,ta=rb/2;if(ya){var pa=Fb-Q;var Oa=Fb+Q;var hb=qb-ta;var yb=qb+ta}else{switch(Ka.value){case "left":pa=Fb-ob;Oa=Fb;break;case "center":pa=Fb-Q;Oa=Fb+Q;break;case "right":pa=Fb,Oa=Fb+ob}switch(ab.value){case "top":hb=qb-rb;yb=qb;break;case "center":hb=qb-ta;yb=qb+ta;break;case "bottom":hb=qb,yb=qb+rb}}pa+=Ub-Math.max(Ec,n)-ka-2;Oa+=Ub+Math.max(Ec,n)+ka+2;hb+=Zb-Math.max(Ec,n)-ka-2;yb+=Zb+Math.max(Ec,n)+ka+2;rb=Ja||"main";ob=ca.labelBounds;
Fb=ob[rb]=ob[rb]||{};Fb.x1=pa;Fb.y1=hb;Fb.x2=Oa;Fb.y2=yb;Fb.w=Oa-pa;Fb.h=yb-hb;Fb=ya&&"autorotate"===G.strValue;qb=null!=G.pfValue&&0!==G.pfValue;if(Fb||qb){Ja=Fb?If(ca.rstyle,"labelAngle",Ja):G.pfValue;var Kb=Math.cos(Ja),ic=Math.sin(Ja),Bc=(pa+Oa)/2,Lc=(hb+yb)/2;if(!ya){switch(Ka.value){case "left":Bc=Oa;break;case "right":Bc=pa}switch(ab.value){case "top":Lc=yb;break;case "bottom":Lc=hb}}ya=function(gd,Dd){gd-=Bc;Dd-=Lc;return{x:gd*Kb-Dd*ic+Bc,y:gd*ic+Dd*Kb+Lc}};Ka=ya(pa,hb);ab=ya(pa,yb);Ja=ya(Oa,
hb);yb=ya(Oa,yb);pa=Math.min(Ka.x,ab.x,Ja.x,yb.x);Oa=Math.max(Ka.x,ab.x,Ja.x,yb.x);hb=Math.min(Ka.y,ab.y,Ja.y,yb.y);yb=Math.max(Ka.y,ab.y,Ja.y,yb.y)}Ka=rb+"Rot";Ka=ob[Ka]=ob[Ka]||{};Ka.x1=pa;Ka.y1=hb;Ka.x2=Oa;Ka.y2=yb;Ka.w=Oa-pa;Ka.h=yb-hb;Ng(qa,pa,hb,Oa,yb);Ng(ca.labelBounds.all,pa,hb,Oa,yb)}return qa}},Ef=function(qa,ka){var Ja=qa._private.cy,G=Ja.styleEnabled(),ca=Ja.headless();Ja=be();var ya=qa._private,Ka=qa.isNode(),ab=qa.isEdge(),ob,rb=ya.rstyle,Fb=Ka&&G?qa.pstyle("bounds-expansion").pfValue:
[0],qb=function(ta){return"none"!==ta.pstyle("display").value};if(qb=!G||qb(qa)&&(!ab||qb(qa.source())&&qb(qa.target()))){var Ub=ob=0;G&&ka.includeOverlays&&(ob=qa.pstyle("overlay-opacity").value,0!==ob&&(Ub=qa.pstyle("overlay-padding").value));ob=ob=0;G&&(ob=qa.pstyle("width").pfValue,ob/=2);if(Ka&&ka.includeNodes){ca=qa.position();ob=ca.x;ca=ca.y;Ka=qa.outerWidth()/2;var Zb=qa.outerHeight()/2;Ng(Ja,ob-Ka,ca-Zb,ob+Ka,ca+Zb)}else if(ab&&ka.includeEdges)if(G&&!ca){var Ec=qa.pstyle("curve-style").strValue;
ca=Math.min(rb.srcX,rb.midX,rb.tgtX);Ka=Math.max(rb.srcX,rb.midX,rb.tgtX);Zb=Math.min(rb.srcY,rb.midY,rb.tgtY);var n=Math.max(rb.srcY,rb.midY,rb.tgtY);Ng(Ja,ca-ob,Zb-ob,Ka+ob,n+ob);if("haystack"===Ec){var Q=rb.haystackPts;Q&&2===Q.length&&(ca=Q[0].x,Zb=Q[0].y,Ka=Q[1].x,n=Q[1].y,ca>Ka&&(Q=ca,ca=Ka,Ka=Q),Zb>n&&(Q=Zb,Zb=n,n=Q),Ng(Ja,ca-ob,Zb-ob,Ka+ob,n+ob))}else if("bezier"===Ec||"unbundled-bezier"===Ec||"segments"===Ec||"taxi"===Ec){switch(Ec){case "bezier":case "unbundled-bezier":Q=rb.bezierPts;break;
case "segments":case "taxi":Q=rb.linePts}if(null!=Q)for(rb=0;rb<Q.length;rb++)n=Q[rb],ca=n.x-ob,Ka=n.x+ob,Zb=n.y-ob,n=n.y+ob,Ng(Ja,ca,Zb,Ka,n)}}else Zb=qa.source().position(),Q=qa.target().position(),ca=Zb.x,Ka=Q.x,Zb=Zb.y,n=Q.y,ca>Ka&&(Q=ca,ca=Ka,Ka=Q),Zb>n&&(Q=Zb,Zb=n,n=Q),Ng(Ja,ca-ob,Zb-ob,Ka+ob,n+ob);G&&ka.includeEdges&&ab&&(ch(Ja,qa,"mid-source"),ch(Ja,qa,"mid-target"),ch(Ja,qa,"source"),ch(Ja,qa,"target"));G&&"yes"===qa.pstyle("ghost").value&&(ob=qa.pstyle("ghost-offset-x").pfValue,ca=qa.pstyle("ghost-offset-y").pfValue,
Ng(Ja,Ja.x1+ob,Ja.y1+ca,Ja.x2+ob,Ja.y2+ca));ob=ya.bodyBounds=ya.bodyBounds||{};Ig(ob,Ja);Pf(ob,Fb);Ue(ob,1);G&&(ca=Ja.x1,Ka=Ja.x2,Zb=Ja.y1,n=Ja.y2,Ng(Ja,ca-Ub,Zb-Ub,Ka+Ub,n+Ub));Ub=ya.overlayBounds=ya.overlayBounds||{};Ig(Ub,Ja);Pf(Ub,Fb);Ue(Ub,1);ya=ya.labelBounds=ya.labelBounds||{};null!=ya.all?he(ya.all):ya.all=be();G&&ka.includeLabels&&(ka.includeMainLabels&&Mg(Ja,qa,null),ab&&(ka.includeSourceLabels&&Mg(Ja,qa,"source"),ka.includeTargetLabels&&Mg(Ja,qa,"target")))}Ja.x1=ug(Ja.x1);Ja.y1=ug(Ja.y1);
Ja.x2=ug(Ja.x2);Ja.y2=ug(Ja.y2);Ja.w=ug(Ja.x2-Ja.x1);Ja.h=ug(Ja.y2-Ja.y1);0<Ja.w&&0<Ja.h&&qb&&(Pf(Ja,Fb),Ue(Ja,1));return Ja},Sh=function(qa){var ka=0,Ja=function(ca){return(ca?1:0)<<ka++};var G=0+Ja(qa.incudeNodes);G+=Ja(qa.includeEdges);G+=Ja(qa.includeLabels);G+=Ja(qa.includeMainLabels);G+=Ja(qa.includeSourceLabels);G+=Ja(qa.includeTargetLabels);return G+=Ja(qa.includeOverlays)},Dg=function(qa){if(qa.isEdge()){var ka=qa.source().position();qa=qa.target().position();return uc([Math.round(ka.x),
Math.round(ka.y),Math.round(qa.x),Math.round(qa.y)])}return 0},qg=function(qa,ka){var Ja=qa._private,G=qa.isEdge(),ca=(null==ka?nh:Sh(ka))===nh,ya=Dg(qa);var Ka=Ja.bbCachePosKey===ya;var ab=ka.useCache&&Ka,ob=function(rb){return null==rb._private.bbCache||rb._private.styleDirty};!ab||ob(qa)||G&&ob(qa.source())||ob(qa.target())?(Ka||qa.recalculateRenderedStyle(ab),Ka=Ef(qa,Nf),Ja.bbCache=Ka,Ja.bbCachePosKey=ya):Ka=Ja.bbCache;if(!ca){qa=qa.isNode();Ka=be();if(ka.includeNodes&&qa||ka.includeEdges&&!qa)ka.includeOverlays?
Vg(Ka,Ja.overlayBounds):Vg(Ka,Ja.bodyBounds);ka.includeLabels&&(ka.includeMainLabels&&(!G||ka.includeSourceLabels&&ka.includeTargetLabels)?Vg(Ka,Ja.labelBounds.all):(ka.includeMainLabels&&Vg(Ka,Ja.labelBounds.mainRot),ka.includeSourceLabels&&Vg(Ka,Ja.labelBounds.sourceRot),ka.includeTargetLabels&&Vg(Ka,Ja.labelBounds.targetRot)));Ka.w=Ka.x2-Ka.x1;Ka.h=Ka.y2-Ka.y1}return Ka},Nf={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,
useCache:!0},nh=Sh(Nf),si=Ye(Nf);df.boundingBox=function(qa){if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==qa&&void 0!==qa.useCache&&!0!==qa.useCache){var ka=be();qa=qa||Nf;var Ja=si(qa);if(this.cy().styleEnabled())for(var G=0;G<this.length;G++){var ca=this[G],ya=ca._private,Ka=Dg(ca);Ka=ya.bbCachePosKey===Ka;ca.recalculateRenderedStyle(Ja.useCache&&Ka&&!ya.styleDirty)}this.updateCompoundBounds(!qa.useCache);for(qa=0;qa<this.length;qa++)Vg(ka,qg(this[qa],
Ja))}else qa=void 0===qa?Nf:si(qa),ka=qg(this[0],qa);ka.x1=ug(ka.x1);ka.y1=ug(ka.y1);ka.x2=ug(ka.x2);ka.y2=ug(ka.y2);ka.w=ug(ka.x2-ka.x1);ka.h=ug(ka.y2-ka.y1);return ka};df.dirtyBoundingBoxCache=function(){for(var qa=0;qa<this.length;qa++){var ka=this[qa]._private;ka.bbCache=null;ka.bbCachePosKey=null;ka.bodyBounds=null;ka.overlayBounds=null;ka.labelBounds.all=null;ka.labelBounds.source=null;ka.labelBounds.target=null;ka.labelBounds.main=null;ka.labelBounds.sourceRot=null;ka.labelBounds.targetRot=
null;ka.labelBounds.mainRot=null;ka.arrowBounds.source=null;ka.arrowBounds.target=null;ka.arrowBounds["mid-source"]=null;ka.arrowBounds["mid-target"]=null}this.emitAndNotify("bounds");return this};df.boundingBoxAt=function(qa){var ka=this.nodes(),Ja=this.cy(),G=Ja.hasCompoundNodes(),ca=Ja.collection();G&&(ca=ka.filter(function(ab){return ab.isParent()}),ka=ka.not(ca));if(ub(qa)){var ya=qa;qa=function(){return ya}}Ja.startBatch();ka.forEach(function(ab,ob){return ab._private.bbAtOldPos=qa(ab,ob)}).silentPositions(qa);
G&&(ca.dirtyCompoundBoundsCache(),ca.dirtyBoundingBoxCache(),ca.updateCompoundBounds(!0));var Ka=Kf(this.boundingBox({useCache:!1}));ka.silentPositions(function(ab){return ab._private.bbAtOldPos});G&&(ca.dirtyCompoundBoundsCache(),ca.dirtyBoundingBoxCache(),ca.updateCompoundBounds(!0));Ja.endBatch();return Ka};Gf.boundingbox=Gf.bb=Gf.boundingBox;Gf.renderedBoundingbox=Gf.renderedBoundingBox;var oh;var jj=oh={};var Ki=function(qa){qa.uppercaseName=nd(qa.name);qa.autoName="auto"+qa.uppercaseName;qa.labelName=
"label"+qa.uppercaseName;qa.outerName="outer"+qa.uppercaseName;qa.uppercaseOuterName=nd(qa.outerName);jj[qa.name]=function(){var ka=this[0],Ja=ka._private,G=Ja.cy._private.styleEnabled;if(ka)if(G){if(ka.isParent())return ka.updateCompoundBounds(),Ja[qa.autoName]||0;G=ka.pstyle(qa.name);switch(G.strValue){case "label":return ka.recalculateRenderedStyle(),Ja.rstyle[qa.labelName]||0;default:return G.pfValue}}else return 1};jj["outer"+qa.uppercaseName]=function(){var ka=this[0],Ja=ka._private.cy._private.styleEnabled;
if(ka){if(Ja){Ja=ka[qa.name]();var G=ka.pstyle("border-width").pfValue;ka=2*ka.padding();return Ja+G+ka}return 1}};jj["rendered"+qa.uppercaseName]=function(){var ka=this[0];if(ka)return ka[qa.name]()*this.cy().zoom()};jj["rendered"+qa.uppercaseOuterName]=function(){var ka=this[0];if(ka)return ka[qa.outerName]()*this.cy().zoom()}};Ki({name:"width"});Ki({name:"height"});oh.padding=function(){var qa=this[0],ka=qa._private;return qa.isParent()?(qa.updateCompoundBounds(),void 0!==ka.autoPadding?ka.autoPadding:
qa.pstyle("padding").pfValue):qa.pstyle("padding").pfValue};oh.paddedHeight=function(){var qa=this[0];return qa.height()+2*qa.padding()};oh.paddedWidth=function(){var qa=this[0];return qa.width()+2*qa.padding()};var Bi=function(qa,ka){if(qa.isEdge()){var Ja=qa.cy(),G=Ja.pan(),ca=Ja.zoom();return ka(qa).map(function(ya){return Id(ya,ca,G)})}},Kj={controlPoints:{get:function(qa){return qa.renderer().getControlPoints(qa)},mult:!0},segmentPoints:{get:function(qa){return qa.renderer().getSegmentPoints(qa)},
mult:!0},sourceEndpoint:{get:function(qa){return qa.renderer().getSourceEndpoint(qa)}},targetEndpoint:{get:function(qa){return qa.renderer().getTargetEndpoint(qa)}},midpoint:{get:function(qa){return qa.renderer().getEdgeMidpoint(qa)}}},rj=function(qa){return"rendered"+qa[0].toUpperCase()+qa.substr(1)},vk=Object.keys(Kj).reduce(function(qa,ka){var Ja=Kj[ka],G=rj(ka);qa[ka]=function(){var ca=Ja.get;ca=this.isEdge()?ca(this):void 0;return ca};qa[G]=Ja.mult?function(){return Bi(this,Ja.get)}:function(){var ca=
Ja.get;if(this.isEdge()){var ya=this.cy();ca=Id(ca(this),ya.zoom(),ya.pan())}else ca=void 0;return ca};return qa},{}),gk=Dc({},eg,df,oh,vk),qj=function(qa,ka){this.recycle(qa,ka)};qj.prototype={instanceString:function(){return"event"},recycle:function(qa,ka){this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=w;null!=qa&&qa.preventDefault?(this.type=qa.type,this.isDefaultPrevented=qa.defaultPrevented?x:w):null!=qa&&qa.type?ka=qa:this.type=qa;null!=ka&&(this.originalEvent=
ka.originalEvent,this.type=null!=ka.type?ka.type:this.type,this.cy=ka.cy,this.target=ka.target,this.position=ka.position,this.renderedPosition=ka.renderedPosition,this.namespace=ka.namespace,this.layout=ka.layout);if(null!=this.cy&&null!=this.position&&null==this.renderedPosition){ka=this.position;var Ja=this.cy.zoom(),G=this.cy.pan();this.renderedPosition={x:ka.x*Ja+G.x,y:ka.y*Ja+G.y}}this.timeStamp=qa&&qa.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=x;var qa=this.originalEvent;
qa&&qa.preventDefault&&qa.preventDefault()},stopPropagation:function(){this.isPropagationStopped=x;var qa=this.originalEvent;qa&&qa.stopPropagation&&qa.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=x;this.stopPropagation()},isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w};var vh=/^([^.]+)(\.(?:[^.]+))?$/,Ek={qualifierCompare:function(qa,ka){return qa===ka},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(qa){return qa},
beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Lj=Object.keys(Ek),Lf={},Ai=I.prototype,wi=function(qa,ka,Ja,G,ca,ya,Ka){jc(G)&&(ca=G,G=null);Ka&&(ya=null==ya?Ka:Dc({},ya,Ka));Ja=Tc(Ja)?Ja:Ja.split(/\s+/);for(Ka=0;Ka<Ja.length;Ka++){var ab=Ja[Ka];if(!bd(ab)){var ob=ab.match(vh);if(ob&&!1===ka(qa,ab,ob[1],ob[2]?ob[2]:null,G,ca,ya))break}}},uk=function(qa,ka){qa.addEventFields(qa.context,ka);return new qj(ka.type,ka)},Yk=function(qa,
ka,Ja){if("event"===Db(Ja))ka(qa,Ja);else if(ub(Ja))ka(qa,uk(qa,Ja));else{Ja=Tc(Ja)?Ja:Ja.split(/\s+/);for(var G=0;G<Ja.length;G++){var ca=Ja[G];!bd(ca)&&(ca=ca.match(vh))&&(ca=uk(qa,{type:ca[1],namespace:ca[2]?ca[2]:null,target:qa.context}),ka(qa,ca))}}};Ai.on=Ai.addListener=function(qa,ka,Ja,G,ca){wi(this,function(ya,Ka,ab,ob,rb,Fb,qb){jc(Fb)&&ya.listeners.push({event:Ka,callback:Fb,type:ab,namespace:ob,qualifier:rb,conf:qb})},qa,ka,Ja,G,ca);return this};Ai.one=function(qa,ka,Ja,G){return this.on(qa,
ka,Ja,G,{one:!0})};Ai.removeListener=Ai.off=function(qa,ka,Ja,G){var ca=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var ya=this.listeners,Ka=function(ob){var rb=ya[ob];wi(ca,function(Fb,qb,Ub,Zb,Ec,n){if(!(rb.type!==Ub&&"*"!==qa||(Zb||".*"===rb.namespace)&&rb.namespace!==Zb||Ec&&!Fb.qualifierCompare(rb.qualifier,Ec)||n&&rb.callback!==n))return ya.splice(ob,1),!1},qa,ka,Ja,G)},ab=ya.length-1;0<=ab;ab--)Ka(ab);return this};Ai.removeAllListeners=function(){return this.removeListener("*")};
Ai.emit=Ai.trigger=function(qa,ka,Ja){var G=this.listeners,ca=G.length;this.emitting++;Tc(ka)||(ka=[ka]);Yk(this,function(ya,Ka){null!=Ja&&(G=[{event:Ka.event,type:Ka.type,namespace:Ka.namespace,callback:Ja}],ca=G.length);for(var ab=function(rb){var Fb=G[rb];if(Fb.type===Ka.type&&(!Fb.namespace||Fb.namespace===Ka.namespace||".*"===Fb.namespace)&&ya.eventMatches(ya.context,Fb,Ka)){rb=[Ka];null!=ka&&oe(rb,ka);ya.beforeEmit(ya.context,Fb,Ka);Fb.conf&&Fb.conf.one&&(ya.listeners=ya.listeners.filter(function(Ub){return Ub!==
Fb}));var qb=ya.callbackContext(ya.context,Fb,Ka);rb=Fb.callback.apply(qb,rb);ya.afterEmit(ya.context,Fb,Ka);!1===rb&&(Ka.stopPropagation(),Ka.preventDefault())}},ob=0;ob<ca;ob++)ab(ob);ya.bubble(ya.context)&&!Ka.isPropagationStopped()&&ya.parent(ya.context).emit(Ka,ka)},qa);this.emitting--;return this};var Oi={qualifierCompare:function(qa,ka){return null==qa||null==ka?null==qa&&null==ka:qa.sameText(ka)},eventMatches:function(qa,ka,Ja){ka=ka.qualifier;return null!=ka?qa!==Ja.target&&ze(Ja.target)&&
ka.matches(Ja.target):!0},addEventFields:function(qa,ka){ka.cy=qa.cy();ka.target=qa},callbackContext:function(qa,ka,Ja){return null!=ka.qualifier?Ja.target:qa},beforeEmit:function(qa,ka){ka.conf&&ka.conf.once&&ka.conf.onceCollection.removeListener(ka.event,ka.qualifier,ka.callback)},bubble:function(){return!0},parent:function(qa){return qa.isChild()?qa.parent():qa.cy()}},Vh=function(qa){return bc(qa)?new kc(qa):qa},hk={createEmitter:function(){for(var qa=0;qa<this.length;qa++){var ka=this[qa],Ja=
ka._private;Ja.emitter||(Ja.emitter=new I(Oi,ka))}return this},emitter:function(){return this._private.emitter},on:function(qa,ka,Ja){ka=Vh(ka);for(var G=0;G<this.length;G++)this[G].emitter().on(qa,ka,Ja);return this},removeListener:function(qa,ka,Ja){ka=Vh(ka);for(var G=0;G<this.length;G++)this[G].emitter().removeListener(qa,ka,Ja);return this},removeAllListeners:function(){for(var qa=0;qa<this.length;qa++)this[qa].emitter().removeAllListeners();return this},one:function(qa,ka,Ja){ka=Vh(ka);for(var G=
0;G<this.length;G++)this[G].emitter().one(qa,ka,Ja);return this},once:function(qa,ka,Ja){ka=Vh(ka);for(var G=0;G<this.length;G++)this[G].emitter().on(qa,ka,Ja,{once:!0,onceCollection:this})},emit:function(qa,ka){for(var Ja=0;Ja<this.length;Ja++)this[Ja].emitter().emit(qa,ka);return this},emitAndNotify:function(qa,ka){if(0!==this.length)return this.cy().notify(qa,this),this.emit(qa,ka),this}};Hc.eventAliasesOn(hk);var eh={nodes:function(qa){return this.filter(function(ka){return ka.isNode()}).filter(qa)},
edges:function(qa){return this.filter(function(ka){return ka.isEdge()}).filter(qa)},byGroup:function(){for(var qa=this.spawn(),ka=this.spawn(),Ja=0;Ja<this.length;Ja++){var G=this[Ja];G.isNode()?qa.push(G):ka.push(G)}return{nodes:qa,edges:ka}},filter:function(qa,ka){if(void 0===qa)return this;if(bc(qa)||Vd(qa))return(new kc(qa)).filter(this);if(jc(qa)){for(var Ja=this.spawn(),G=0;G<this.length;G++){var ca=this[G];(ka?qa.apply(ka,[ca,G,this]):qa(ca,G,this))&&Ja.push(ca)}return Ja}return this.spawn()},
not:function(qa){if(qa){bc(qa)&&(qa=this.filter(qa));for(var ka=this.spawn(),Ja=0;Ja<this.length;Ja++){var G=this[Ja];qa.has(G)||ka.push(G)}return ka}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(qa){if(bc(qa))return this.filter(qa);var ka=this.spawn(),Ja=this.length<qa.length,G=Ja?this:qa;qa=Ja?qa:this;for(Ja=0;Ja<G.length;Ja++){var ca=G[Ja];qa.has(ca)&&ka.push(ca)}return ka},xor:function(qa){var ka=this._private.cy;bc(qa)&&(qa=ka.$(qa));
var Ja=this.spawn();ka=function(G,ca){for(var ya=0;ya<G.length;ya++){var Ka=G[ya];ca.hasElementWithId(Ka._private.data.id)||Ja.push(Ka)}};ka(this,qa);ka(qa,this);return Ja},diff:function(qa){var ka=this._private.cy;bc(qa)&&(qa=ka.$(qa));ka=this.spawn();var Ja=this.spawn(),G=this.spawn(),ca=function(ya,Ka,ab){for(var ob=0;ob<ya.length;ob++){var rb=ya[ob];Ka.hasElementWithId(rb._private.data.id)?G.merge(rb):ab.push(rb)}};ca(this,qa,ka);ca(qa,this,Ja);return{left:ka,right:Ja,both:G}},add:function(qa){var ka=
this._private.cy;if(!qa)return this;bc(qa)&&(qa=ka.mutableElements().filter(qa));ka=this.spawnSelf();for(var Ja=0;Ja<qa.length;Ja++){var G=qa[Ja];this.has(G)||ka.push(G)}return ka},merge:function(qa){var ka=this._private,Ja=ka.cy;if(!qa)return this;qa&&bc(qa)&&(qa=Ja.mutableElements().filter(qa));ka=ka.map;for(Ja=0;Ja<qa.length;Ja++){var G=qa[Ja],ca=G._private.data.id;if(!ka.has(ca)){var ya=this.length++;this[ya]=G;ka.set(ca,{ele:G,index:ya})}}return this},unmergeAt:function(qa){var ka=this[qa].id(),
Ja=this._private.map;this[qa]=void 0;Ja["delete"](ka);ka=qa===this.length-1;if(1<this.length&&!ka){ka=this.length-1;var G=this[ka],ca=G._private.data.id;this[ka]=void 0;this[qa]=G;Ja.set(ca,{ele:G,index:qa})}this.length--;return this},unmergeOne:function(qa){qa=qa[0];qa=this._private.map.get(qa._private.data.id);if(!qa)return this;this.unmergeAt(qa.index);return this},unmerge:function(qa){var ka=this._private.cy;if(!qa)return this;qa&&bc(qa)&&(qa=ka.mutableElements().filter(qa));for(ka=0;ka<qa.length;ka++)this.unmergeOne(qa[ka]);
return this},unmergeBy:function(qa){for(var ka=this.length-1;0<=ka;ka--)qa(this[ka])&&this.unmergeAt(ka);return this},map:function(qa,ka){for(var Ja=[],G=0;G<this.length;G++){var ca=this[G];ca=ka?qa.apply(ka,[ca,G,this]):qa(ca,G,this);Ja.push(ca)}return Ja},reduce:function(qa,ka){for(var Ja=0;Ja<this.length;Ja++)ka=qa(ka,this[Ja],Ja,this);return ka},max:function(qa,ka){for(var Ja=-Infinity,G,ca=0;ca<this.length;ca++){var ya=this[ca],Ka=ka?qa.apply(ka,[ya,ca,this]):qa(ya,ca,this);Ka>Ja&&(Ja=Ka,G=ya)}return{value:Ja,
ele:G}},min:function(qa,ka){for(var Ja=Infinity,G,ca=0;ca<this.length;ca++){var ya=this[ca],Ka=ka?qa.apply(ka,[ya,ca,this]):qa(ya,ca,this);Ka<Ja&&(Ja=Ka,G=ya)}return{value:Ja,ele:G}}};eh.u=eh["|"]=eh["+"]=eh.union=eh.or=eh.add;eh["\\"]=eh["!"]=eh["-"]=eh.difference=eh.relativeComplement=eh.subtract=eh.not;eh.n=eh["\x26"]=eh["."]=eh.and=eh.intersection=eh.intersect;eh["^"]=eh["(+)"]=eh["(-)"]=eh.symmetricDifference=eh.symdiff=eh.xor;eh.fnFilter=eh.filterFn=eh.stdFilter=eh.filter;eh.complement=eh.abscomp=
eh.absoluteComplement;var ai=function(qa,ka){function Ja(Ka){var ab=Ka.pstyle("z-compound-depth");return"auto"===ab.value?ca?Ka.zDepth():0:"bottom"===ab.value?-1:"top"===ab.value?me:0}function G(Ka){return"auto"===Ka.pstyle("z-index-compare").value?Ka.isNode()?1:0:0}var ca=qa.cy().hasCompoundNodes(),ya=Ja(qa)-Ja(ka);if(0!==ya)return ya;ya=G(qa)-G(ka);if(0!==ya)return ya;ya=qa.pstyle("z-index").value-ka.pstyle("z-index").value;return 0!==ya?ya:qa.poolIndex()-ka.poolIndex()},Oj={forEach:function(qa,
ka){if(jc(qa))for(var Ja=this.length,G=0;G<Ja;G++){var ca=this[G];if(!1===(ka?qa.apply(ka,[ca,G,this]):qa(ca,G,this)))break}return this},toArray:function(){for(var qa=[],ka=0;ka<this.length;ka++)qa.push(this[ka]);return qa},slice:function(qa,ka){var Ja=[],G=this.length;null==ka&&(ka=G);null==qa&&(qa=0);0>qa&&(qa=G+qa);for(0>ka&&(ka=G+ka);0<=qa&&qa<ka&&qa<G;qa++)Ja.push(this[qa]);return this.spawn(Ja)},size:function(){return this.length},eq:function(qa){return this[qa]||this.spawn()},first:function(){return this[0]||
this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(qa){if(!jc(qa))return this;qa=this.toArray().sort(qa);return this.spawn(qa)},sortByZIndex:function(){return this.sort(ai)},zDepth:function(){var qa=this[0];if(qa){var ka=qa._private;if("nodes"===ka.group)return ka=ka.data.parent?qa.parents().size():0,qa.isParent()?ka:me-1;qa=ka.target;ka=ka.source.zDepth();qa=qa.zDepth();return Math.max(ka,
qa,0)}}};Oj.each=Oj.forEach;(function(){"undefined"!=("undefined"===typeof Symbol?"undefined":f(Symbol))&&"undefined"!=f(Symbol.iterator)&&(Oj[Symbol.iterator]=function(){var qa=this,ka={value:void 0,done:!1},Ja=0,G=this.length;return q({next:function(){Ja<G?ka.value=qa[Ja++]:(ka.value=void 0,ka.done=!0);return ka}},Symbol.iterator,function(){return this})})})();var Ok=Ye({nodeDimensionsIncludeLabels:!1}),oj={layoutDimensions:function(qa){qa=Ok(qa);this.takesUpSpace()?qa.nodeDimensionsIncludeLabels?
(qa=this.boundingBox(),qa={w:qa.w,h:qa.h}):qa={w:this.outerWidth(),h:this.outerHeight()}:qa={w:0,h:0};if(0===qa.w||0===qa.h)qa.w=qa.h=1;return qa},layoutPositions:function(qa,ka,Ja){var G=this.nodes().filter(function(Ub){return!Ub.isParent()}),ca=this.cy(),ya=ka.eles,Ka=function(Ub){return Ub.id()},ab=Ld(Ja,Ka);qa.emit({type:"layoutstart",layout:qa});qa.animations=[];var ob=ka.spacingFactor&&1!==ka.spacingFactor,rb=function(){if(!ob)return null;for(var Ub=be(),Zb=0;Zb<G.length;Zb++){var Ec=ab(G[Zb],
Zb),n=Ub,Q=Ec.x;Ec=Ec.y;n.x1=Math.min(n.x1,Q);n.x2=Math.max(n.x2,Q);n.w=n.x2-n.x1;n.y1=Math.min(n.y1,Ec);n.y2=Math.max(n.y2,Ec);n.h=n.y2-n.y1}return Ub}();Ja=Ld(function(Ub,Zb){Zb=ab(Ub,Zb);if(ob){var Ec=Math.abs(ka.spacingFactor),n=rb.x1+rb.w/2,Q=rb.y1+rb.h/2;Zb={x:n+(Zb.x-n)*Ec,y:Q+(Zb.y-Q)*Ec}}null!=ka.transform&&(Zb=ka.transform(Ub,Zb));return Zb},Ka);if(ka.animate){for(Ka=0;Ka<G.length;Ka++){var Fb=G[Ka],qb=Ja(Fb,Ka);null==ka.animateFilter||ka.animateFilter(Fb,Ka)?(Fb=Fb.animation({position:qb,
duration:ka.animationDuration,easing:ka.animationEasing}),qa.animations.push(Fb)):Fb.position(qb)}ka.fit?(ca=ca.animation({fit:{boundingBox:ya.boundingBoxAt(Ja),padding:ka.padding},duration:ka.animationDuration,easing:ka.animationEasing}),qa.animations.push(ca)):void 0!==ka.zoom&&void 0!==ka.pan&&(ca=ca.animation({zoom:ka.zoom,pan:ka.pan,duration:ka.animationDuration,easing:ka.animationEasing}),qa.animations.push(ca));qa.animations.forEach(function(Ub){return Ub.play()});qa.one("layoutready",ka.ready);
qa.emit({type:"layoutready",layout:qa});xe.all(qa.animations.map(function(Ub){return Ub.promise()})).then(function(){qa.one("layoutstop",ka.stop);qa.emit({type:"layoutstop",layout:qa})})}else G.positions(Ja),ka.fit&&ca.fit(ka.eles,ka.padding),null!=ka.zoom&&ca.zoom(ka.zoom),ka.pan&&ca.pan(ka.pan),qa.one("layoutready",ka.ready),qa.emit({type:"layoutready",layout:qa}),qa.one("layoutstop",ka.stop),qa.emit({type:"layoutstop",layout:qa});return this},layout:function(qa){return this.cy().makeLayout(Dc({},
qa,{eles:this}))}};oj.createLayout=oj.makeLayout=oj.layout;var Th={recalculateRenderedStyle:function(qa){var ka=this.cy(),Ja=ka.renderer();ka=ka.styleEnabled();Ja&&ka&&Ja.recalculateRenderedStyle(this,qa);return this},dirtyStyleCache:function(){var qa=function(Ja){return Ja._private.styleCache=null};if(this.cy().hasCompoundNodes()){var ka=this.spawnSelf().merge(this.descendants()).merge(this.parents());ka.merge(ka.connectedEdges());ka.forEach(qa)}else this.forEach(function(Ja){qa(Ja);Ja.connectedEdges().forEach(qa)});
return this},updateStyle:function(qa){var ka=this._private.cy;if(!ka.styleEnabled())return this;if(ka.batching())return ka._private.batchStyleEles.merge(this),this;var Ja=ka.hasCompoundNodes();ka=this;qa=qa||void 0===qa?!0:!1;Ja&&(ka=this.spawnSelf().merge(this.descendants()).merge(this.parents()));Ja=ka;qa?Ja.emitAndNotify("style"):Ja.emit("style");ka.forEach(function(G){return G._private.styleDirty=!0});return this},cleanStyle:function(){var qa=this.cy();if(qa.styleEnabled())for(var ka=0;ka<this.length;ka++){var Ja=
this[ka];Ja._private.styleDirty&&(Ja._private.styleDirty=!1,qa.style().apply(Ja))}},parsedStyle:function(qa){var ka=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,Ja=this[0],G=Ja.cy();if(G.styleEnabled()&&Ja)return this.cleanStyle(),Ja=Ja._private.style[qa],null!=Ja?Ja:ka?G.style().getDefaultProperty(qa):null},numericStyle:function(qa){var ka=this[0];if(ka.cy().styleEnabled()&&ka)return qa=ka.pstyle(qa),void 0!==qa.pfValue?qa.pfValue:qa.value},numericStyleUnits:function(qa){var ka=this[0];
if(ka.cy().styleEnabled()&&ka)return ka.pstyle(qa).units},renderedStyle:function(qa){var ka=this.cy();if(!ka.styleEnabled())return this;var Ja=this[0];if(Ja)return ka.style().getRenderedStyle(Ja,qa)},style:function(qa,ka){var Ja=this.cy();if(!Ja.styleEnabled())return this;Ja=Ja.style();if(ub(qa))Ja.applyBypass(this,qa,!1),this.emitAndNotify("style");else if(bc(qa)){if(void 0===ka){if(ka=this[0])return Ja.getStylePropertyValue(ka,qa);return}Ja.applyBypass(this,qa,ka,!1);this.emitAndNotify("style")}else if(void 0===
qa){if(qa=this[0])return Ja.getRawStyle(qa);return}return this},removeStyle:function(qa){var ka=this.cy();if(!ka.styleEnabled())return this;ka=ka.style();if(void 0===qa)for(qa=0;qa<this.length;qa++)ka.removeAllBypasses(this[qa],!1);else{qa=qa.split(/\s+/);for(var Ja=0;Ja<this.length;Ja++)ka.removeBypasses(this[Ja],qa,!1)}this.emitAndNotify("style");return this},show:function(){this.css("display","element");return this},hide:function(){this.css("display","none");return this},effectiveOpacity:function(){var qa=
this.cy();if(!qa.styleEnabled())return 1;var ka=qa.hasCompoundNodes(),Ja=this[0];if(Ja){var G=Ja._private;qa=Ja.pstyle("opacity").value;if(!ka)return qa;if(ka=G.data.parent?Ja.parents():null)for(Ja=0;Ja<ka.length;Ja++)qa*=ka[Ja].pstyle("opacity").value;return qa}},transparent:function(){if(!this.cy().styleEnabled())return!1;var qa=this[0],ka=qa.cy().hasCompoundNodes();if(qa)return ka?0===qa.effectiveOpacity():0===qa.pstyle("opacity").value},backgrounding:function(){return this.cy().styleEnabled()?
this[0]._private.backgrounding?!0:!1:!1}},Xi=B("eleTakesUpSpace",function(qa){return"element"===qa.pstyle("display").value&&0!==qa.width()&&(qa.isNode()?0!==qa.height():!0)});Th.takesUpSpace=v("takesUpSpace",N({ok:Xi}));var Xh=B("eleInteractive",function(qa){return"yes"===qa.pstyle("events").value&&"visible"===qa.pstyle("visibility").value&&Xi(qa)}),Zh=B("parentInteractive",function(qa){return"visible"===qa.pstyle("visibility").value&&Xi(qa)});Th.interactive=v("interactive",N({ok:Xh,parentOk:Zh,edgeOkViaNode:Xi}));
Th.noninteractive=function(){var qa=this[0];if(qa)return!qa.interactive()};var cj=B("eleVisible",function(qa){return"visible"===qa.pstyle("visibility").value&&0!==qa.pstyle("opacity").pfValue&&Xi(qa)});Th.visible=v("visible",N({ok:cj,edgeOkViaNode:Xi}));Th.hidden=function(){var qa=this[0];if(qa)return!qa.visible()};Th.isBundledBezier=v("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace():!1});Th.bypass=Th.css=
Th.style;Th.renderedCss=Th.renderedStyle;Th.removeBypass=Th.removeCss=Th.removeStyle;Th.pstyle=Th.parsedStyle;var Wh={};J({field:"locked",overrideField:function(qa){return qa.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});J({field:"grabbable",overrideField:function(qa){return qa.cy().autoungrabify()||qa.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});J({field:"selected",ableField:"selectable",overrideAble:function(qa){return qa.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});
J({field:"selectable",overrideField:function(qa){return qa.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Wh.deselect=Wh.unselect;Wh.grabbed=function(){var qa=this[0];if(qa)return qa._private.grabbed};J({field:"active",on:"activate",off:"unactivate"});J({field:"pannable",on:"panify",off:"unpanify"});Wh.inactive=function(){var qa=this[0];if(qa)return!qa._private.active};var ni={},Pj=function(qa){return function(ka){for(var Ja=[],G=0;G<this.length;G++){var ca=this[G];if(ca.isNode()){for(var ya=
!1,Ka=ca.connectedEdges(),ab=0;ab<Ka.length;ab++){var ob=Ka[ab],rb=ob.source();ob=ob.target();if(qa.noIncomingEdges&&ob===ca&&rb!==ca||qa.noOutgoingEdges&&rb===ca&&ob!==ca){ya=!0;break}}ya||Ja.push(ca)}}return this.spawn(Ja,!0).filter(ka)}},Kh=function(qa){return function(ka){for(var Ja=[],G=0;G<this.length;G++){var ca=this[G];if(ca.isNode())for(var ya=ca.connectedEdges(),Ka=0;Ka<ya.length;Ka++){var ab=ya[Ka],ob=ab.source(),rb=ab.target();qa.outgoing&&ob===ca?(Ja.push(ab),Ja.push(rb)):qa.incoming&&
rb===ca&&(Ja.push(ab),Ja.push(ob))}}return this.spawn(Ja,!0).filter(ka)}},Ri=function(qa){return function(ka){for(var Ja=this,G=[],ca={};;){Ja=qa.outgoing?Ja.outgoers():Ja.incomers();if(0===Ja.length)break;for(var ya=!1,Ka=0;Ka<Ja.length;Ka++){var ab=Ja[Ka],ob=ab.id();ca[ob]||(ca[ob]=!0,G.push(ab),ya=!0)}if(!ya)break}return this.spawn(G,!0).filter(ka)}};ni.clearTraversalCache=function(){for(var qa=0;qa<this.length;qa++)this[qa]._private.traversalCache=null};Dc(ni,{roots:Pj({noIncomingEdges:!0}),leaves:Pj({noOutgoingEdges:!0}),
outgoers:rd(Kh({outgoing:!0}),"outgoers"),successors:Ri({outgoing:!0}),incomers:rd(Kh({incoming:!0}),"incomers"),predecessors:Ri({incoming:!0})});Dc(ni,{neighborhood:rd(function(qa){for(var ka=[],Ja=this.nodes(),G=0;G<Ja.length;G++)for(var ca=Ja[G],ya=ca.connectedEdges(),Ka=0;Ka<ya.length;Ka++){var ab=ya[Ka],ob=ab.source(),rb=ab.target();ob=ca===ob?rb:ob;0<ob.length&&ka.push(ob[0]);ka.push(ab[0])}return this.spawn(ka,!0).filter(qa)},"neighborhood"),closedNeighborhood:function(qa){return this.neighborhood().add(this).filter(qa)},
openNeighborhood:function(qa){return this.neighborhood(qa)}});ni.neighbourhood=ni.neighborhood;ni.closedNeighbourhood=ni.closedNeighborhood;ni.openNeighbourhood=ni.openNeighborhood;Dc(ni,{source:rd(function(qa){var ka=this[0],Ja;ka&&(Ja=ka._private.source||ka.cy().collection());return Ja&&qa?Ja.filter(qa):Ja},"source"),target:rd(function(qa){var ka=this[0],Ja;ka&&(Ja=ka._private.target||ka.cy().collection());return Ja&&qa?Ja.filter(qa):Ja},"target"),sources:T({attr:"source"}),targets:T({attr:"target"})});
Dc(ni,{edgesWith:rd(z(),"edgesWith"),edgesTo:rd(z({thisIsSrc:!0}),"edgesTo")});Dc(ni,{connectedEdges:rd(function(qa){for(var ka=[],Ja=0;Ja<this.length;Ja++){var G=this[Ja];if(G.isNode()){G=G._private.edges;for(var ca=0;ca<G.length;ca++)ka.push(G[ca])}}return this.spawn(ka,!0).filter(qa)},"connectedEdges"),connectedNodes:rd(function(qa){for(var ka=[],Ja=0;Ja<this.length;Ja++){var G=this[Ja];G.isEdge()&&(ka.push(G.source()[0]),ka.push(G.target()[0]))}return this.spawn(ka,!0).filter(qa)},"connectedNodes"),
parallelEdges:rd(ba(),"parallelEdges"),codirectedEdges:rd(ba({codirected:!0}),"codirectedEdges")});Dc(ni,{components:function(qa){var ka=this,Ja=ka.cy(),G=Ja.collection(),ca=null==qa?ka.nodes():qa.nodes(),ya=[];null!=qa&&ca.empty()&&(ca=qa.sources());var Ka=function(ab,ob){G.merge(ab);ca.unmerge(ab);ob.merge(ab)};if(ca.empty())return ka.spawn();qa=function(){var ab=Ja.collection();ya.push(ab);var ob=ca[0];Ka(ob,ab);ka.bfs({directed:!1,roots:ob,visit:function(rb){return Ka(rb,ab)}});ab.forEach(function(rb){rb.connectedEdges().forEach(function(Fb){ka.has(Fb)&&
ab.has(Fb.source())&&ab.has(Fb.target())&&ab.merge(Fb)})})};do qa();while(0<ca.length);return ya},component:function(){var qa=this[0];return qa.cy().mutableElements().components(qa)[0]}});ni.componentsOf=ni.components;var oi=function(qa,ka){var Ja=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(void 0===qa)cd("A collection must have a reference to the core");else{var G=new pf,ca=!1;if(!ka)ka=[];else if(0<ka.length&&ub(ka[0])&&!ze(ka[0])){ca=!0;for(var ya=[],Ka=new wg,ab=0,ob=ka.length;ab<
ob;ab++){var rb=ka[ab];null==rb.data&&(rb.data={});var Fb=rb.data;if(null==Fb.id)Fb.id=$e();else if(qa.hasElementWithId(Fb.id)||Ka.has(Fb.id))continue;rb=new Tf(qa,rb,!1);ya.push(rb);Ka.add(Fb.id)}ka=ya}ya=this.length=0;for(Ka=ka.length;ya<Ka;ya++)ab=ka[ya][0],null!=ab&&(ob=ab._private.data.id,Ja&&G.has(ob)||(Ja&&G.set(ob,{index:this.length,ele:ab}),this[this.length]=ab,this.length++));this._private={eles:this,cy:qa,get map(){null==this.lazyMap&&this.rebuildMap();return this.lazyMap},set map(qb){this.lazyMap=
qb},rebuildMap:function(){for(var qb=this.lazyMap=new pf,Ub=this.eles,Zb=0;Zb<Ub.length;Zb++){var Ec=Ub[Zb];qb.set(Ec.id(),{index:Zb,ele:Ec})}}};Ja&&(this._private.map=G);ca&&this.restore()}},lh=Tf.prototype=oi.prototype=Object.create(Array.prototype);lh.instanceString=function(){return"collection"};lh.spawn=function(qa,ka){return new oi(this.cy(),qa,ka)};lh.spawnSelf=function(){return this.spawn(this)};lh.cy=function(){return this._private.cy};lh.renderer=function(){return this._private.cy.renderer()};
lh.element=function(){return this[0]};lh.collection=function(){return ee(this)?this:new oi(this._private.cy,[this])};lh.unique=function(){return new oi(this._private.cy,this,!0)};lh.hasElementWithId=function(qa){return this._private.map.has(""+qa)};lh.getElementById=function(qa){var ka=this._private.cy;return(qa=this._private.map.get(""+qa))?qa.ele:new oi(ka)};lh.$id=lh.getElementById;lh.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index};
lh.indexOf=function(qa){return this._private.map.get(qa[0]._private.data.id).index};lh.indexOfId=function(qa){return this._private.map.get(""+qa).index};lh.json=function(qa){var ka=this.element(),Ja=this.cy();if(null==ka&&qa)return this;if(null!=ka){var G=ka._private;if(ub(qa)){Ja.startBatch();if(qa.data){ka.data(qa.data);var ca=G.data;if(ka.isEdge()){var ya=!1,Ka={},ab=qa.data.source,ob=qa.data.target;null!=ab&&ab!=ca.source&&(Ka.source=""+ab,ya=!0);null!=ob&&ob!=ca.target&&(Ka.target=""+ob,ya=!0);
ya&&(ka=ka.move(Ka))}else ya=qa.data.parent,"parent"in qa.data&&(null!=ya||null!=ca.parent)&&ya!=ca.parent&&(void 0===ya&&(ya=null),null!=ya&&(ya=""+ya),ka=ka.move({parent:ya}))}qa.position&&ka.position(qa.position);ca=function(qb,Ub,Zb){var Ec=qa[qb];if(null!=Ec&&Ec!==G[qb])if(Ec)ka[Ub]();else ka[Zb]()};ca("removed","remove","restore");ca("selected","select","unselect");ca("selectable","selectify","unselectify");ca("locked","lock","unlock");ca("grabbable","grabify","ungrabify");ca("pannable","panify",
"unpanify");null!=qa.classes&&ka.classes(qa.classes);Ja.endBatch();return this}if(void 0===qa){var rb={data:Ad(G.data),position:Ad(G.position),group:G.group,removed:G.removed,selected:G.selected,selectable:G.selectable,locked:G.locked,grabbable:G.grabbable,pannable:G.pannable,classes:""},Fb=0;G.classes.forEach(function(qb){return rb.classes+=0===Fb++?qb:" "+qb});return rb}}};lh.jsons=function(){for(var qa=[],ka=0;ka<this.length;ka++){var Ja=this[ka].json();qa.push(Ja)}return qa};lh.clone=function(){for(var qa=
this.cy(),ka=[],Ja=0;Ja<this.length;Ja++){var G=this[Ja].json();G=new Tf(qa,G,!1);ka.push(G)}return new oi(qa,ka)};lh.copy=lh.clone;lh.restore=function(){for(var qa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,ka=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,Ja=this.cy(),G=Ja._private,ca=[],ya=[],Ka,ab=0,ob=this.length;ab<ob;ab++){var rb=this[ab];if(!ka||rb.removed())rb.isNode()?ca.push(rb):ya.push(rb)}Ka=ca.concat(ya);var Fb;ya=function(){Ka.splice(Fb,1);Fb--};for(Fb=0;Fb<
Ka.length;Fb++){ab=Ka[Fb];ob=ab._private;var qb=ob.data;ab.clearTraversalCache();if(ka||ob.removed)if(void 0===qb.id)qb.id=$e();else if(Rc(qb.id))qb.id=""+qb.id;else if(bd(qb.id)||!bc(qb.id)){cd("Can not create element with invalid string ID `"+qb.id+"`");ya();continue}else if(Ja.hasElementWithId(qb.id)){cd("Can not create second element with ID `"+qb.id+"`");ya();continue}rb=qb.id;if(ab.isNode()){var Ub=ob.position;null==Ub.x&&(Ub.x=0);null==Ub.y&&(Ub.y=0)}if(ab.isEdge()){Ub=ab;for(var Zb=["source",
"target"],Ec=Zb.length,n=!1,Q=0;Q<Ec;Q++){var ta=Zb[Q],pa=qb[ta];Rc(pa)&&(pa=qb[ta]=""+qb[ta]);null==pa||""===pa?(cd("Can not create edge `"+rb+"` with unspecified "+ta),n=!0):Ja.hasElementWithId(pa)||(cd("Can not create edge `"+rb+"` with nonexistant "+ta+" `"+pa+"`"),n=!0)}if(n){ya();continue}Zb=Ja.getElementById(qb.source);qb=Ja.getElementById(qb.target);Zb.same(qb)?Zb._private.edges.push(Ub):(Zb._private.edges.push(Ub),qb._private.edges.push(Ub));Ub._private.source=Zb;Ub._private.target=qb}ob.map=
new pf;ob.map.set(rb,{ele:ab,index:0});ob.removed=!1;ka&&Ja.addToPool(ab)}for(ya=0;ya<ca.length;ya++)if(ab=ca[ya],ob=ab._private.data,Rc(ob.parent)&&(ob.parent=""+ob.parent),rb=ob.parent,null!=rb)if(rb=Ja.getElementById(rb),rb.empty())ob.parent=void 0;else{qb=!1;for(Ub=rb;!Ub.empty();){if(ab.same(Ub)){qb=!0;ob.parent=void 0;break}Ub=Ub.parent()}qb||(rb[0]._private.children.push(ab),ab._private.parent=rb[0],G.hasCompoundNodes=!0)}if(0<Ka.length){ca=Ka.length===this.length?this:new oi(Ja,Ka);for(ya=
0;ya<ca.length;ya++)ab=ca[ya],ab.isNode()||(ab.parallelEdges().clearTraversalCache(),ab.source().clearTraversalCache(),ab.target().clearTraversalCache());(G.hasCompoundNodes?Ja.collection().merge(ca).merge(ca.connectedNodes()).merge(ca.parent()):ca).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(qa);qa?ca.emitAndNotify("add"):ka&&ca.emit("add")}return this};lh.removed=function(){var qa=this[0];return qa&&qa._private.removed};lh.inside=function(){var qa=this[0];return qa&&!qa._private.removed};
lh.remove=function(){function qa(Ec){var n=Ka[Ec.id()];if(!(ca&&Ec.removed()||n))if(Ka[Ec.id()]=!0,Ec.isNode()){ya.push(Ec);n=Ec._private.edges;for(var Q=0;Q<n.length;Q++)qa(n[Q]);Ec=Ec._private.children;for(n=0;n<Ec.length;n++)qa(Ec[n])}else ya.unshift(Ec)}function ka(Ec,n){af(Ec._private.edges,n);Ec.clearTraversalCache()}function Ja(Ec,n){n=n[0];Ec=Ec[0];var Q=Ec._private.children,ta=Ec.id();af(Q,n);n._private.parent=null;Fb.ids[ta]||(Fb.ids[ta]=!0,Fb.push(Ec))}for(var G=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:!0,ca=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,ya=[],Ka={},ab=this._private.cy,ob=0,rb=this.length;ob<rb;ob++)qa(this[ob]);var Fb=[];Fb.ids={};this.dirtyCompoundBoundsCache();ca&&ab.removeFromPool(ya);for(ob=0;ob<ya.length;ob++){rb=ya[ob];if(rb.isEdge()){var qb=rb.source()[0],Ub=rb.target()[0];ka(qb,rb);ka(Ub,rb);qb=rb.parallelEdges();for(Ub=0;Ub<qb.length;Ub++){var Zb=qb[Ub];Zb.clearTraversalCache();Zb.isBundledBezier()&&Zb.dirtyBoundingBoxCache()}}else qb=
rb.parent(),0!==qb.length&&Ja(qb,rb);ca&&(rb._private.removed=!0)}ob=ab._private.elements;ab._private.hasCompoundNodes=!1;for(rb=0;rb<ob.length;rb++)if(ob[rb].isParent()){ab._private.hasCompoundNodes=!0;break}ab=new oi(this.cy(),ya);0<ab.size()&&(G?ab.emitAndNotify("remove"):ca&&ab.emit("remove"));for(G=0;G<Fb.length;G++)ob=Fb[G],ca&&ob.removed()||ob.updateStyle();return ab};lh.move=function(qa){var ka=this._private.cy,Ja=this,G=function(rb){return null==rb?rb:""+rb};if(void 0!==qa.source||void 0!==
qa.target){var ca=G(qa.source),ya=G(qa.target),Ka=null!=ca&&ka.hasElementWithId(ca),ab=null!=ya&&ka.hasElementWithId(ya);if(Ka||ab)ka.batch(function(){Ja.remove(!1,!1);Ja.emitAndNotify("moveout");for(var rb=0;rb<Ja.length;rb++){var Fb=Ja[rb],qb=Fb._private.data;Fb.isEdge()&&(Ka&&(qb.source=ca),ab&&(qb.target=ya))}Ja.restore(!1,!1)}),Ja.emitAndNotify("move")}else if(void 0!==qa.parent&&(qa=G(qa.parent),null===qa||ka.hasElementWithId(qa))){var ob=null===qa?void 0:qa;ka.batch(function(){var rb=Ja.remove(!1,
!1);rb.emitAndNotify("moveout");for(var Fb=0;Fb<Ja.length;Fb++){var qb=Ja[Fb],Ub=qb._private.data;qb.isNode()&&(Ub.parent=ob)}rb.restore(!1,!1)});Ja.emitAndNotify("move")}return this};[ec,td,id,zd,Zd,ve,hf,gk,hk,eh,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var qa=this[0];if(qa)return qa._private.group}},
Oj,oj,Th,Wh,ni].forEach(function(qa){Dc(lh,qa)});var Xj=function(){function qa(Ja,G,ca){var ya=Ja.v+ca.dv*G;return{dx:ya,dv:-Ja.tension*(Ja.x+ca.dx*G)-Ja.friction*ya}}function ka(Ja,G){var ca={dx:Ja.v,dv:-Ja.tension*Ja.x-Ja.friction*Ja.v},ya=qa(Ja,.5*G,ca),Ka=qa(Ja,.5*G,ya),ab=qa(Ja,G,Ka),ob=1/6*(ca.dv+2*(ya.dv+Ka.dv)+ab.dv);Ja.x+=1/6*(ca.dx+2*(ya.dx+Ka.dx)+ab.dx)*G;Ja.v+=ob*G;return Ja}return function Ka(G,ca,ya){var ab={x:-1,v:0,tension:null,friction:null},ob=[0],rb=0,Fb;G=parseFloat(G)||500;ca=
parseFloat(ca)||20;ya=ya||null;ab.tension=G;ab.friction=ca;(Fb=null!==ya)?(rb=Ka(G,ca),G=rb/ya*.016):G=.016;for(;;){var qb=ka(qb||ab,G);ob.push(1+qb.x);rb+=16;if(!(1E-4<Math.abs(qb.x)&&1E-4<Math.abs(qb.v)))break}return Fb?function(Ub){return ob[Ub*(ob.length-1)|0]}:rb}}(),Oh=function(qa,ka,Ja,G){var ca=K(qa,ka,Ja,G);return function(ya,Ka,ab){return ya+(Ka-ya)*ca(ab)}},Mh={linear:function(qa,ka,Ja){return qa+(ka-qa)*Ja},ease:Oh(.25,.1,.25,1),"ease-in":Oh(.42,0,1,1),"ease-out":Oh(0,0,.58,1),"ease-in-out":Oh(.42,
0,.58,1),"ease-in-sine":Oh(.47,0,.745,.715),"ease-out-sine":Oh(.39,.575,.565,1),"ease-in-out-sine":Oh(.445,.05,.55,.95),"ease-in-quad":Oh(.55,.085,.68,.53),"ease-out-quad":Oh(.25,.46,.45,.94),"ease-in-out-quad":Oh(.455,.03,.515,.955),"ease-in-cubic":Oh(.55,.055,.675,.19),"ease-out-cubic":Oh(.215,.61,.355,1),"ease-in-out-cubic":Oh(.645,.045,.355,1),"ease-in-quart":Oh(.895,.03,.685,.22),"ease-out-quart":Oh(.165,.84,.44,1),"ease-in-out-quart":Oh(.77,0,.175,1),"ease-in-quint":Oh(.755,.05,.855,.06),"ease-out-quint":Oh(.23,
1,.32,1),"ease-in-out-quint":Oh(.86,0,.07,1),"ease-in-expo":Oh(.95,.05,.795,.035),"ease-out-expo":Oh(.19,1,.22,1),"ease-in-out-expo":Oh(1,0,0,1),"ease-in-circ":Oh(.6,.04,.98,.335),"ease-out-circ":Oh(.075,.82,.165,1),"ease-in-out-circ":Oh(.785,.135,.15,.86),spring:function(qa,ka,Ja){if(0===Ja)return Mh.linear;var G=Xj(qa,ka,Ja);return function(ca,ya,Ka){return ca+(ya-ca)*G(Ka)}},"cubic-bezier":Oh},ui={animate:Hc.animate(),animation:Hc.animation(),animated:Hc.animated(),clearQueue:Hc.clearQueue(),delay:Hc.delay(),
delayAnimation:Hc.delayAnimation(),stop:Hc.stop(),addToAnimationPool:function(qa){this.styleEnabled()&&this._private.aniEles.merge(qa)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function qa(){ka._private.animationsRunning&&ud(function(G){fa(G,ka);qa()})}var ka=this;ka._private.animationsRunning=!0;if(ka.styleEnabled()){var Ja=ka.renderer();Ja&&Ja.beforeRender?Ja.beforeRender(function(G,ca){fa(ca,ka)},Ja.beforeRenderPriorities.animations):qa()}}},
Ti={qualifierCompare:function(qa,ka){return null==qa||null==ka?null==qa&&null==ka:qa.sameText(ka)},eventMatches:function(qa,ka,Ja){ka=ka.qualifier;return null!=ka?qa!==Ja.target&&ze(Ja.target)&&ka.matches(Ja.target):!0},addEventFields:function(qa,ka){ka.cy=qa;ka.target=qa},callbackContext:function(qa,ka,Ja){return null!=ka.qualifier?Ja.target:qa}},Kg=function(qa){return bc(qa)?new kc(qa):qa},Mj={createEmitter:function(){var qa=this._private;qa.emitter||(qa.emitter=new I(Ti,this));return this},emitter:function(){return this._private.emitter},
on:function(qa,ka,Ja){this.emitter().on(qa,Kg(ka),Ja);return this},removeListener:function(qa,ka,Ja){this.emitter().removeListener(qa,Kg(ka),Ja);return this},removeAllListeners:function(){this.emitter().removeAllListeners();return this},one:function(qa,ka,Ja){this.emitter().one(qa,Kg(ka),Ja);return this},once:function(qa,ka,Ja){this.emitter().one(qa,Kg(ka),Ja);return this},emit:function(qa,ka){this.emitter().emit(qa,ka);return this},emitAndNotify:function(qa,ka){this.emit(qa);this.notify(qa,ka);return this}};
Hc.eventAliasesOn(Mj);var Bk={png:function(qa){var ka=this._private.renderer;qa=qa||{};return ka.png(qa)},jpg:function(qa){var ka=this._private.renderer;qa=qa||{};qa.bg=qa.bg||"#fff";return ka.jpg(qa)}};Bk.jpeg=Bk.jpg;var bk={layout:function(qa){if(null==qa)cd("Layout options must be specified to make a layout");else if(null==qa.name)cd("A `name` must be specified to make a layout");else{var ka=qa.name,Ja=this.extension("layout",ka);if(null==Ja)cd("No such layout `"+ka+"` found.  Did you forget to import it and `cytoscape.use()` it?");
else return ka=bc(qa.eles)?this.$(qa.eles):null!=qa.eles?qa.eles:this.$(),new Ja(Dc({},qa,{cy:this,eles:ka}))}}};bk.createLayout=bk.makeLayout=bk.layout;var Rj=Ye({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Ak={renderTo:function(qa,ka,Ja,G){this._private.renderer.renderTo(qa,ka,Ja,G);return this},renderer:function(){return this._private.renderer},forceRender:function(){this.notify("draw");
return this},resize:function(){this.invalidateSize();this.emitAndNotify("resize");return this},initRenderer:function(qa){var ka=this.extension("renderer",qa.name);null==ka?cd("Can not initialise: No such renderer `".concat(qa.name,"` found. Did you forget to import it and `cytoscape.use()` it?")):(void 0!==qa.wheelSensitivity&&Je("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine."),
qa=Rj(qa),qa.cy=this,this._private.renderer=new ka(qa),this.notify("init"))},destroyRenderer:function(){this.notify("destroy");var qa=this.container();if(qa)for(qa._cyreg=null;0<qa.childNodes.length;)qa.removeChild(qa.childNodes[0]);this._private.renderer=null;this.mutableElements().forEach(function(ka){ka=ka._private;ka.rscratch={};ka.rstyle={};ka.animation.current=[];ka.animation.queue=[]})},onRender:function(qa){return this.on("render",qa)},offRender:function(qa){return this.off("render",qa)}};
Ak.invalidateDimensions=Ak.resize;var Xg={collection:function(qa,ka){return bc(qa)?this.$(qa):Vd(qa)?qa.collection():Tc(qa)?new oi(this,qa,ka):new oi(this)},nodes:function(qa){var ka=this.$(function(Ja){return Ja.isNode()});return qa?ka.filter(qa):ka},edges:function(qa){var ka=this.$(function(Ja){return Ja.isEdge()});return qa?ka.filter(qa):ka},$:function(qa){var ka=this._private.elements;return qa?ka.filter(qa):ka.spawnSelf()},mutableElements:function(){return this._private.elements}};Xg.elements=
Xg.filter=Xg.$;var ph={getRenderedStyle:function(qa,ka){return ka?this.getStylePropertyValue(qa,ka,!0):this.getRawStyle(qa,!0)},getRawStyle:function(qa,ka){if(qa=qa[0]){for(var Ja={},G=0;G<this.properties.length;G++){var ca=this.properties[G],ya=this.getStylePropertyValue(qa,ca.name,ka);null!=ya&&(Ja[ca.name]=ya,Ja[Ee(ca.name)]=ya)}return Ja}},getIndexedStyle:function(qa,ka,Ja,G){G=qa.pstyle(ka)[Ja][G];return null!=G?G:qa.cy().style().getDefaultProperty(ka)[Ja][0]},getStylePropertyValue:function(qa,
ka,Ja){if(qa=qa[0]){var G=this.properties[ka];G.alias&&(G=G.pointsTo);ka=G.type;var ca=qa.pstyle(G.name);if(ca){G=ca.value;var ya=ca.units;ca=ca.strValue;if(Ja&&ka.number&&null!=G&&Rc(G)){var Ka=qa.cy().zoom();return((qa=Tc(G))?ya.every(function(ab){return null!=ab}):null!=ya)?qa?G.map(function(ab,ob){return ab*Ka+ya[ob]}).join(" "):G*Ka+ya:qa?G.map(function(ab){return bc(ab)?ab:""+ab*Ka}).join(" "):""+G*Ka}if(null!=ca)return ca}return null}},getAnimationStartStyle:function(qa,ka){for(var Ja={},G=
0;G<ka.length;G++){var ca=ka[G].name,ya=qa.pstyle(ca);void 0!==ya&&(ya=ub(ya)?this.parse(ca,ya.strValue):this.parse(ca,ya));ya&&(Ja[ca]=ya)}return Ja},getPropsList:function(qa){var ka=[],Ja=this.properties;if(qa)for(var G=Object.keys(qa),ca=0;ca<G.length;ca++){var ya=G[ca],Ka=qa[ya];ya=Ja[ya]||Ja[fe(ya)];(Ka=this.parse(ya.name,Ka))&&ka.push(Ka)}return ka},getNonDefaultPropertiesHash:function(qa,ka,Ja){Ja=Ja.slice();var G,ca;for(G=0;G<ka.length;G++){var ya=ka[G];ya=qa.pstyle(ya,!1);if(null!=ya)if(null!=
ya.pfValue)Ja[0]=xd(Ka,Ja[0]),Ja[1]=Sd(Ka,Ja[1]);else for(ya=ya.strValue,ca=0;ca<ya.length;ca++){var Ka=ya.charCodeAt(ca);Ja[0]=xd(Ka,Ja[0]);Ja[1]=Sd(Ka,Ja[1])}}return Ja}};ph.getPropertiesHash=ph.getNonDefaultPropertiesHash;var xh={};(function(){var qa=function(Lc){return"^"+Lc+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},ka=function(Lc){return"^"+Lc+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*\\,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6})\\s*\\,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6})\\)$"},
Ja=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];xh.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent",
"origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:"horizontal leftward rightward vertical upward downward auto".split(" ")},paddingRelativeTo:{enums:["width",
"height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},
colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:"bezier unbundled-bezier haystack segments straight straight-triangle taxi".split(" ")},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal",
"oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:"rectangle roundrectangle round-rectangle cutrectangle cut-rectangle bottomroundrectangle bottom-round-rectangle barrel ellipse triangle round-triangle square pentagon round-pentagon hexagon round-hexagon concavehexagon concave-hexagon heptagon round-heptagon octagon round-octagon tag round-tag star diamond round-diamond vee rhomboid polygon".split(" ")},
overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:"tee triangle triangle-tee circle-triangle triangle-cross triangle-backcurve vee square circle diamond chevron none".split(" ")},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center",
"bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:qa("data")},layoutData:{mapping:!0,regex:qa("layoutData")},scratch:{mapping:!0,regex:qa("scratch")},mapData:{mapping:!0,regex:ka("mapData")},mapLayoutData:{mapping:!0,regex:ka("mapLayoutData")},mapScratch:{mapping:!0,regex:ka("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:Ja,singleRegexMatchValue:!0},urls:{regexes:Ja,singleRegexMatchValue:!0,multiple:!0},
propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,
validate:function(Lc,gd){switch(Lc.length){case 2:return"deg"!==gd[0]&&"rad"!==gd[0]&&"deg"!==gd[1]&&"rad"!==gd[1];case 1:return bc(Lc[0])||"deg"===gd[0]||"rad"===gd[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*\\)$"],
enums:"linear ease ease-in ease-out ease-in-out ease-in-sine ease-out-sine ease-in-out-sine ease-in-quad ease-out-quad ease-in-out-quad ease-in-cubic ease-out-cubic ease-in-out-cubic ease-in-quart ease-out-quart ease-in-out-quart ease-in-quint ease-out-quint ease-in-out-quint ease-in-expo ease-out-expo ease-in-out-expo ease-in-circ ease-out-circ ease-in-out-circ".split(" ")},gradientDirection:{enums:"to-bottom to-top to-left to-right to-bottom-right to-bottom-left to-top-right to-top-left to-right-bottom to-left-bottom to-right-top to-left-top".split(" ")},
boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Lc){Lc=Lc.length;return 1===Lc||2===Lc||4===Lc}}};var G=function(Lc,gd){return null!=Lc&&null!=gd||Lc===gd?0==Lc&&0!=gd?!0:0!=Lc&&0==gd?!0:!1:!0};qa=function(Lc,gd){return Lc!=gd};var ca=xh.types;ka=[{name:"label",type:ca.text,triggersBounds:qa,triggersZOrder:function(Lc,gd){Lc=bd(Lc);gd=bd(gd);return Lc&&!gd||!Lc&&gd}},{name:"text-rotation",type:ca.textRotation,triggersBounds:qa},{name:"text-margin-x",type:ca.bidirectionalSize,triggersBounds:qa},
{name:"text-margin-y",type:ca.bidirectionalSize,triggersBounds:qa}];Ja=[{name:"source-label",type:ca.text,triggersBounds:qa},{name:"source-text-rotation",type:ca.textRotation,triggersBounds:qa},{name:"source-text-margin-x",type:ca.bidirectionalSize,triggersBounds:qa},{name:"source-text-margin-y",type:ca.bidirectionalSize,triggersBounds:qa},{name:"source-text-offset",type:ca.size,triggersBounds:qa}];var ya=[{name:"target-label",type:ca.text,triggersBounds:qa},{name:"target-text-rotation",type:ca.textRotation,
triggersBounds:qa},{name:"target-text-margin-x",type:ca.bidirectionalSize,triggersBounds:qa},{name:"target-text-margin-y",type:ca.bidirectionalSize,triggersBounds:qa},{name:"target-text-offset",type:ca.size,triggersBounds:qa}],Ka=[{name:"font-family",type:ca.fontFamily,triggersBounds:qa},{name:"font-style",type:ca.fontStyle,triggersBounds:qa},{name:"font-weight",type:ca.fontWeight,triggersBounds:qa},{name:"font-size",type:ca.size,triggersBounds:qa},{name:"text-transform",type:ca.textTransform,triggersBounds:qa},
{name:"text-wrap",type:ca.textWrap,triggersBounds:qa},{name:"text-overflow-wrap",type:ca.textOverflowWrap,triggersBounds:qa},{name:"text-max-width",type:ca.size,triggersBounds:qa},{name:"text-outline-width",type:ca.size,triggersBounds:qa},{name:"line-height",type:ca.positiveNumber,triggersBounds:qa}],ab=[{name:"text-valign",type:ca.valign,triggersBounds:qa},{name:"text-halign",type:ca.halign,triggersBounds:qa},{name:"color",type:ca.color},{name:"text-outline-color",type:ca.color},{name:"text-outline-opacity",
type:ca.zeroOneNumber},{name:"text-background-color",type:ca.color},{name:"text-background-opacity",type:ca.zeroOneNumber},{name:"text-background-padding",type:ca.size,triggersBounds:qa},{name:"text-border-opacity",type:ca.zeroOneNumber},{name:"text-border-color",type:ca.color},{name:"text-border-width",type:ca.size,triggersBounds:qa},{name:"text-border-style",type:ca.borderStyle,triggersBounds:qa},{name:"text-background-shape",type:ca.textBackgroundShape,triggersBounds:qa},{name:"text-justification",
type:ca.justification}],ob=[{name:"events",type:ca.bool},{name:"text-events",type:ca.bool}],rb=[{name:"display",type:ca.display,triggersZOrder:qa,triggersBounds:qa,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:ca.visibility,triggersZOrder:qa},{name:"opacity",type:ca.zeroOneNumber,triggersZOrder:G},{name:"text-opacity",type:ca.zeroOneNumber},{name:"min-zoomed-font-size",type:ca.size},{name:"z-compound-depth",type:ca.zCompoundDepth,triggersZOrder:qa},{name:"z-index-compare",type:ca.zIndexCompare,
triggersZOrder:qa},{name:"z-index",type:ca.nonNegativeInt,triggersZOrder:qa}],Fb=[{name:"overlay-padding",type:ca.size,triggersBounds:qa},{name:"overlay-color",type:ca.color},{name:"overlay-opacity",type:ca.zeroOneNumber,triggersBounds:G},{name:"overlay-shape",type:ca.overlayShape,triggersBounds:qa}];G=[{name:"underlay-padding",type:ca.size,triggersBounds:qa},{name:"underlay-color",type:ca.color},{name:"underlay-opacity",type:ca.zeroOneNumber,triggersBounds:G},{name:"underlay-shape",type:ca.overlayShape,
triggersBounds:qa}];var qb=[{name:"transition-property",type:ca.propList},{name:"transition-duration",type:ca.time},{name:"transition-delay",type:ca.time},{name:"transition-timing-function",type:ca.easing}],Ub=function(Lc,gd){return"label"===gd.value?-Lc.poolIndex():gd.pfValue};Ub=[{name:"height",type:ca.nodeSize,triggersBounds:qa,hashOverride:Ub},{name:"width",type:ca.nodeSize,triggersBounds:qa,hashOverride:Ub},{name:"shape",type:ca.nodeShape,triggersBounds:qa},{name:"shape-polygon-points",type:ca.polygonPointList,
triggersBounds:qa},{name:"background-color",type:ca.color},{name:"background-fill",type:ca.fill},{name:"background-opacity",type:ca.zeroOneNumber},{name:"background-blacken",type:ca.nOneOneNumber},{name:"background-gradient-stop-colors",type:ca.colors},{name:"background-gradient-stop-positions",type:ca.percentages},{name:"background-gradient-direction",type:ca.gradientDirection},{name:"padding",type:ca.sizeMaybePercent,triggersBounds:qa},{name:"padding-relative-to",type:ca.paddingRelativeTo,triggersBounds:qa},
{name:"bounds-expansion",type:ca.boundsExpansion,triggersBounds:qa}];var Zb=[{name:"border-color",type:ca.color},{name:"border-opacity",type:ca.zeroOneNumber},{name:"border-width",type:ca.size,triggersBounds:qa},{name:"border-style",type:ca.borderStyle}],Ec=[{name:"background-image",type:ca.urls},{name:"background-image-crossorigin",type:ca.bgCrossOrigin},{name:"background-image-opacity",type:ca.zeroOneNumbers},{name:"background-image-containment",type:ca.bgContainment},{name:"background-image-smoothing",
type:ca.bools},{name:"background-position-x",type:ca.bgPos},{name:"background-position-y",type:ca.bgPos},{name:"background-width-relative-to",type:ca.bgRelativeTo},{name:"background-height-relative-to",type:ca.bgRelativeTo},{name:"background-repeat",type:ca.bgRepeat},{name:"background-fit",type:ca.bgFit},{name:"background-clip",type:ca.bgClip},{name:"background-width",type:ca.bgWH},{name:"background-height",type:ca.bgWH},{name:"background-offset-x",type:ca.bgPos},{name:"background-offset-y",type:ca.bgPos}],
n=[{name:"position",type:ca.position,triggersBounds:qa},{name:"compound-sizing-wrt-labels",type:ca.compoundIncludeLabels,triggersBounds:qa},{name:"min-width",type:ca.size,triggersBounds:qa},{name:"min-width-bias-left",type:ca.sizeMaybePercent,triggersBounds:qa},{name:"min-width-bias-right",type:ca.sizeMaybePercent,triggersBounds:qa},{name:"min-height",type:ca.size,triggersBounds:qa},{name:"min-height-bias-top",type:ca.sizeMaybePercent,triggersBounds:qa},{name:"min-height-bias-bottom",type:ca.sizeMaybePercent,
triggersBounds:qa}],Q=[{name:"line-style",type:ca.lineStyle},{name:"line-color",type:ca.color},{name:"line-fill",type:ca.fill},{name:"line-cap",type:ca.lineCap},{name:"line-opacity",type:ca.zeroOneNumber},{name:"line-dash-pattern",type:ca.numbers},{name:"line-dash-offset",type:ca.number},{name:"line-gradient-stop-colors",type:ca.colors},{name:"line-gradient-stop-positions",type:ca.percentages},{name:"curve-style",type:ca.curveStyle,triggersBounds:qa,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",
type:ca.zeroOneNumber,triggersBounds:qa},{name:"source-endpoint",type:ca.edgeEndpoint,triggersBounds:qa},{name:"target-endpoint",type:ca.edgeEndpoint,triggersBounds:qa},{name:"control-point-step-size",type:ca.size,triggersBounds:qa},{name:"control-point-distances",type:ca.bidirectionalSizes,triggersBounds:qa},{name:"control-point-weights",type:ca.numbers,triggersBounds:qa},{name:"segment-distances",type:ca.bidirectionalSizes,triggersBounds:qa},{name:"segment-weights",type:ca.numbers,triggersBounds:qa},
{name:"taxi-turn",type:ca.bidirectionalSizeMaybePercent,triggersBounds:qa},{name:"taxi-turn-min-distance",type:ca.size,triggersBounds:qa},{name:"taxi-direction",type:ca.axisDirection,triggersBounds:qa},{name:"edge-distances",type:ca.edgeDistances,triggersBounds:qa},{name:"arrow-scale",type:ca.positiveNumber,triggersBounds:qa},{name:"loop-direction",type:ca.angle,triggersBounds:qa},{name:"loop-sweep",type:ca.angle,triggersBounds:qa},{name:"source-distance-from-node",type:ca.size,triggersBounds:qa},
{name:"target-distance-from-node",type:ca.size,triggersBounds:qa}],ta=[{name:"ghost",type:ca.bool,triggersBounds:qa},{name:"ghost-offset-x",type:ca.bidirectionalSize,triggersBounds:qa},{name:"ghost-offset-y",type:ca.bidirectionalSize,triggersBounds:qa},{name:"ghost-opacity",type:ca.zeroOneNumber}],pa=[{name:"selection-box-color",type:ca.color},{name:"selection-box-opacity",type:ca.zeroOneNumber},{name:"selection-box-border-color",type:ca.color},{name:"selection-box-border-width",type:ca.size},{name:"active-bg-color",
type:ca.color},{name:"active-bg-opacity",type:ca.zeroOneNumber},{name:"active-bg-size",type:ca.size},{name:"outside-texture-bg-color",type:ca.color},{name:"outside-texture-bg-opacity",type:ca.zeroOneNumber}],Oa=[];xh.pieBackgroundN=16;Oa.push({name:"pie-size",type:ca.sizeMaybePercent});for(var hb=1;hb<=xh.pieBackgroundN;hb++)Oa.push({name:"pie-"+hb+"-background-color",type:ca.color}),Oa.push({name:"pie-"+hb+"-background-size",type:ca.percent}),Oa.push({name:"pie-"+hb+"-background-opacity",type:ca.zeroOneNumber});
var yb=[],Kb=xh.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:ca.arrowShape,triggersBounds:qa},{name:"arrow-color",type:ca.color},{name:"arrow-fill",type:ca.arrowFill}].forEach(function(Lc){Kb.forEach(function(gd){yb.push({name:gd+"-"+Lc.name,type:Lc.type,triggersBounds:Lc.triggersBounds})})},{});qa=xh.properties=[].concat(ob,qb,rb,Fb,G,ta,ab,Ka,ka,Ja,ya,Ub,Zb,Ec,Oa,n,Q,yb,pa);var ic=xh.propertyGroups={behavior:ob,transition:qb,visibility:rb,overlay:Fb,underlay:G,
ghost:ta,commonLabel:ab,labelDimensions:Ka,mainLabel:ka,sourceLabel:Ja,targetLabel:ya,nodeBody:Ub,nodeBorder:Zb,backgroundImage:Ec,pie:Oa,compound:n,edgeLine:Q,edgeArrow:yb,core:pa},Bc=xh.propertyGroupNames={};(xh.propertyGroupKeys=Object.keys(ic)).forEach(function(Lc){Bc[Lc]=ic[Lc].map(function(gd){return gd.name});ic[Lc].forEach(function(gd){return gd.groupKey=Lc})});ka=xh.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",
pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];xh.propertyNames=qa.map(function(Lc){return Lc.name});for(Ja=0;Ja<qa.length;Ja++)ya=qa[Ja],qa[ya.name]=ya;for(Ja=0;Ja<ka.length;Ja++)ya=ka[Ja],Ka={name:ya.name,alias:!0,pointsTo:qa[ya.pointsTo]},qa.push(Ka),qa[ya.name]=Ka})();xh.getDefaultProperty=
function(qa){return this.getDefaultProperties()[qa]};xh.getDefaultProperties=function(){var qa=this._private;if(null!=qa.defaultProperties)return qa.defaultProperties;for(var ka=Dc({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center",
"text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif",
"font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,
"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,
"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,
width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},
{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(Ka,ab){for(var ob=1;ob<=xh.pieBackgroundN;ob++){var rb=ab.name.replace("{{i}}",ob);Ka[rb]=ab.value}return Ka},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,
"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},
{name:"arrow-fill",value:"filled"}].reduce(function(Ka,ab){xh.arrowPrefixes.forEach(function(ob){Ka[ob+"-"+ab.name]=ab.value});return Ka},{})),Ja={},G=0;G<this.properties.length;G++){var ca=this.properties[G];if(!ca.pointsTo){ca=ca.name;var ya=this.parse(ca,ka[ca]);Ja[ca]=ya}}qa.defaultProperties=Ja;return qa.defaultProperties};xh.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier",
"source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25});this.defaultLength=this.length};
var ki=function Ja(ka){if(!(this instanceof Ja))return new Ja(ka);"core"!==Db(ka)?cd("A style must have a core reference"):(this._private={cy:ka,coreStyle:{}},this.length=0,this.resetToDefault())},Hh=ki.prototype;Hh.instanceString=function(){return"style"};Hh.clear=function(){for(var ka=this._private,Ja=ka.cy.elements(),G=0;G<this.length;G++)this[G]=void 0;this.length=0;ka.contextStyles={};ka.propDiffs={};this.cleanElements(Ja,!0);Ja.forEach(function(ca){ca=ca[0]._private;ca.styleDirty=!0;ca.appliedInitStyle=
!1});return this};Hh.resetToDefault=function(){this.clear();this.addDefaultStylesheet();return this};Hh.core=function(ka){return this._private.coreStyle[ka]||this.getDefaultProperty(ka)};Hh.selector=function(ka){ka="core"===ka?null:new kc(ka);var Ja=this.length++;this[Ja]={selector:ka,properties:[],mappedProperties:[],index:Ja};return this};Hh.css=function(){var ka=arguments;if(1===ka.length){ka=ka[0];for(var Ja=0;Ja<this.properties.length;Ja++){var G=this.properties[Ja],ca=ka[G.name];void 0===ca&&
(ca=ka[Ee(G.name)]);void 0!==ca&&this.cssRule(G.name,ca)}}else 2===ka.length&&this.cssRule(ka[0],ka[1]);return this};Hh.style=Hh.css;Hh.cssRule=function(ka,Ja){if(ka=this.parse(ka,Ja))Ja=this.length-1,this[Ja].properties.push(ka),this[Ja].properties[ka.name]=ka,ka.name.match(/pie-(\d+)-background-size/)&&ka.value&&(this._private.hasPie=!0),ka.mapped&&this[Ja].mappedProperties.push(ka),this[Ja].selector||(this._private.coreStyle[ka.name]=ka);return this};Hh.append=function(ka){"stylesheet"===Db(ka)?
ka.appendToStyle(this):Tc(ka)?this.appendFromJson(ka):bc(ka)&&this.appendFromString(ka);return this};ki.fromJson=function(ka,Ja){ka=new ki(ka);ka.fromJson(Ja);return ka};ki.fromString=function(ka,Ja){return(new ki(ka)).fromString(Ja)};[{apply:function(ka){for(var Ja=this._private.cy.collection(),G=0;G<ka.length;G++){var ca=ka[G],ya=this.getContextMeta(ca);if(!ya.empty){var Ka=this.getContextStyle(ya);ya=this.applyContextStyle(ya,Ka,ca);ca._private.appliedInitStyle?this.updateTransitions(ca,ya.diffProps):
ca._private.appliedInitStyle=!0;this.updateStyleHints(ca)&&Ja.push(ca)}}return Ja},getPropertiesDiff:function(ka,Ja){var G=this._private.propDiffs=this._private.propDiffs||{},ca=ka+"-"+Ja,ya=G[ca];if(ya)return ya;ya=[];for(var Ka={},ab=0;ab<this.length;ab++){var ob=this[ab],rb="t"===Ja[ab],Fb="t"===ka[ab]!==rb,qb=0<ob.mappedProperties.length;if(Fb||rb&&qb)for(rb=void 0,Fb&&qb?rb=ob.properties:Fb?rb=ob.properties:qb&&(rb=ob.mappedProperties),ob=0;ob<rb.length;ob++){Fb=rb[ob];qb=Fb.name;for(var Ub=
!1,Zb=ab+1;Zb<this.length&&("t"!==Ja[Zb]||!(Ub=null!=this[Zb].properties[Fb.name]));Zb++);Ka[qb]||Ub||(Ka[qb]=!0,ya.push(qb))}}return G[ca]=ya},getContextMeta:function(ka){var Ja="";var G=ka._private.styleCxtKey||"";for(var ca=0;ca<this.length;ca++){var ya=this[ca];Ja=ya.selector&&ya.selector.matches(ka)?Ja+"t":Ja+"f"}G=this.getPropertiesDiff(G,Ja);ka._private.styleCxtKey=Ja;return{key:Ja,diffPropNames:G,empty:0===G.length}},getContextStyle:function(ka){ka=ka.key;var Ja=this._private.contextStyles=
this._private.contextStyles||{};if(Ja[ka])return Ja[ka];for(var G={_private:{key:ka}},ca=0;ca<this.length;ca++){var ya=this[ca];if("t"===ka[ca])for(var Ka=0;Ka<ya.properties.length;Ka++){var ab=ya.properties[Ka];G[ab.name]=ab}}return Ja[ka]=G},applyContextStyle:function(ka,Ja,G){ka=ka.diffPropNames;for(var ca={},ya=this.types,Ka=0;Ka<ka.length;Ka++){var ab=ka[Ka],ob=Ja[ab],rb=G.pstyle(ab);if(!ob)if(rb)ob=rb.bypass?{name:ab,deleteBypassed:!0}:{name:ab,"delete":!0};else continue;if(rb!==ob){if(ob.mapped===
ya.fn&&null!=rb&&null!=rb.mapping&&rb.mapping.value===ob.value){var Fb=rb.mapping;if((Fb.fnValue=ob.value(G))===Fb.prevFnValue)continue}rb=ca[ab]={prev:rb};this.applyParsedProperty(G,ob);rb.next=G.pstyle(ab);rb.next&&rb.next.bypass&&(rb.next=rb.next.bypassed)}}return{diffProps:ca}},updateStyleHints:function(ka){var Ja=ka._private,G=this,ca=G.propertyGroupNames,ya=G.propertyGroupKeys,Ka=function(yb,Kb,ic){return G.getPropertiesHash(yb,Kb,ic)},ab=Ja.styleKey;if(ka.removed())return!1;var ob="nodes"===
Ja.group,rb=ka._private.style;ca=Object.keys(rb);for(var Fb=0;Fb<ya.length;Fb++)Ja.styleKeys[ya[Fb]]=[9261,5381];Fb=function(yb,Kb){Ja.styleKeys[Kb][0]=xd(yb,Ja.styleKeys[Kb][0]);Ja.styleKeys[Kb][1]=Sd(yb,Ja.styleKeys[Kb][1])};for(var qb=function(yb,Kb){for(var ic=0;ic<yb.length;ic++){var Bc=yb.charCodeAt(ic);Ja.styleKeys[Kb][0]=xd(Bc,Ja.styleKeys[Kb][0]);Ja.styleKeys[Kb][1]=Sd(Bc,Ja.styleKeys[Kb][1])}},Ub=0;Ub<ca.length;Ub++){var Zb=ca[Ub],Ec=rb[Zb];if(null!=Ec){var n=this.properties[Zb],Q=n.type;
Zb=n.groupKey;var ta=void 0;null!=n.hashOverride?ta=n.hashOverride(ka,Ec):null!=Ec.pfValue&&(ta=Ec.pfValue);var pa=null==n.enums?Ec.value:null;n=null!=ta;var Oa=null!=pa,hb=n||Oa;Oa=Ec.units;Q.number&&hb&&!Q.multiple?(Ec=n?ta:pa,Fb(-128<Ec&&128>Ec&&Math.floor(Ec)!==Ec?2E9-(1024*Ec|0):Ec,Zb),n||null==Oa||qb(Oa,Zb)):qb(Ec.strValue,Zb)}}ca=[9261,5381];for(rb=0;rb<ya.length;rb++)Fb=Ja.styleKeys[ya[rb]],ca[0]=xd(Fb[0],ca[0]),ca[1]=Sd(Fb[1],ca[1]);Ja.styleKey=2097152*ca[0]+ca[1];ya=Ja.styleKeys;Ja.labelDimsKey=
ie(ya.labelDimensions);ca=Ka(ka,["label"],ya.labelDimensions);Ja.labelKey=ie(ca);Ja.labelStyleKey=ie(Be(ya.commonLabel,ca));ob||(ca=Ka(ka,["source-label"],ya.labelDimensions),Ja.sourceLabelKey=ie(ca),Ja.sourceLabelStyleKey=ie(Be(ya.commonLabel,ca)),ka=Ka(ka,["target-label"],ya.labelDimensions),Ja.targetLabelKey=ie(ka),Ja.targetLabelStyleKey=ie(Be(ya.commonLabel,ka)));ob&&(ka=Ja.styleKeys,ob=ka.pie,ka=[ka.nodeBody,ka.nodeBorder,ka.backgroundImage,ka.compound,ob].filter(function(yb){return null!=yb}).reduce(Be,
[9261,5381]),Ja.nodeKey=ie(ka),Ja.hasPie=null!=ob&&9261!==ob[0]&&5381!==ob[1]);return ab!==Ja.styleKey},clearStyleHints:function(ka){ka=ka._private;ka.styleCxtKey="";ka.styleKeys={};ka.styleKey=null;ka.labelKey=null;ka.labelStyleKey=null;ka.sourceLabelKey=null;ka.sourceLabelStyleKey=null;ka.targetLabelKey=null;ka.targetLabelStyleKey=null;ka.nodeKey=null;ka.hasPie=null},applyParsedProperty:function(ka,Ja){var G=this,ca=Ja,ya=ka._private.style,Ka=G.types,ab=G.properties[ca.name].type,ob=ca.bypass,rb=
ya[ca.name],Fb=rb&&rb.bypass,qb=ka._private,Ub=function(){G.checkTriggers(ka,ca.name,null==rb?null:null!=rb.pfValue?rb.pfValue:rb.value,null==ca?null:null!=ca.pfValue?ca.pfValue:ca.value)};ca&&"pie"===ca.name.substr(0,3)&&Je("The pie style properties are deprecated.  Create charts using background images instead.");"curve-style"===Ja.name&&ka.isEdge()&&("bezier"!==Ja.value&&ka.isLoop()||"haystack"===Ja.value&&(ka.source().isParent()||ka.target().isParent()))&&(ca=Ja=this.parse(Ja.name,"bezier",ob));
if(ca["delete"])return ya[ca.name]=void 0,Ub(),!0;if(ca.deleteBypassed){if(rb)return rb.bypass?(rb.bypassed=void 0,Ub(),!0):!1;Ub();return!0}if(ca.deleteBypass){if(rb)return rb.bypass?(ya[ca.name]=rb.bypassed,Ub(),!0):!1;Ub();return!0}Ja=function(){Je("Do not assign mappings to elements without corresponding data (i.e. ele `"+ka.id()+"` has no mapping for property `"+ca.name+"` with data field `"+ca.field+"`); try a `["+ca.field+"]` selector to limit scope to elements with `"+ca.field+"` defined")};
switch(ca.mapped){case Ka.mapData:var Zb=ca.field.split(".");qb=qb.data;for(Ka=0;Ka<Zb.length&&qb;Ka++)qb=qb[Zb[Ka]];if(null==qb)return Ja(),!1;if(Rc(qb))Zb=ca.fieldMax-ca.fieldMin,Zb=0===Zb?0:(qb-ca.fieldMin)/Zb;else return Je("Do not use continuous mappers without specifying numeric data (i.e. `"+ca.field+": "+qb+"` for `"+ka.id()+"` is non-numeric)"),!1;0>Zb?Zb=0:1<Zb&&(Zb=1);if(ab.color){ab=ca.valueMin[0];qb=ca.valueMin[1];Ka=ca.valueMin[2];var Ec=null==ca.valueMin[3]?1:ca.valueMin[3];ab=[Math.round(ab+
(ca.valueMax[0]-ab)*Zb),Math.round(qb+(ca.valueMax[1]-qb)*Zb),Math.round(Ka+(ca.valueMax[2]-Ka)*Zb),Math.round(Ec+((null==ca.valueMax[3]?1:ca.valueMax[3])-Ec)*Zb)];Zb={bypass:ca.bypass,name:ca.name,value:ab,strValue:"rgb("+ab[0]+", "+ab[1]+", "+ab[2]+")"}}else if(ab.number)Zb=this.parse(ca.name,ca.valueMin+(ca.valueMax-ca.valueMin)*Zb,ca.bypass,"mapping");else return!1;if(!Zb)return Ja(),!1;Zb.mapping=ca;ca=Zb;break;case Ka.data:ab=ca.field.split(".");qb=qb.data;for(Ka=0;Ka<ab.length&&qb;Ka++)qb=
qb[ab[Ka]];null!=qb&&(Zb=this.parse(ca.name,qb,ca.bypass,"mapping"));if(!Zb)return Ja(),!1;Zb.mapping=ca;ca=Zb;break;case Ka.fn:Ja=ca.value;Ja=null!=ca.fnValue?ca.fnValue:Ja(ka);ca.prevFnValue=Ja;if(null==Ja)return Je("Custom function mappers may not return null (i.e. `"+ca.name+"` for ele `"+ka.id()+"` is null)"),!1;Zb=this.parse(ca.name,Ja,ca.bypass,"mapping");if(!Zb)return Je("Custom function mappers may not return invalid values for the property type (i.e. `"+ca.name+"` for ele `"+ka.id()+"` is invalid)"),
!1;Zb.mapping=Ad(ca);ca=Zb;break;case void 0:break;default:return!1}ob?(ca.bypassed=Fb?rb.bypassed:rb,ya[ca.name]=ca):Fb?rb.bypassed=ca:ya[ca.name]=ca;Ub();return!0},cleanElements:function(ka,Ja){for(var G=0;G<ka.length;G++){var ca=ka[G];this.clearStyleHints(ca);ca.dirtyCompoundBoundsCache();ca.dirtyBoundingBoxCache();if(Ja){ca=ca._private.style;for(var ya=Object.keys(ca),Ka=0;Ka<ya.length;Ka++){var ab=ya[Ka],ob=ca[ab];null!=ob&&(ob.bypass?ob.bypassed=null:ca[ab]=null)}}else ca._private.style={}}},
update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(ka,Ja){var G=this,ca=ka._private,ya=ka.pstyle("transition-property").value,Ka=ka.pstyle("transition-duration").pfValue,ab=ka.pstyle("transition-delay").pfValue;if(0<ya.length&&0<Ka){for(var ob={},rb=!1,Fb=0;Fb<ya.length;Fb++){var qb=ya[Fb],Ub=ka.pstyle(qb),Zb=Ja[qb];if(Zb){var Ec=Zb.prev;Ub=null!=Zb.next?Zb.next:Ub;Zb=!1;var n=void 0;Ec&&(Rc(Ec.pfValue)&&Rc(Ub.pfValue)?(Zb=Ub.pfValue-Ec.pfValue,n=Ec.pfValue+
1E-6*Zb):Rc(Ec.value)&&Rc(Ub.value)?(Zb=Ub.value-Ec.value,n=Ec.value+1E-6*Zb):Tc(Ec.value)&&Tc(Ub.value)&&(Zb=Ec.value[0]!==Ub.value[0]||Ec.value[1]!==Ub.value[1]||Ec.value[2]!==Ub.value[2],n=Ec.strValue),Zb&&(ob[qb]=Ub.strValue,this.applyBypass(ka,qb,n),rb=!0))}}rb&&(ca.transitioning=!0,(new xe(function(Q){0<ab?ka.delayAnimation(ab).play().promise().then(Q):Q()})).then(function(){return ka.animation({style:ob,duration:Ka,easing:ka.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){G.removeBypasses(ka,
ya);ka.emitAndNotify("style");ca.transitioning=!1}))}else ca.transitioning&&(this.removeBypasses(ka,ya),ka.emitAndNotify("style"),ca.transitioning=!1)},checkTrigger:function(ka,Ja,G,ca,ya,Ka){ka=this.properties[Ja];ya=ya(ka);null!=ya&&ya(G,ca)&&Ka(ka)},checkZOrderTrigger:function(ka,Ja,G,ca){var ya=this;this.checkTrigger(ka,Ja,G,ca,function(Ka){return Ka.triggersZOrder},function(){ya._private.cy.notify("zorder",ka)})},checkBoundsTrigger:function(ka,Ja,G,ca){this.checkTrigger(ka,Ja,G,ca,function(ya){return ya.triggersBounds},
function(ya){ka.dirtyCompoundBoundsCache();ka.dirtyBoundingBoxCache();"curve-style"!==Ja||"bezier"!==G&&"bezier"!==ca||!ya.triggersBoundsOfParallelBeziers||ka.parallelEdges().forEach(function(Ka){Ka.isBundledBezier()&&Ka.dirtyBoundingBoxCache()})})},checkTriggers:function(ka,Ja,G,ca){ka.dirtyStyleCache();this.checkZOrderTrigger(ka,Ja,G,ca);this.checkBoundsTrigger(ka,Ja,G,ca)}},{applyBypass:function(ka,Ja,G,ca){var ya=[];if("*"===Ja||"**"===Ja){if(void 0!==G)for(Ja=0;Ja<this.properties.length;Ja++){var Ka=
this.parse(this.properties[Ja].name,G,!0);Ka&&ya.push(Ka)}}else if(bc(Ja))(Ja=this.parse(Ja,G,!0))&&ya.push(Ja);else if(ub(Ja))for(ca=G,G=Object.keys(Ja),Ka=0;Ka<G.length;Ka++){var ab=G[Ka],ob=Ja[ab];void 0===ob&&(ob=Ja[Ee(ab)]);void 0!==ob&&(ab=this.parse(ab,ob,!0))&&ya.push(ab)}else return!1;if(0===ya.length)return!1;Ja=!1;for(G=0;G<ka.length;G++){Ka=ka[G];ab={};var rb=void 0;for(ob=0;ob<ya.length;ob++){var Fb=ya[ob];ca&&(rb=Ka.pstyle(Fb.name),rb=ab[Fb.name]={prev:rb});Ja=this.applyParsedProperty(Ka,
Ad(Fb))||Ja;ca&&(rb.next=Ka.pstyle(Fb.name))}Ja&&this.updateStyleHints(Ka);ca&&this.updateTransitions(Ka,ab,!0)}return Ja},overrideBypass:function(ka,Ja,G){Ja=fe(Ja);for(var ca=0;ca<ka.length;ca++){var ya=ka[ca],Ka=ya._private.style[Ja],ab=this.properties[Ja].type,ob=ab.color;ab=ab.mutiple;var rb=Ka?null!=Ka.pfValue?Ka.pfValue:Ka.value:null;Ka&&Ka.bypass?(Ka.value=G,null!=Ka.pfValue&&(Ka.pfValue=G),Ka.strValue=ob?"rgb("+G.join(",")+")":ab?G.join(" "):""+G,this.updateStyleHints(ya)):this.applyBypass(ya,
Ja,G);this.checkTriggers(ya,Ja,rb,G)}},removeAllBypasses:function(ka,Ja){return this.removeBypasses(ka,this.propertyNames,Ja)},removeBypasses:function(ka,Ja,G){for(var ca=0;ca<ka.length;ca++){for(var ya=ka[ca],Ka={},ab=0;ab<Ja.length;ab++){var ob=Ja[ab],rb=this.properties[ob],Fb=ya.pstyle(rb.name);Fb&&Fb.bypass&&(ob=this.parse(ob,"",!0),Fb=Ka[rb.name]={prev:Fb},this.applyParsedProperty(ya,ob),Fb.next=ya.pstyle(rb.name))}this.updateStyleHints(ya);G&&this.updateTransitions(ya,Ka,!0)}}},{getEmSizeInPixels:function(){var ka=
this.containerCss("font-size");return null!=ka?parseFloat(ka):1},containerCss:function(ka){var Ja=this._private.cy.container();if(bb&&Ja&&bb.getComputedStyle)return bb.getComputedStyle(Ja).getPropertyValue(ka)}},ph,{appendFromJson:function(ka){for(var Ja=0;Ja<ka.length;Ja++){var G=ka[Ja],ca=G.selector;G=G.style||G.css;var ya=Object.keys(G);this.selector(ca);for(ca=0;ca<ya.length;ca++){var Ka=ya[ca];this.css(Ka,G[Ka])}}return this},fromJson:function(ka){this.resetToDefault();this.appendFromJson(ka);
return this},json:function(){for(var ka=[],Ja=this.defaultLength;Ja<this.length;Ja++){var G=this[Ja],ca=G.selector;G=G.properties;for(var ya={},Ka=0;Ka<G.length;Ka++){var ab=G[Ka];ya[ab.name]=ab.strValue}ka.push({selector:ca?ca.toString():"core",style:ya})}return ka}},{appendFromString:function(ka){function Ja(){G=G.length>ca.length?G.substr(ca.length):""}var G=""+ka;for(G=G.replace(/[/][*](\s|.)+?[*][/]/g,"");!G.match(/^\s*$/);){ka=G.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!ka){Je("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+
G);break}var ca=ka[0];var ya=ka[1];if("core"!==ya&&(new kc(ya)).invalid)Je("Skipping parsing of block: Invalid selector found in string stylesheet: "+ya);else{var Ka=ka[2],ab=!1;var ob=Ka;for(ka=[];!ob.match(/^\s*$/);){var rb=ob.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!rb){Je("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+Ka);ab=!0;break}var Fb=rb[0];var qb=rb[1];rb=rb[2];this.properties[qb]?this.parse(qb,rb)?ka.push({name:qb,val:rb}):Je("Skipping property: Invalid property definition in: "+
Fb):Je("Skipping property: Invalid property name in: "+Fb);ob=ob.length>Fb.length?ob.substr(Fb.length):""}if(ab){Ja();break}this.selector(ya);for(ya=0;ya<ka.length;ya++)ob=ka[ya],this.css(ob.name,ob.val)}Ja()}return this},fromString:function(ka){this.resetToDefault();this.appendFromString(ka);return this}},xh,{parse:function(ka,Ja,G,ca){if(jc(Ja))return this.parseImplWarn(ka,Ja,G,ca);var ya=Nd(ka,""+Ja,G?"t":"f","mapping"===ca||!0===ca||!1===ca||null==ca?"dontcare":ca),Ka=this.propCache=this.propCache||
[],ab;(ab=Ka[ya])||(ab=Ka[ya]=this.parseImplWarn(ka,Ja,G,ca));if(G||"mapping"===ca)if(ab=Ad(ab))ab.value=Ad(ab.value);return ab},parseImplWarn:function(ka,Ja,G,ca){(G=this.parseImpl(ka,Ja,G,ca))||null==Ja||Je("The style property `".concat(ka,": ").concat(Ja,"` is invalid"));!G||"width"!==G.name&&"height"!==G.name||"label"!==Ja||Je("The style value of `label` is deprecated for `"+G.name+"`");return G},parseImpl:function(ka,Ja,G,ca){ka=fe(ka);var ya=this.properties[ka],Ka=Ja,ab=this.types;if(!ya||void 0===
Ja)return null;ya.alias&&(ya=ya.pointsTo,ka=ya.name);var ob=bc(Ja);ob&&(Ja=Ja.trim());var rb=ya.type;if(!rb)return null;if(G&&(""===Ja||null===Ja))return{name:ka,value:Ja,bypass:!0,deleteBypass:!0};if(jc(Ja))return{name:ka,value:Ja,strValue:"fn",mapped:ab.fn,bypass:G};var Fb,qb;if(!(!ob||ca||7>Ja.length||"a"!==Ja[1])){if(7<=Ja.length&&"d"===Ja[0]&&(Fb=(new RegExp(ab.data.regex)).exec(Ja)))return G?!1:{name:ka,value:Fb,strValue:""+Ja,mapped:ab.data,field:Fb[1],bypass:G};if(10<=Ja.length&&"m"===Ja[0]&&
(qb=(new RegExp(ab.mapData.regex)).exec(Ja))){if(G||rb.multiple)return!1;var Ub=ab.mapData;if(!rb.color&&!rb.number)return!1;Ka=this.parse(ka,qb[4]);if(!Ka||Ka.mapped)return!1;ob=this.parse(ka,qb[5]);return!ob||ob.mapped?!1:Ka.pfValue===ob.pfValue||Ka.strValue===ob.strValue?(Je("`"+ka+": "+Ja+"` is not a valid mapper because the output range is zero; converting to `"+ka+": "+Ka.strValue+"`"),this.parse(ka,Ka.strValue)):!rb.color||(ca=Ka.value,ya=ob.value,ca[0]!==ya[0]||ca[1]!==ya[1]||ca[2]!==ya[2]||
ca[3]!==ya[3]&&(null!=ca[3]&&1!==ca[3]||null!=ya[3]&&1!==ya[3]))?{name:ka,value:qb,strValue:""+Ja,mapped:Ub,field:qb[1],fieldMin:parseFloat(qb[2]),fieldMax:parseFloat(qb[3]),valueMin:Ka.value,valueMax:ob.value,bypass:G}:!1}}if(rb.multiple&&"multiple"!==ca){qb=ob?Ja.split(/\s+/):Tc(Ja)?Ja:[Ja];if(rb.evenMultiple&&0!==qb.length%2)return null;Ub=[];Ka=[];ob=[];ca="";ya=!1;for(ab=0;ab<qb.length;ab++)Fb=this.parse(ka,qb[ab],G,"multiple"),ya=ya||bc(Fb.value),Ub.push(Fb.value),ob.push(null!=Fb.pfValue?Fb.pfValue:
Fb.value),Ka.push(Fb.units),ca+=(0<ab?" ":"")+Fb.strValue;return rb.validate&&!rb.validate(Ub,Ka)?null:rb.singleEnum&&ya?1===Ub.length&&bc(Ub[0])?{name:ka,value:Ub[0],strValue:Ub[0],bypass:G}:null:{name:ka,value:Ub,pfValue:ob,strValue:ca,bypass:G,units:Ka}}qb=function(){for(var Zb=0;Zb<rb.enums.length;Zb++)if(rb.enums[Zb]===Ja)return{name:ka,value:Ja,strValue:""+Ja,bypass:G};return null};if(rb.number){ca="px";rb.units&&(Ub=rb.units);rb.implicitUnits&&(ca=rb.implicitUnits);if(!rb.unitless)if(ob){if(ob=
"px|em"+(rb.allowPercent?"|\\%":""),Ub&&(ob=Ub),ob=Ja.match("^((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))("+ob+")?$"))Ja=ob[1],Ub=ob[2]||ca}else if(!Ub||rb.implicitUnits)Ub=ca;Ja=parseFloat(Ja);if(isNaN(Ja)&&void 0===rb.enums)return null;if(isNaN(Ja)&&void 0!==rb.enums)return Ja=Ka,qb();if(rb.integer&&!Gd(Ja)||void 0!==rb.min&&(Ja<rb.min||rb.strictMin&&Ja===rb.min)||void 0!==rb.max&&(Ja>rb.max||rb.strictMax&&Ja===rb.max))return null;qb={name:ka,value:Ja,strValue:""+Ja+(Ub?Ub:""),units:Ub,
bypass:G};qb.pfValue=rb.unitless||"px"!==Ub&&"em"!==Ub?Ja:"px"!==Ub&&Ub?this.getEmSizeInPixels()*Ja:Ja;if("ms"===Ub||"s"===Ub)qb.pfValue="ms"===Ub?Ja:1E3*Ja;if("deg"===Ub||"rad"===Ub)qb.pfValue="rad"===Ub?Ja:Math.PI*Ja/180;"%"===Ub&&(qb.pfValue=Ja/100);return qb}if(rb.propList){qb=[];Ub=""+Ja;if("none"!==Ub){Ub=Ub.split(/\s*,\s*|\s+/);for(Ka=0;Ka<Ub.length;Ka++)ob=Ub[Ka].trim(),this.properties[ob]?qb.push(ob):Je("`"+ob+"` is not a valid property name");if(0===qb.length)return null}return{name:ka,
value:qb,strValue:0===qb.length?"none":qb.join(" "),bypass:G}}if(rb.color)return(qb=ae(Ja))?{name:ka,value:qb,pfValue:qb,strValue:"rgb("+qb[0]+","+qb[1]+","+qb[2]+")",bypass:G}:null;if(rb.regex||rb.regexes){if(rb.enums&&(qb=qb()))return qb;qb=rb.regexes?rb.regexes:[rb.regex];for(Ub=0;Ub<qb.length;Ub++)if(Ka=(new RegExp(qb[Ub])).exec(Ja))return{name:ka,value:rb.singleRegexMatchValue?Ka[1]:Ka,strValue:""+Ja,bypass:G};return null}return rb.string?{name:ka,value:""+Ja,strValue:""+Ja,bypass:G}:rb.enums?
qb():null}}].forEach(function(ka){Dc(Hh,ka)});ki.types=Hh.types;ki.properties=Hh.properties;ki.propertyGroups=Hh.propertyGroups;ki.propertyGroupNames=Hh.propertyGroupNames;ki.propertyGroupKeys=Hh.propertyGroupKeys;var ri={autolock:function(ka){if(void 0!==ka)this._private.autolock=ka?!0:!1;else return this._private.autolock;return this},autoungrabify:function(ka){if(void 0!==ka)this._private.autoungrabify=ka?!0:!1;else return this._private.autoungrabify;return this},autounselectify:function(ka){if(void 0!==
ka)this._private.autounselectify=ka?!0:!1;else return this._private.autounselectify;return this},selectionType:function(ka){var Ja=this._private;null==Ja.selectionType&&(Ja.selectionType="single");if(void 0!==ka){if("additive"===ka||"single"===ka)Ja.selectionType=ka}else return Ja.selectionType;return this},panningEnabled:function(ka){if(void 0!==ka)this._private.panningEnabled=ka?!0:!1;else return this._private.panningEnabled;return this},userPanningEnabled:function(ka){if(void 0!==ka)this._private.userPanningEnabled=
ka?!0:!1;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(ka){if(void 0!==ka)this._private.zoomingEnabled=ka?!0:!1;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(ka){if(void 0!==ka)this._private.userZoomingEnabled=ka?!0:!1;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(ka){if(void 0!==ka)this._private.boxSelectionEnabled=ka?!0:!1;else return this._private.boxSelectionEnabled;return this},pan:function(){var ka=
arguments,Ja=this._private.pan;switch(ka.length){case 0:return Ja;case 1:if(bc(ka[0])){var G=ka[0];return Ja[G]}if(ub(ka[0])){if(!this._private.panningEnabled)return this;ka=ka[0];G=ka.x;ka=ka.y;Rc(G)&&(Ja.x=G);Rc(ka)&&(Ja.y=ka);this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;G=ka[0];ka=ka[1];"x"!==G&&"y"!==G||!Rc(ka)||(Ja[G]=ka);this.emit("pan viewport")}this.notify("viewport");return this},panBy:function(ka,Ja){var G=arguments,ca=this._private.pan;if(!this._private.panningEnabled)return this;
switch(G.length){case 1:if(ub(ka)){var ya=G[0];G=ya.x;ya=ya.y;Rc(G)&&(ca.x+=G);Rc(ya)&&(ca.y+=ya);this.emit("pan viewport")}break;case 2:G=ka,ya=Ja,"x"!==G&&"y"!==G||!Rc(ya)||(ca[G]+=ya),this.emit("pan viewport")}this.notify("viewport");return this},fit:function(ka,Ja){if(ka=this.getFitViewport(ka,Ja))Ja=this._private,Ja.zoom=ka.zoom,Ja.pan=ka.pan,this.emit("pan zoom viewport"),this.notify("viewport");return this},getFitViewport:function(ka,Ja){Rc(ka)&&void 0===Ja&&(Ja=ka,ka=void 0);if(this._private.panningEnabled&&
this._private.zoomingEnabled){if(bc(ka))ka=this.$(ka);else{var G=ka;if(ub(G)&&Rc(G.x1)&&Rc(G.x2)&&Rc(G.y1)&&Rc(G.y2)){var ca=ka;ca={x1:ca.x1,y1:ca.y1,x2:ca.x2,y2:ca.y2};ca.w=ca.x2-ca.x1;ca.h=ca.y2-ca.y1}else Vd(ka)||(ka=this.mutableElements())}if(!Vd(ka)||!ka.empty())if(ca=ca||ka.boundingBox(),ka=this.width(),G=this.height(),Ja=Rc(Ja)?Ja:0,!isNaN(ka)&&!isNaN(G)&&0<ka&&0<G&&!isNaN(ca.w)&&!isNaN(ca.h)&&0<ca.w&&0<ca.h)return Ja=Math.min((ka-2*Ja)/ca.w,(G-2*Ja)/ca.h),Ja=Ja>this._private.maxZoom?this._private.maxZoom:
Ja,Ja=Ja<this._private.minZoom?this._private.minZoom:Ja,{zoom:Ja,pan:{x:(ka-Ja*(ca.x1+ca.x2))/2,y:(G-Ja*(ca.y1+ca.y2))/2}}}},zoomRange:function(ka,Ja){var G=this._private;null==Ja&&(Ja=ka,ka=Ja.min,Ja=Ja.max);Rc(ka)&&Rc(Ja)&&ka<=Ja?(G.minZoom=ka,G.maxZoom=Ja):Rc(ka)&&void 0===Ja&&ka<=G.maxZoom?G.minZoom=ka:Rc(Ja)&&void 0===ka&&Ja>=G.minZoom&&(G.maxZoom=Ja);return this},minZoom:function(ka){return void 0===ka?this._private.minZoom:this.zoomRange({min:ka})},maxZoom:function(ka){return void 0===ka?this._private.maxZoom:
this.zoomRange({max:ka})},getZoomedViewport:function(ka){var Ja=this._private,G=Ja.pan,ca=Ja.zoom,ya=!1;Ja.zoomingEnabled||(ya=!0);if(Rc(ka))var Ka=ka;else if(ub(ka)){Ka=ka.level;if(null!=ka.position)var ab=Id(ka.position,ca,G);else null!=ka.renderedPosition&&(ab=ka.renderedPosition);null==ab||Ja.panningEnabled||(ya=!0)}Ka=Ka>Ja.maxZoom?Ja.maxZoom:Ka;Ka=Ka<Ja.minZoom?Ja.minZoom:Ka;return!ya&&Rc(Ka)&&Ka!==ca&&(null==ab||Rc(ab.x)&&Rc(ab.y))?null!=ab?(ka=Ka,{zoomed:!0,panned:!0,zoom:ka,pan:{x:-ka/ca*
(ab.x-G.x)+ab.x,y:-ka/ca*(ab.y-G.y)+ab.y}}):{zoomed:!0,panned:!1,zoom:Ka,pan:G}:null},zoom:function(ka){if(void 0===ka)return this._private.zoom;ka=this.getZoomedViewport(ka);var Ja=this._private;if(null==ka||!ka.zoomed)return this;Ja.zoom=ka.zoom;ka.panned&&(Ja.pan.x=ka.pan.x,Ja.pan.y=ka.pan.y);this.emit("zoom"+(ka.panned?" pan":"")+" viewport");this.notify("viewport");return this},viewport:function(ka){var Ja=this._private,G=!0,ca=!0,ya=[],Ka=!1,ab=!1;if(!ka)return this;Rc(ka.zoom)||(G=!1);ub(ka.pan)||
(ca=!1);if(!G&&!ca)return this;G&&(G=ka.zoom,G<Ja.minZoom||G>Ja.maxZoom||!Ja.zoomingEnabled?Ka=!0:(Ja.zoom=G,ya.push("zoom")));!ca||Ka&&ka.cancelOnFailedZoom||!Ja.panningEnabled||(ka=ka.pan,Rc(ka.x)&&(Ja.pan.x=ka.x,ab=!1),Rc(ka.y)&&(Ja.pan.y=ka.y,ab=!1),ab||ya.push("pan"));0<ya.length&&(ya.push("viewport"),this.emit(ya.join(" ")),this.notify("viewport"));return this},center:function(ka){if(ka=this.getCenterPan(ka))this._private.pan=ka,this.emit("pan viewport"),this.notify("viewport");return this},
getCenterPan:function(ka,Ja){if(this._private.panningEnabled&&(bc(ka)?ka=this.mutableElements().filter(ka):Vd(ka)||(ka=this.mutableElements()),0!==ka.length)){ka=ka.boundingBox();var G=this.width(),ca=this.height();Ja=void 0===Ja?this._private.zoom:Ja;return{x:(G-Ja*(ka.x1+ka.x2))/2,y:(ca-Ja*(ka.y1+ka.y2))/2}}},reset:function(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;this.viewport({pan:{x:0,y:0},zoom:1});return this},invalidateSize:function(){this._private.sizeCache=
null},size:function(){var ka=this._private,Ja=ka.container,G;(G=ka.sizeCache)||(Ja?(G=bb.getComputedStyle(Ja),Ja={width:Ja.clientWidth-parseFloat(G.getPropertyValue("padding-left"))-parseFloat(G.getPropertyValue("padding-right")),height:Ja.clientHeight-parseFloat(G.getPropertyValue("padding-top"))-parseFloat(G.getPropertyValue("padding-bottom"))}):Ja={width:1,height:1},G=Ja);return ka.sizeCache=G},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var ka=
this._private.pan,Ja=this._private.zoom,G=this.renderedExtent();ka={x1:(G.x1-ka.x)/Ja,x2:(G.x2-ka.x)/Ja,y1:(G.y1-ka.y)/Ja,y2:(G.y2-ka.y)/Ja};ka.w=ka.x2-ka.x1;ka.h=ka.y2-ka.y1;return ka},renderedExtent:function(){var ka=this.width(),Ja=this.height();return{x1:0,y1:0,x2:ka,y2:Ja,w:ka,h:Ja}},multiClickDebounceTime:function(ka){if(ka)this._private.multiClickDebounceTime=ka;else return this._private.multiClickDebounceTime;return this}};ri.centre=ri.center;ri.autolockNodes=ri.autolock;ri.autoungrabifyNodes=
ri.autoungrabify;var Fi={data:Hc.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Hc.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Hc.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),
removeScratch:Hc.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Fi.attr=Fi.data;Fi.removeAttr=Fi.removeData;var dj=function(ka){var Ja=this;ka=Dc({},ka);var G=ka.container;G&&!Kd(G)&&Kd(G[0])&&(G=G[0]);var ca=G?G._cyreg:null;if(ca=ca||{},ca.cy)ca.cy.destroy(),ca={};var ya=ca.readies=ca.readies||[];G&&(G._cyreg=ca);ca.cy=Ja;var Ka=void 0!==bb&&void 0!==G&&!ka.headless,ab=ka;ab.layout=Dc({name:Ka?"grid":"null"},ab.layout);ab.renderer=Dc({name:Ka?
"canvas":"null"},ab.renderer);ka=function(Fb,qb,Ub){return void 0!==qb?qb:void 0!==Ub?Ub:Fb};var ob=this._private={container:G,ready:!1,options:ab,elements:new oi(this),listeners:[],aniEles:new oi(this),data:ab.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1E-50,maxZoom:1E50,zoomingEnabled:ka(!0,ab.zoomingEnabled),userZoomingEnabled:ka(!0,ab.userZoomingEnabled),panningEnabled:ka(!0,ab.panningEnabled),userPanningEnabled:ka(!0,ab.userPanningEnabled),boxSelectionEnabled:ka(!0,
ab.boxSelectionEnabled),autolock:ka(!1,ab.autolock,ab.autolockNodes),autoungrabify:ka(!1,ab.autoungrabify,ab.autoungrabifyNodes),autounselectify:ka(!1,ab.autounselectify),styleEnabled:void 0===ab.styleEnabled?Ka:ab.styleEnabled,zoom:Rc(ab.zoom)?ab.zoom:1,pan:{x:ub(ab.pan)&&Rc(ab.pan.x)?ab.pan.x:0,y:ub(ab.pan)&&Rc(ab.pan.y)?ab.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:ka(250,ab.multiClickDebounceTime)};this.createEmitter();this.selectionType(ab.selectionType);
this.zoomRange({min:ab.minZoom,max:ab.maxZoom});ob.styleEnabled&&Ja.setStyle([]);G=Dc({},ab,ab.renderer);Ja.initRenderer(G);var rb=function(Fb,qb,Ub){Ja.notifications(!1);var Zb=Ja.mutableElements();0<Zb.length&&Zb.remove();null!=Fb&&(ub(Fb)||Tc(Fb))&&Ja.add(Fb);Ja.one("layoutready",function(Ec){Ja.notifications(!0);Ja.emit(Ec);Ja.one("load",qb);Ja.emitAndNotify("load")}).one("layoutstop",function(){Ja.one("done",Ub);Ja.emit("done")});Fb=Dc({},Ja._private.options.layout);Fb.eles=Ja.elements();Ja.layout(Fb).run()};
(function(Fb,qb){if(Fb.some(Bd))return xe.all(Fb).then(qb);qb(Fb)})([ab.style,ab.elements],function(Fb){var qb=Fb[0];Fb=Fb[1];ob.styleEnabled&&Ja.style().append(qb);rb(Fb,function(){Ja.startAnimationLoop();ob.ready=!0;if(jc(ab.ready))Ja.on("ready",ab.ready);for(var Ub=0;Ub<ya.length;Ub++)Ja.on("ready",ya[Ub]);ca&&(ca.readies=[]);Ja.emit("ready")},ab.done)})},Yg=dj.prototype;Dc(Yg,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},
ready:function(ka){if(this.isReady())this.emitter().emit("ready",[],ka);else this.on("ready",ka);return this},destroy:function(){if(!this.destroyed())return this.stopAnimationLoop(),this.destroyRenderer(),this.emit("destroy"),this._private.destroyed=!0,this},hasElementWithId:function(ka){return this._private.elements.hasElementWithId(ka)},getElementById:function(ka){return this._private.elements.getElementById(ka)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},
styleEnabled:function(){return this._private.styleEnabled},addToPool:function(ka){this._private.elements.merge(ka);return this},removeFromPool:function(ka){this._private.elements.unmerge(ka);return this},container:function(){return this._private.container||null},mount:function(ka){if(null!=ka){var Ja=this._private,G=Ja.options;!Kd(ka)&&Kd(ka[0])&&(ka=ka[0]);this.stopAnimationLoop();this.destroyRenderer();Ja.container=ka;Ja.styleEnabled=!0;this.invalidateSize();this.initRenderer(Dc({},G,G.renderer,
{name:"null"===G.renderer.name?"canvas":G.renderer.name}));this.startAnimationLoop();this.style(G.style);this.emit("mount");return this}},unmount:function(){this.stopAnimationLoop();this.destroyRenderer();this.initRenderer({name:"null"});this.emit("unmount");return this},options:function(){return Ad(this._private.options)},json:function(ka){var Ja=this,G=Ja._private,ca=Ja.mutableElements();if(ub(ka)){Ja.startBatch();if(ka.elements){var ya={},Ka=function(Zb,Ec){for(var n=[],Q=[],ta=0;ta<Zb.length;ta++){var pa=
Zb[ta];if(pa.data.id){var Oa=""+pa.data.id,hb=Ja.getElementById(Oa);ya[Oa]=!0;0!==hb.length?Q.push({ele:hb,json:pa}):(Ec&&(pa.group=Ec),n.push(pa))}else Je("cy.json() cannot handle elements without an ID attribute")}Ja.add(n);for(Zb=0;Zb<Q.length;Zb++)Ec=Q[Zb],Ec.ele.json(Ec.json)};if(Tc(ka.elements))Ka(ka.elements);else for(var ab=["nodes","edges"],ob=0;ob<ab.length;ob++){var rb=ab[ob],Fb=ka.elements[rb];Tc(Fb)&&Ka(Fb,rb)}var qb=Ja.collection();ca.filter(function(Zb){return!ya[Zb.id()]}).forEach(function(Zb){Zb.isParent()?
qb.merge(Zb):Zb.remove()});qb.forEach(function(Zb){return Zb.children().move({parent:null})});qb.forEach(function(Zb){return Ja.getElementById(Zb.id()).remove()})}ka.style&&Ja.style(ka.style);null!=ka.zoom&&ka.zoom!==G.zoom&&Ja.zoom(ka.zoom);ka.pan&&(ka.pan.x!==G.pan.x||ka.pan.y!==G.pan.y)&&Ja.pan(ka.pan);ka.data&&Ja.data(ka.data);G="minZoom maxZoom zoomingEnabled userZoomingEnabled panningEnabled userPanningEnabled boxSelectionEnabled autolock autoungrabify autounselectify multiClickDebounceTime".split(" ");
for(ca=0;ca<G.length;ca++)if(Ka=G[ca],null!=ka[Ka])Ja[Ka](ka[Ka]);Ja.endBatch();return this}var Ub={};ka?Ub.elements=this.elements().map(function(Zb){return Zb.json()}):(Ub.elements={},ca.forEach(function(Zb){var Ec=Zb.group();Ub.elements[Ec]||(Ub.elements[Ec]=[]);Ub.elements[Ec].push(Zb.json())}));this._private.styleEnabled&&(Ub.style=Ja.style().json());Ub.data=Ad(Ja.data());ka=G.options;Ub.zoomingEnabled=G.zoomingEnabled;Ub.userZoomingEnabled=G.userZoomingEnabled;Ub.zoom=G.zoom;Ub.minZoom=G.minZoom;
Ub.maxZoom=G.maxZoom;Ub.panningEnabled=G.panningEnabled;Ub.userPanningEnabled=G.userPanningEnabled;Ub.pan=Ad(G.pan);Ub.boxSelectionEnabled=G.boxSelectionEnabled;Ub.renderer=Ad(ka.renderer);Ub.hideEdgesOnViewport=ka.hideEdgesOnViewport;Ub.textureOnViewport=ka.textureOnViewport;Ub.wheelSensitivity=ka.wheelSensitivity;Ub.motionBlur=ka.motionBlur;Ub.multiClickDebounceTime=ka.multiClickDebounceTime;return Ub}});Yg.$id=Yg.getElementById;[{add:function(ka){if(Vd(ka))if(ka._private.cy===this)ka=ka.restore();
else{for(var Ja=[],G=0;G<ka.length;G++)Ja.push(ka[G].json());ka=new oi(this,Ja)}else if(Tc(ka))ka=new oi(this,ka);else if(ub(ka)&&(Tc(ka.nodes)||Tc(ka.edges))){Ja=[];G=["nodes","edges"];for(var ca=0,ya=G.length;ca<ya;ca++){var Ka=G[ca],ab=ka[Ka];if(Tc(ab))for(var ob=0,rb=ab.length;ob<rb;ob++){var Fb=Dc({group:Ka},ab[ob]);Ja.push(Fb)}}ka=new oi(this,Ja)}else ka=(new Tf(this,ka)).collection();return ka},remove:function(ka){Vd(ka)||bc(ka)&&(ka=this.$(ka));return ka.remove()}},ui,Mj,Bk,bk,{notify:function(ka,
Ja){var G=this._private;this.batching()?(G.batchNotifications=G.batchNotifications||{},ka=G.batchNotifications[ka]=G.batchNotifications[ka]||this.collection(),null!=Ja&&ka.merge(Ja)):G.notificationsEnabled&&(G=this.renderer(),!this.destroyed()&&G&&G.notify(ka,Ja))},notifications:function(ka){var Ja=this._private;if(void 0===ka)return Ja.notificationsEnabled;Ja.notificationsEnabled=ka?!0:!1;return this},noNotifications:function(ka){this.notifications(!1);ka();this.notifications(!0)},batching:function(){return 0<
this._private.batchCount},startBatch:function(){var ka=this._private;null==ka.batchCount&&(ka.batchCount=0);0===ka.batchCount&&(ka.batchStyleEles=this.collection(),ka.batchNotifications={});ka.batchCount++;return this},endBatch:function(){var ka=this._private;if(0===ka.batchCount)return this;ka.batchCount--;if(0===ka.batchCount){ka.batchStyleEles.updateStyle();var Ja=this.renderer();Object.keys(ka.batchNotifications).forEach(function(G){var ca=ka.batchNotifications[G];ca.empty()?Ja.notify(G):Ja.notify(G,
ca)})}return this},batch:function(ka){this.startBatch();ka();this.endBatch();return this},batchData:function(ka){var Ja=this;return this.batch(function(){for(var G=Object.keys(ka),ca=0;ca<G.length;ca++){var ya=G[ca],Ka=ka[ya];Ja.getElementById(ya).data(Ka)}})}},Ak,Xg,{style:function(ka){ka&&this.setStyle(ka).update();return this._private.style},setStyle:function(ka){var Ja=this._private;"stylesheet"===Db(ka)?Ja.style=ka.generateStyle(this):Tc(ka)?Ja.style=ki.fromJson(this,ka):bc(ka)?Ja.style=ki.fromString(this,
ka):Ja.style=ki(this);return Ja.style},updateStyle:function(){this.mutableElements().updateStyle()}},ri,Fi].forEach(function(ka){Dc(Yg,ka)});var xg={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(ka,Ja){return!0},ready:void 0,stop:void 0,transform:function(ka,Ja){return Ja}},vg=function(ka){return ka.scratch("breadthfirst")},
ej=function(ka,Ja){return ka.scratch("breadthfirst",Ja)};ja.prototype.run=function(){var ka=this.options,Ja=ka.cy,G=ka.eles,ca=G.nodes().filter(function(gd){return!gd.isParent()}),ya=ka.directed,Ka=ka.maximal||0<ka.maximalAdjustments,ab=be(ka.boundingBox?ka.boundingBox:{x1:0,y1:0,w:Ja.width(),h:Ja.height()});if(Vd(ka.roots))var ob=ka.roots;else if(Tc(ka.roots)){for(var rb=[],Fb=0;Fb<ka.roots.length;Fb++){var qb=Ja.getElementById(ka.roots[Fb]);rb.push(qb)}ob=Ja.collection(rb)}else if(bc(ka.roots))ob=
Ja.$(ka.roots);else if(ya)ob=ca.roots();else{var Ub=G.components();ob=Ja.collection();Ja=function(gd){gd=Ub[gd];var Dd=gd.maxDegree(!1);gd=gd.filter(function(Jd){return Jd.degree(!1)===Dd});ob=ob.add(gd)};for(rb=0;rb<Ub.length;rb++)Ja(rb)}var Zb=[],Ec={},n=function(gd,Dd){null==Zb[Dd]&&(Zb[Dd]=[]);var Jd=Zb[Dd].length;Zb[Dd].push(gd);ej(gd,{index:Jd,depth:Dd})},Q=function(gd,Dd){var Jd=vg(gd);Zb[Jd.depth][Jd.index]=null;n(gd,Dd)};G.bfs({roots:ob,directed:ka.directed,visit:function(gd,Dd,Jd,se,cf){gd=
gd[0];Dd=gd.id();n(gd,cf);Ec[Dd]=!0}});Ja=[];for(rb=0;rb<ca.length;rb++)Fb=ca[rb],Ec[Fb.id()]||Ja.push(Fb);var ta=function(gd){for(var Dd=Zb[gd],Jd=0;Jd<Dd.length;Jd++){var se=Dd[Jd];null==se?(Dd.splice(Jd,1),Jd--):ej(se,{depth:gd,index:Jd})}};rb=function(){for(var gd=0;gd<Zb.length;gd++)ta(gd)};Fb=function(gd,Dd){for(var Jd=vg(gd),se=gd.incomers().filter(function(Ff){return Ff.isNode()&&G.has(Ff)}),cf=-1,lf=gd.id(),Hf=0;Hf<se.length;Hf++){var ff=vg(se[Hf]);cf=Math.max(cf,ff.depth)}if(Jd.depth<=cf){if(Dd[lf])return null;
Q(gd,cf+1);return Dd[lf]=!0}return!1};if(ya&&Ka){var pa=[];ya={};Ka=function(gd){return pa.push(gd)};for(ca.forEach(function(gd){return pa.push(gd)});0<pa.length;){qb=pa.shift();var Oa=Fb(qb,ya);if(Oa)qb.outgoers().filter(function(gd){return gd.isNode()&&G.has(gd)}).forEach(Ka);else if(null===Oa){Je("Detected double maximal shift for node `"+qb.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}rb();var hb=0;if(ka.avoidOverlap)for(ya=0;ya<ca.length;ya++)Ka=
ca[ya].layoutDimensions(ka),hb=Math.max(hb,Ka.w,Ka.h);var yb={},Kb=function(gd){if(yb[gd.id()])return yb[gd.id()];for(var Dd=vg(gd).depth,Jd=gd.neighborhood(),se=0,cf=0,lf=0;lf<Jd.length;lf++){var Hf=Jd[lf];if(!Hf.isEdge()&&!Hf.isParent()&&ca.has(Hf)){var ff=vg(Hf);if(null!=ff&&(Hf=ff.index,ff=ff.depth,null!=Hf&&null!=ff)){var Ff=Zb[ff].length;ff<Dd&&(se+=Hf/Ff,cf++)}}}cf=Math.max(1,cf);se/=cf;0===cf&&(se=0);return yb[gd.id()]=se};ya=function(gd,Dd){var Jd=Kb(gd),se=Kb(Dd);Jd-=se;0===Jd?(gd=gd.id(),
Dd=Dd.id(),Dd=gd<Dd?-1:gd>Dd?1:0):Dd=Jd;return Dd};for(Ka=0;Ka<Zb.length;Ka++)Zb[Ka].sort(ya),ta(Ka);ya=[];for(Ka=0;Ka<Ja.length;Ka++)ya.push(Ja[Ka]);Zb.unshift(ya);rb();for(Ja=0;Ja<Zb.length;Ja++);var ic=ab.x1+ab.w/2,Bc=ab.x1+ab.h/2,Lc=Zb.reduce(function(gd,Dd){return Math.max(gd,Dd.length)},0);G.nodes().layoutPositions(this,ka,function(gd){var Dd=vg(gd);gd=Dd.depth;Dd=Dd.index;var Jd=Zb[gd].length,se=Math.max(ab.w/((ka.grid?Lc:Jd)+1),hb),cf=Math.max(ab.h/(Zb.length+1),hb),lf=Math.min(ab.w/2/Zb.length,
ab.h/2/Zb.length);lf=Math.max(lf,hb);return ka.circle?(Jd=lf*gd+lf-(0<Zb.length&&3>=Zb[0].length?lf/2:0),Dd*=2*Math.PI/Zb[gd].length,0===gd&&1===Zb[0].length&&(Jd=1),{x:ic+Jd*Math.cos(Dd),y:Bc+Jd*Math.sin(Dd)}):{x:ic+(Dd+1-(Jd+1)/2)*se,y:(gd+1)*cf}});return this};var Sj={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,
animateFilter:function(ka,Ja){return!0},ready:void 0,stop:void 0,transform:function(ka,Ja){return Ja}};Ba.prototype.run=function(){var ka=this.options,Ja=ka.cy,G=ka.eles,ca=void 0!==ka.counterclockwise?!ka.counterclockwise:ka.clockwise,ya=G.nodes().not(":parent");ka.sort&&(ya=ya.sort(ka.sort));for(var Ka=be(ka.boundingBox?ka.boundingBox:{x1:0,y1:0,w:Ja.width(),h:Ja.height()}),ab=Ka.x1+Ka.w/2,ob=Ka.y1+Ka.h/2,rb=(void 0===ka.sweep?2*Math.PI-2*Math.PI/ya.length:ka.sweep)/Math.max(1,ya.length-1),Fb,qb=
Ja=0;qb<ya.length;qb++){var Ub=ya[qb].layoutDimensions(ka);Ja=Math.max(Ja,Ub.w,Ub.h)}Fb=Rc(ka.radius)?ka.radius:1>=ya.length?0:Math.min(Ka.h,Ka.w)/2-Ja;1<ya.length&&ka.avoidOverlap&&(Ja*=1.75,ya=Math.cos(rb)-Math.cos(0),Ka=Math.sin(rb)-Math.sin(0),Fb=Math.max(Math.sqrt(Ja*Ja/(ya*ya+Ka*Ka)),Fb));G.nodes().layoutPositions(this,ka,function(Zb,Ec){Zb=ka.startAngle+Ec*rb*(ca?1:-1);return{x:ab+Fb*Math.cos(Zb),y:ob+Fb*Math.sin(Zb)}});return this};var ei={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,
clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(ka){return ka.degree()},levelWidth:function(ka){return ka.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(ka,Ja){return!0},ready:void 0,stop:void 0,transform:function(ka,Ja){return Ja}};Ga.prototype.run=function(){var ka=this.options,Ja=void 0!==ka.counterclockwise?!ka.counterclockwise:
ka.clockwise,G=ka.cy,ca=ka.eles,ya=ca.nodes().not(":parent"),Ka=be(ka.boundingBox?ka.boundingBox:{x1:0,y1:0,w:G.width(),h:G.height()});G=Ka.x1+Ka.w/2;for(var ab=Ka.y1+Ka.h/2,ob=[],rb=0,Fb=0;Fb<ya.length;Fb++){var qb=ya[Fb],Ub=void 0;Ub=ka.concentric(qb);ob.push({value:Ub,node:qb});qb._private.scratch.concentric=Ub}ya.updateStyle();for(Fb=0;Fb<ya.length;Fb++)qb=ya[Fb].layoutDimensions(ka),rb=Math.max(rb,qb.w,qb.h);ob.sort(function(n,Q){return Q.value-n.value});Fb=ka.levelWidth(ya);ya=[[]];qb=ya[0];
for(Ub=0;Ub<ob.length;Ub++){var Zb=ob[Ub];0<qb.length&&Math.abs(qb[0].value-Zb.value)>=Fb&&(qb=[],ya.push(qb));qb.push(Zb)}ob=rb+ka.minNodeSpacing;ka.avoidOverlap||(ob=Math.min(ob,(Math.min(Ka.w,Ka.h)/2-ob)/(ya.length+(0<ya.length&&1<ya[0].length)?1:0)));for(rb=Ka=0;rb<ya.length;rb++)Fb=ya[rb],Ub=Fb.dTheta=(void 0===ka.sweep?2*Math.PI-2*Math.PI/Fb.length:ka.sweep)/Math.max(1,Fb.length-1),1<Fb.length&&ka.avoidOverlap&&(qb=Math.cos(Ub)-Math.cos(0),Ub=Math.sin(Ub)-Math.sin(0),Ka=Math.max(Math.sqrt(ob*
ob/(qb*qb+Ub*Ub)),Ka)),Fb.r=Ka,Ka+=ob;if(ka.equidistant){for(rb=ob=Ka=0;rb<ya.length;rb++)Ka=Math.max(Ka,ya[rb].r-ob);for(rb=ob=0;rb<ya.length;rb++)Fb=ya[rb],0===rb&&(ob=Fb.r),Fb.r=ob,ob+=Ka}var Ec={};for(Ka=0;Ka<ya.length;Ka++)for(ob=ya[Ka],rb=ob.dTheta,Fb=ob.r,qb=0;qb<ob.length;qb++)Ub=ka.startAngle+(Ja?1:-1)*rb*qb,Ub={x:G+Fb*Math.cos(Ub),y:ab+Fb*Math.sin(Ub)},Ec[ob[qb].node.id()]=Ub;ca.nodes().layoutPositions(this,ka,function(n){n=n.id();return Ec[n]});return this};var Lh,dk={ready:function(){},
stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(ka,Ja){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(ka){return 2048},nodeOverlap:4,idealEdgeLength:function(ka){return 32},edgeElasticity:function(ka){return 32},nestingFactor:1.2,gravity:1,numIter:1E3,initialTemp:1E3,coolingFactor:.99,minTemp:1};ua.prototype.run=function(){var ka=
this.options,Ja=ka.cy,G=this;G.stopped=!1;!0!==ka.animate&&!1!==ka.animate||G.emit({type:"layoutstart",layout:G});Lh=!0===ka.debug?!0:!1;var ca=kk(Ja,G,ka);Lh&&(void 0)(ca);ka.randomize&&mi(ca);var ya=Jc(),Ka=function(){Ch(ca,Ja,ka);!0===ka.fit&&Ja.fit(ka.padding)},ab=function(qb){if(G.stopped||qb>=ka.numIter)return!1;for(qb=0;qb<ca.graphSet.length;qb++)for(var Ub=ca.graphSet[qb],Zb=Ub.length,Ec=0;Ec<Zb;Ec++)for(var n=ca.layoutNodes[ca.idToIndex[Ub[Ec]]],Q=Ec+1;Q<Zb;Q++){var ta=n,pa=ca.layoutNodes[ca.idToIndex[Ub[Q]]],
Oa=ka;if(ta.cmptId===pa.cmptId||ca.isCompound){var hb=pa.positionX-ta.positionX,yb=pa.positionY-ta.positionY;0===hb&&0===yb&&(hb=-1+2*Math.random(),yb=-1+2*Math.random());var Kb=0<hb?ta.maxX-pa.minX:pa.maxX-ta.minX;var ic=0<yb?ta.maxY-pa.minY:pa.maxY-ta.minY;Kb=0<=Kb&&0<=ic?Math.sqrt(Kb*Kb+ic*ic):0;0<Kb?(Kb*=Oa.nodeOverlap,Oa=Math.sqrt(hb*hb+yb*yb),hb=Kb*hb/Oa,yb=Kb*yb/Oa):(Oa=ck(ta,hb,yb),hb=ck(pa,-1*hb,-1*yb),yb=hb.x-Oa.x,ic=hb.y-Oa.y,hb=yb*yb+ic*ic,Oa=Math.sqrt(hb),Kb=(ta.nodeRepulsion+pa.nodeRepulsion)/
hb,hb=Kb*yb/Oa,yb=Kb*ic/Oa);ta.isLocked||(ta.offsetX-=hb,ta.offsetY-=yb);pa.isLocked||(pa.offsetX+=hb,pa.offsetY+=yb)}}for(qb=0;qb<ca.edgeSize;qb++)if(Ec=ca.layoutEdges[qb],Ub=ca.layoutNodes[ca.idToIndex[Ec.sourceId]],Zb=ca.layoutNodes[ca.idToIndex[Ec.targetId]],n=Zb.positionX-Ub.positionX,ta=Zb.positionY-Ub.positionY,0!==n||0!==ta)Q=ck(Ub,n,ta),ta=ck(Zb,-1*n,-1*ta),n=ta.x-Q.x,Q=ta.y-Q.y,ta=Math.sqrt(n*n+Q*Q),Ec=Math.pow(Ec.idealLength-ta,2)/Ec.elasticity,0!==ta?(n=Ec*n/ta,Ec=Ec*Q/ta):Ec=n=0,Ub.isLocked||
(Ub.offsetX+=n,Ub.offsetY+=Ec),Zb.isLocked||(Zb.offsetX-=n,Zb.offsetY-=Ec);if(0!==ka.gravity)for(qb=0;qb<ca.graphSet.length;qb++)for(Ub=ca.graphSet[qb],Zb=Ub.length,0===qb?(Ec=ca.clientHeight/2,n=ca.clientWidth/2):(n=ca.layoutNodes[ca.idToIndex[ca.layoutNodes[ca.idToIndex[Ub[0]]].parentId]],Ec=n.positionX,n=n.positionY),Q=0;Q<Zb;Q++)ta=ca.layoutNodes[ca.idToIndex[Ub[Q]]],ta.isLocked||(pa=Ec-ta.positionX,hb=n-ta.positionY,yb=Math.sqrt(pa*pa+hb*hb),1<yb&&(hb=ka.gravity*hb/yb,ta.offsetX+=ka.gravity*
pa/yb,ta.offsetY+=hb));qb=[];Ub=0;Zb=-1;qb.push.apply(qb,ca.graphSet[0]);for(Zb+=ca.graphSet[0].length;Ub<=Zb;)if(Ec=qb[Ub++],Ec=ca.layoutNodes[ca.idToIndex[Ec]],n=Ec.children,0<n.length&&!Ec.isLocked){Q=Ec.offsetX;ta=Ec.offsetY;for(pa=0;pa<n.length;pa++)yb=ca.layoutNodes[ca.idToIndex[n[pa]]],yb.offsetX+=Q,yb.offsetY+=ta,qb[++Zb]=n[pa];Ec.offsetX=0;Ec.offsetY=0}for(qb=0;qb<ca.nodeSize;qb++)Ub=ca.layoutNodes[qb],0<Ub.children.length&&(Ub.maxX=void 0,Ub.minX=void 0,Ub.maxY=void 0,Ub.minY=void 0);for(qb=
0;qb<ca.nodeSize;qb++)Ub=ca.layoutNodes[qb],0<Ub.children.length||Ub.isLocked||(Zb=Ub.offsetX,Ec=Ub.offsetY,n=ca.temperature,Q=Math.sqrt(Zb*Zb+Ec*Ec),Zb=Q>n?{x:n*Zb/Q,y:n*Ec/Q}:{x:Zb,y:Ec},Ub.positionX+=Zb.x,Ub.positionY+=Zb.y,Ub.offsetX=0,Ub.offsetY=0,Ub.minX=Ub.positionX-Ub.width,Ub.maxX=Ub.positionX+Ub.width,Ub.minY=Ub.positionY-Ub.height,Ub.maxY=Ub.positionY+Ub.height,Ik(Ub,ca));for(qb=0;qb<ca.nodeSize;qb++)Ub=ca.layoutNodes[qb],0<Ub.children.length&&!Ub.isLocked&&(Ub.positionX=(Ub.maxX+Ub.minX)/
2,Ub.positionY=(Ub.maxY+Ub.minY)/2,Ub.width=Ub.maxX-Ub.minX,Ub.height=Ub.maxY-Ub.minY);ca.temperature*=ka.coolingFactor;return ca.temperature<ka.minTemp?!1:!0},ob=function(){if(!0===ka.animate||!1===ka.animate)Ka(),G.one("layoutstop",ka.stop),G.emit({type:"layoutstop",layout:G});else{var qb=ka.eles.nodes(),Ub=Cj(ca,ka,qb);qb.layoutPositions(G,ka,Ub)}},rb=0,Fb=!0;if(!0===ka.animate)(function Ub(){for(var Zb=0;Fb&&Zb<ka.refresh;)Fb=ab(rb),rb++,Zb++;Fb?(Jc()-ya>=ka.animationThreshold&&Ka(),ud(Ub)):(Ej(ca,
ka),ob())})();else{for(;Fb;)Fb=ab(rb),rb++;Ej(ca,ka);ob()}return this};ua.prototype.stop=function(){this.stopped=!0;this.thread&&this.thread.stop();this.emit("layoutstop");return this};ua.prototype.destroy=function(){this.thread&&this.thread.stop();return this};var kk=function(ka,Ja,G){Ja=G.eles.edges();var ca=G.eles.nodes();ka={isCompound:ka.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:ca.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:Ja.size(),temperature:G.initialTemp,clientWidth:ka.width(),
clientHeight:ka.width(),boundingBox:be(G.boundingBox?G.boundingBox:{x1:0,y1:0,w:ka.width(),h:ka.height()})};for(var ya=G.eles.components(),Ka={},ab=0;ab<ya.length;ab++)for(var ob=ya[ab],rb=0;rb<ob.length;rb++){var Fb=ob[rb];Ka[Fb.id()]=ab}for(ab=0;ab<ka.nodeSize;ab++)rb=ca[ab],ya=rb.layoutDimensions(G),Fb={},Fb.isLocked=rb.locked(),Fb.id=rb.data("id"),Fb.parentId=rb.data("parent"),Fb.cmptId=Ka[rb.id()],Fb.children=[],Fb.positionX=rb.position("x"),Fb.positionY=rb.position("y"),Fb.offsetX=0,Fb.offsetY=
0,Fb.height=ya.w,Fb.width=ya.h,Fb.maxX=Fb.positionX+Fb.width/2,Fb.minX=Fb.positionX-Fb.width/2,Fb.maxY=Fb.positionY+Fb.height/2,Fb.minY=Fb.positionY-Fb.height/2,Fb.padLeft=parseFloat(rb.style("padding")),Fb.padRight=parseFloat(rb.style("padding")),Fb.padTop=parseFloat(rb.style("padding")),Fb.padBottom=parseFloat(rb.style("padding")),Fb.nodeRepulsion=jc(G.nodeRepulsion)?G.nodeRepulsion(rb):G.nodeRepulsion,ka.layoutNodes.push(Fb),ka.idToIndex[Fb.id]=ab;ca=[];Ka=0;ya=-1;Fb=[];for(ab=0;ab<ka.nodeSize;ab++)rb=
ka.layoutNodes[ab],ob=rb.parentId,null!=ob?ka.layoutNodes[ka.idToIndex[ob]].children.push(rb.id):(ca[++ya]=rb.id,Fb.push(rb.id));for(ka.graphSet.push(Fb);Ka<=ya;)if(ab=ca[Ka++],Fb=ka.layoutNodes[ka.idToIndex[ab]],Fb=Fb.children,0<Fb.length)for(ka.graphSet.push(Fb),ab=0;ab<Fb.length;ab++)ca[++ya]=Fb[ab];for(ab=0;ab<ka.graphSet.length;ab++)for(Fb=ka.graphSet[ab],rb=0;rb<Fb.length;rb++)ka.indexToGraph[ka.idToIndex[Fb[rb]]]=ab;for(ab=0;ab<ka.edgeSize;ab++){Fb=Ja[ab];ca={};ca.id=Fb.data("id");ca.sourceId=
Fb.data("source");ca.targetId=Fb.data("target");rb=jc(G.idealEdgeLength)?G.idealEdgeLength(Fb):G.idealEdgeLength;Ka=jc(G.edgeElasticity)?G.edgeElasticity(Fb):G.edgeElasticity;Fb=ka.idToIndex[ca.sourceId];ya=ka.idToIndex[ca.targetId];if(ka.indexToGraph[Fb]!=ka.indexToGraph[ya]){ob=sj(ca.sourceId,ca.targetId,0,ka);ob=2>ob.count?0:ob.graph;ob=ka.graphSet[ob];var qb=0;for(Fb=ka.layoutNodes[Fb];-1===ob.indexOf(Fb.id);)Fb=ka.layoutNodes[ka.idToIndex[Fb.parentId]],qb++;for(Fb=ka.layoutNodes[ya];-1===ob.indexOf(Fb.id);)Fb=
ka.layoutNodes[ka.idToIndex[Fb.parentId]],qb++;rb*=qb*G.nestingFactor}ca.idealLength=rb;ca.elasticity=Ka;ka.layoutEdges.push(ca)}return ka},sj=function Ka(Ja,G,ca,ya){var ab=ya.graphSet[ca];if(-1<ab.indexOf(Ja)&&-1<ab.indexOf(G))return{count:2,graph:ca};for(var ob=0,rb=0;rb<ab.length;rb++){var Fb=ya.layoutNodes[ya.idToIndex[ab[rb]]].children;if(0!==Fb.length&&(Fb=Ka(Ja,G,ya.indexToGraph[ya.idToIndex[Fb[0]]],ya),0!==Fb.count))if(1===Fb.count){if(ob++,2===ob)break}else return Fb}return{count:ob,graph:ca}},
mi=function(Ja,G){G=Ja.clientWidth;for(var ca=Ja.clientHeight,ya=0;ya<Ja.nodeSize;ya++){var Ka=Ja.layoutNodes[ya];0!==Ka.children.length||Ka.isLocked||(Ka.positionX=Math.random()*G,Ka.positionY=Math.random()*ca)}},Cj=function(Ja,G,ca){var ya=Ja.boundingBox,Ka=Infinity,ab=-Infinity,ob=Infinity,rb=-Infinity;if(G.boundingBox){ca.forEach(function(Ub){Ub=Ja.layoutNodes[Ja.idToIndex[Ub.data("id")]];Ka=Math.min(Ka,Ub.positionX);ab=Math.max(ab,Ub.positionX);ob=Math.min(ob,Ub.positionY);rb=Math.max(rb,Ub.positionY)});
var Fb=ab-Ka;var qb=rb-ob}return function(Ub,Zb){Ub=Ja.layoutNodes[Ja.idToIndex[Ub.data("id")]];return G.boundingBox?{x:ya.x1+(Ub.positionX-Ka)/Fb*ya.w,y:ya.y1+(Ub.positionY-ob)/qb*ya.h}:{x:Ub.positionX,y:Ub.positionY}}},Ch=function(Ja,G,ca){G=ca.layout;var ya=ca.eles.nodes(),Ka=Cj(Ja,ca,ya);ya.positions(Ka);!0!==Ja.ready&&(Ja.ready=!0,G.one("layoutready",ca.ready),G.emit({type:"layoutready",layout:this}))},ck=function(Ja,G,ca){var ya=Ja.positionX,Ka=Ja.positionY,ab=Ja.height||1;Ja=Ja.width||1;var ob=
ca/G,rb=ab/Ja,Fb={};if(0===G&&0<ca||0===G&&0>ca)return Fb.x=ya,Fb.y=Ka+ab/2,Fb;if(0<G&&-1*rb<=ob&&ob<=rb)return Fb.x=ya+Ja/2,Fb.y=Ka+Ja*ca/2/G,Fb;if(0>G&&-1*rb<=ob&&ob<=rb)return Fb.x=ya-Ja/2,Fb.y=Ka-Ja*ca/2/G,Fb;if(0<ca&&(ob<=-1*rb||ob>=rb))return Fb.x=ya+ab*G/2/ca,Fb.y=Ka+ab/2,Fb;0>ca&&(ob<=-1*rb||ob>=rb)&&(Fb.x=ya-ab*G/2/ca,Fb.y=Ka-ab/2);return Fb},Ik=function ya(G,ca){var Ka=G.parentId;if(null!=Ka){Ka=ca.layoutNodes[ca.idToIndex[Ka]];var ab=!1;if(null==Ka.maxX||G.maxX+Ka.padRight>Ka.maxX)Ka.maxX=
G.maxX+Ka.padRight,ab=!0;if(null==Ka.minX||G.minX-Ka.padLeft<Ka.minX)Ka.minX=G.minX-Ka.padLeft,ab=!0;if(null==Ka.maxY||G.maxY+Ka.padBottom>Ka.maxY)Ka.maxY=G.maxY+Ka.padBottom,ab=!0;if(null==Ka.minY||G.minY-Ka.padTop<Ka.minY)Ka.minY=G.minY-Ka.padTop,ab=!0;if(ab)return ya(Ka,ca)}},Ej=function(G,ca){for(var ya=G.layoutNodes,Ka=[],ab=0;ab<ya.length;ab++){var ob=ya[ab],rb=ob.cmptId;(Ka[rb]=Ka[rb]||[]).push(ob)}var Fb=0;for(ab=0;ab<Ka.length;ab++)if(ya=Ka[ab]){ya.x1=Infinity;ya.x2=-Infinity;ya.y1=Infinity;
ya.y2=-Infinity;for(ob=0;ob<ya.length;ob++)rb=ya[ob],ya.x1=Math.min(ya.x1,rb.positionX-rb.width/2),ya.x2=Math.max(ya.x2,rb.positionX+rb.width/2),ya.y1=Math.min(ya.y1,rb.positionY-rb.height/2),ya.y2=Math.max(ya.y2,rb.positionY+rb.height/2);ya.w=ya.x2-ya.x1;ya.h=ya.y2-ya.y1;Fb+=ya.w*ya.h}Ka.sort(function(n,Q){return Q.w*Q.h-n.w*n.h});var qb=0,Ub=0,Zb=0,Ec=0;G=Math.sqrt(Fb)*G.clientWidth/G.clientHeight;for(ab=0;ab<Ka.length;ab++)if(ya=Ka[ab]){for(ob=0;ob<ya.length;ob++)rb=ya[ob],rb.isLocked||(rb.positionX+=
qb-ya.x1,rb.positionY+=Ub-ya.y1);qb+=ya.w+ca.componentSpacing;Zb+=ya.w+ca.componentSpacing;Ec=Math.max(Ec,ya.h);Zb>G&&(Ub+=Ec+ca.componentSpacing,Ec=Zb=qb=0)}},Qi={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(G){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(G,ca){return!0},ready:void 0,stop:void 0,transform:function(G,
ca){return ca}};Fa.prototype.run=function(){var G=this.options,ca=G.cy,ya=G.eles,Ka=ya.nodes().not(":parent");G.sort&&(Ka=Ka.sort(G.sort));var ab=be(G.boundingBox?G.boundingBox:{x1:0,y1:0,w:ca.width(),h:ca.height()});if(0===ab.h||0===ab.w)ya.nodes().layoutPositions(this,G,function(hb){return{x:ab.x1,y:ab.y1}});else{ca=Ka.size();ya=Math.sqrt(ca*ab.h/ab.w);var ob=Math.round(ya),rb=Math.round(ab.w/ab.h*ya);ya=function(hb){if(null==hb)return Math.min(ob,rb);Math.min(ob,rb)==ob?ob=hb:rb=hb};var Fb=function(hb){if(null==
hb)return Math.max(ob,rb);Math.max(ob,rb)==ob?ob=hb:rb=hb},qb=G.rows,Ub=null!=G.cols?G.cols:G.columns;if(null!=qb&&null!=Ub)ob=qb,rb=Ub;else if(null!=qb&&null==Ub)ob=qb,rb=Math.ceil(ca/ob);else if(null==qb&&null!=Ub)rb=Ub,ob=Math.ceil(ca/rb);else if(rb*ob>ca)qb=ya(),Ub=Fb(),(qb-1)*Ub>=ca?ya(qb-1):(Ub-1)*qb>=ca&&Fb(Ub-1);else for(;rb*ob<ca;)qb=ya(),Ub=Fb(),(Ub+1)*qb>=ca?Fb(Ub+1):ya(qb+1);var Zb=ab.w/rb,Ec=ab.h/ob;G.condense&&(Ec=Zb=0);if(G.avoidOverlap)for(ca=0;ca<Ka.length;ca++){ya=Ka[ca];Fb=ya._private.position;
if(null==Fb.x||null==Fb.y)Fb.x=0,Fb.y=0;ya=ya.layoutDimensions(G);Fb=G.avoidOverlapPadding;qb=ya.h+Fb;Zb=Math.max(Zb,ya.w+Fb);Ec=Math.max(Ec,qb)}var n={},Q=0,ta=0,pa=function(){ta++;ta>=rb&&(ta=0,Q++)},Oa={};for(ca=0;ca<Ka.length;ca++)if(ya=Ka[ca],(Fb=G.position(ya))&&(void 0!==Fb.row||void 0!==Fb.col)){Fb={row:Fb.row,col:Fb.col};if(void 0===Fb.col)for(Fb.col=0;n["c-"+Fb.row+"-"+Fb.col];)Fb.col++;else if(void 0===Fb.row)for(Fb.row=0;n["c-"+Fb.row+"-"+Fb.col];)Fb.row++;Oa[ya.id()]=Fb;n["c-"+Fb.row+
"-"+Fb.col]=!0}Ka.layoutPositions(this,G,function(hb,yb){if(hb.locked()||hb.isParent())return!1;if(yb=Oa[hb.id()])hb=yb.col*Zb+Zb/2+ab.x1,yb=yb.row*Ec+Ec/2+ab.y1;else{for(;n["c-"+Q+"-"+ta];)pa();hb=ta*Zb+Zb/2+ab.x1;yb=Q*Ec+Ec/2+ab.y1;n["c-"+Q+"-"+ta]=!0;pa()}return{x:hb,y:yb}})}return this};var qk={ready:function(){},stop:function(){}};Xa.prototype.run=function(){var G=this.options,ca=G.eles;this.emit("layoutstart");ca.nodes().positions(function(){return{x:0,y:0}});this.one("layoutready",G.ready);
this.emit("layoutready");this.one("layoutstop",G.stop);this.emit("layoutstop");return this};Xa.prototype.stop=function(){return this};var Ji={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(G,ca){return!0},ready:void 0,stop:void 0,transform:function(G,ca){return ca}};Sa.prototype.run=function(){var G=this.options,ca=G.eles.nodes(),ya=jc(G.positions);ca.layoutPositions(this,G,function(Ka,ab){null==G.positions?
(ab=Ka.position(),ab={x:ab.x,y:ab.y}):ya?ab=G.positions(Ka):(ab=G.positions[Ka._private.data.id],ab=null==ab?null:ab);return Ka.locked()||null==ab?!1:ab});return this};var lj={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(G,ca){return!0},ready:void 0,stop:void 0,transform:function(G,ca){return ca}};eb.prototype.run=function(){var G=this.options,ca=G.cy,ya=G.eles,Ka=be(G.boundingBox?G.boundingBox:{x1:0,y1:0,w:ca.width(),h:ca.height()});
ya.nodes().layoutPositions(this,G,function(ab,ob){return{x:Ka.x1+Math.round(Math.random()*Ka.w),y:Ka.y1+Math.round(Math.random()*Ka.h)}});return this};var Yj=[{name:"breadthfirst",impl:ja},{name:"circle",impl:Ba},{name:"concentric",impl:Ga},{name:"cose",impl:ua},{name:"grid",impl:Fa},{name:"null",impl:Xa},{name:"preset",impl:Sa},{name:"random",impl:eb}],vj=function(){},Tj=function(){throw Error("A headless instance can not render images");};Va.prototype={recalculateRenderedStyle:vj,notify:function(){this.notifications++},
init:vj,isHeadless:function(){return!0},png:Tj,jpg:Tj};var Ag={calculateArrowAngles:function(G){G=G._private.rscratch;var ca="haystack"===G.edgeType,ya="bezier"===G.edgeType,Ka="multibezier"===G.edgeType,ab="segments"===G.edgeType,ob="compound"===G.edgeType,rb="self"===G.edgeType;if(ca){var Fb=G.haystackPts[0];var qb=G.haystackPts[1];var Ub=G.haystackPts[2];var Zb=G.haystackPts[3]}else Fb=G.arrowStartX,qb=G.arrowStartY,Ub=G.arrowEndX,Zb=G.arrowEndY;var Ec=G.midX;var n=G.midY;if(ab){var Q=Fb-G.segpts[0];
var ta=qb-G.segpts[1]}else if(Ka||ob||rb||ya){var pa=G.allpts;Ec=dh(pa[0],pa[2],pa[4],.1);pa=dh(pa[1],pa[3],pa[5],.1);Q=Fb-Ec;ta=qb-pa}else Q=Fb-Ec,ta=qb-n;G.srcArrowAngle=Math.atan2(ta,Q)-Math.PI/2;Ec=G.midX;n=G.midY;ca&&(Ec=(Fb+Ub)/2,n=(qb+Zb)/2);Q=Ub-Fb;ta=Zb-qb;if(ab)pa=G.allpts,0===pa.length/2%2?(ca=pa.length/2,Fb=ca-2):(ca=pa.length/2-1,Fb=ca-2),Q=pa[ca]-pa[Fb],ta=pa[ca+1]-pa[Fb+1];else if(Ka||ob||rb){pa=G.allpts;if(0===G.ctrlpts.length/2%2){qb=pa.length/2-1;ta=qb+2;var Oa=ta+2;Q=dh(pa[qb],
pa[ta],pa[Oa],0);ca=dh(pa[qb+1],pa[ta+1],pa[Oa+1],0);Fb=dh(pa[qb],pa[ta],pa[Oa],1E-4);pa=dh(pa[qb+1],pa[ta+1],pa[Oa+1],1E-4)}else ta=pa.length/2-1,qb=ta-2,Oa=ta+2,Q=dh(pa[qb],pa[ta],pa[Oa],.4999),ca=dh(pa[qb+1],pa[ta+1],pa[Oa+1],.4999),Fb=dh(pa[qb],pa[ta],pa[Oa],.5),pa=dh(pa[qb+1],pa[ta+1],pa[Oa+1],.5);Q=Fb-Q;ta=pa-ca}G.midtgtArrowAngle=Math.atan2(ta,Q)-Math.PI/2;G.midDispX=Q;G.midDispY=ta;Q*=-1;ta*=-1;ab&&(pa=G.allpts,0!==pa.length/2%2&&(ca=pa.length/2-1,Fb=ca+2,Q=-(pa[Fb]-pa[ca]),ta=-(pa[Fb+1]-
pa[ca+1])));G.midsrcArrowAngle=Math.atan2(ta,Q)-Math.PI/2;ab?(Q=Ub-G.segpts[G.segpts.length-2],ta=Zb-G.segpts[G.segpts.length-1]):Ka||ob||rb||ya?(pa=G.allpts,ya=pa.length,Ec=dh(pa[ya-6],pa[ya-4],pa[ya-2],.9),pa=dh(pa[ya-5],pa[ya-3],pa[ya-1],.9),Q=Ub-Ec,ta=Zb-pa):(Q=Ub-Ec,ta=Zb-n);G.tgtArrowAngle=Math.atan2(ta,Q)-Math.PI/2}};Ag.getArrowWidth=Ag.getArrowHeight=function(G,ca){var ya=this.arrowWidthCache=this.arrowWidthCache||{},Ka=ya[G+", "+ca];if(Ka)return Ka;Ka=Math.max(Math.pow(13.37*G,.9),29)*ca;
return ya[G+", "+ca]=Ka};var ti={recalculateNodeLabelProjection:function(G){var ca=G.pstyle("label").strValue;if(!bd(ca)){var ya=G._private;var Ka=G.width();var ab=G.height();var ob=G.padding(),rb=G.position(),Fb=G.pstyle("text-halign").strValue,qb=G.pstyle("text-valign").strValue;ca=ya.rscratch;ya=ya.rstyle;switch(Fb){case "left":Ka=rb.x-Ka/2-ob;break;case "right":Ka=rb.x+Ka/2+ob;break;default:Ka=rb.x}switch(qb){case "top":ab=rb.y-ab/2-ob;break;case "bottom":ab=rb.y+ab/2+ob;break;default:ab=rb.y}ca.labelX=
Ka;ca.labelY=ab;ya.labelX=Ka;ya.labelY=ab;this.calculateLabelAngles(G);this.applyLabelDimensions(G)}}},$h=function(G,ca){ca=Math.atan(ca/G);0===G&&0>ca&&(ca*=-1);return ca};ti.recalculateEdgeLabelProjections=function(G){var ca=G._private,ya=ca.rscratch,Ka=this,ab={mid:G.pstyle("label").strValue,source:G.pstyle("source-label").strValue,target:G.pstyle("target-label").strValue};if(ab.mid||ab.source||ab.target){var ob={x:ya.midX,y:ya.midY};var rb=function(Ub,Zb,Ec){hg(ca.rscratch,Ub,Zb,Ec);hg(ca.rstyle,
Ub,Zb,Ec)};rb("labelX",null,ob.x);rb("labelY",null,ob.y);var Fb=$h(ya.midDispX,ya.midDispY);rb("labelAutoAngle",null,Fb);var qb=function Zb(){function Ec(yb,Kb,ic,Bc,Lc){var gd=Jf(Kb,ic),Dd=yb.segments[yb.segments.length-1];yb.segments.push({p0:Kb,p1:ic,t0:Bc,t1:Lc,startDist:Dd?Dd.startDist+Dd.length:0,length:gd});yb.length+=gd}if(Zb.cache)return Zb.cache;for(var n=[],Q=0;Q+5<ya.allpts.length;Q+=4)n.push({p0:{x:ya.allpts[Q],y:ya.allpts[Q+1]},p1:{x:ya.allpts[Q+2],y:ya.allpts[Q+3]},p2:{x:ya.allpts[Q+
4],y:ya.allpts[Q+5]},startDist:0,length:0,segments:[]});Q=ca.rstyle.bezierPts;for(var ta=Ka.bezierProjPcts.length,pa=0;pa<n.length;pa++){var Oa=n[pa],hb=n[pa-1];hb&&(Oa.startDist=hb.startDist+hb.length);Ec(Oa,Oa.p0,Q[pa*ta],0,Ka.bezierProjPcts[0]);for(hb=0;hb<ta-1;hb++)Ec(Oa,Q[pa*ta+hb],Q[pa*ta+hb+1],Ka.bezierProjPcts[hb],Ka.bezierProjPcts[hb+1]);Ec(Oa,Q[pa*ta+ta-1],Oa.p2,Ka.bezierProjPcts[ta-1],1)}return Zb.cache=n};Fb=function(Zb){var Ec="source"===Zb;if(ab[Zb]){var n=G.pstyle(Zb+"-text-offset").pfValue;
switch(ya.edgeType){case "self":case "compound":case "bezier":case "multibezier":for(var Q=qb(),ta,pa=0,Oa=0,hb=0;hb<Q.length;hb++){var yb=Q[Ec?hb:Q.length-1-hb];for(var Kb=0;Kb<yb.segments.length;Kb++){var ic=yb.segments[Ec?Kb:yb.segments.length-1-Kb],Bc=hb===Q.length-1&&Kb===yb.segments.length-1;pa=Oa;Oa+=ic.length;if(Oa>=n||Bc){ta={cp:yb,segment:ic};break}}if(ta)break}Q=ta.cp;ta=ta.segment;n=(n-pa)/ta.length;pa=ta.t1-ta.t0;ta=Ec?ta.t0+pa*n:ta.t1-pa*n;ta=Yf(0,ta,1);ob=Zg(Q.p0,Q.p1,Q.p2,ta);Ec=Q.p0;
n=Q.p1;pa=Q.p2;Q=Yf(0,ta-.001,1);ta=Yf(0,ta+.001,1);Q=Zg(Ec,n,pa,Q);Ec=Zg(Ec,n,pa,ta);yb=$h(Ec.x-Q.x,Ec.y-Q.y);break;case "straight":case "segments":case "haystack":ta=0;yb=ya.allpts.length;for(Kb=0;Kb+3<yb&&!(Ec?(pa={x:ya.allpts[Kb],y:ya.allpts[Kb+1]},Q={x:ya.allpts[Kb+2],y:ya.allpts[Kb+3]}):(pa={x:ya.allpts[yb-2-Kb],y:ya.allpts[yb-1-Kb]},Q={x:ya.allpts[yb-4-Kb],y:ya.allpts[yb-3-Kb]}),Oa=Jf(pa,Q),hb=ta,ta+=Oa,ta>=n);Kb+=2);n=Yf(0,(n-hb)/Oa,1);Ec=pa;ta=void 0;Oa=Q.x-Ec.x;hb=Q.y-Ec.y;yb=Jf(Ec,Q);ta=
null!=ta?ta:(null==n?0:n)*yb;ob={x:Ec.x+Oa/yb*ta,y:Ec.y+hb/yb*ta};yb=$h(Q.x-pa.x,Q.y-pa.y)}rb("labelX",Zb,ob.x);rb("labelY",Zb,ob.y);rb("labelAutoAngle",Zb,yb)}};Fb("source");Fb("target");this.applyLabelDimensions(G)}};ti.applyLabelDimensions=function(G){this.applyPrefixedLabelDimensions(G);G.isEdge()&&(this.applyPrefixedLabelDimensions(G,"source"),this.applyPrefixedLabelDimensions(G,"target"))};ti.applyPrefixedLabelDimensions=function(G,ca){var ya=G._private,Ka=this.getLabelText(G,ca);Ka=this.calculateLabelDimensions(G,
Ka);var ab=G.pstyle("line-height").pfValue;G=G.pstyle("text-wrap").strValue;var ob=If(ya.rscratch,"labelWrapCachedLines",ca)||[],rb="wrap"!==G?1:Math.max(ob.length,1),Fb=Ka.height/rb;G=Fb*ab;ob=Ka.width;Ka=Ka.height+(rb-1)*(ab-1)*Fb;hg(ya.rstyle,"labelWidth",ca,ob);hg(ya.rscratch,"labelWidth",ca,ob);hg(ya.rstyle,"labelHeight",ca,Ka);hg(ya.rscratch,"labelHeight",ca,Ka);hg(ya.rscratch,"labelLineHeight",ca,G)};ti.getLabelText=function(G,ca){var ya=G._private,Ka=G.pstyle((ca?ca+"-":"")+"label").strValue,
ab=G.pstyle("text-transform").value,ob=function(Oa,hb){return hb?(hg(ya.rscratch,Oa,ca,hb),hb):If(ya.rscratch,Oa,ca)};if(!Ka)return"";"none"!=ab&&("uppercase"==ab?Ka=Ka.toUpperCase():"lowercase"==ab&&(Ka=Ka.toLowerCase()));ab=G.pstyle("text-wrap").value;if("wrap"===ab){ab=ob("labelKey");if(null!=ab&&ob("labelWrapKey")===ab)return ob("labelWrapCachedText");Ka=Ka.split("\n");for(var rb=G.pstyle("text-max-width").pfValue,Fb="anywhere"===G.pstyle("text-overflow-wrap").value,qb=[],Ub=/[\s\u200b]+/,Zb=
Fb?"":" ",Ec=0;Ec<Ka.length;Ec++){var n=Ka[Ec],Q=this.calculateLabelDimensions(G,n).width;Fb&&(n=n.split("").join("​"));if(Q>rb){n=n.split(Ub);Q="";for(var ta=0;ta<n.length;ta++){var pa=n[ta];this.calculateLabelDimensions(G,0===Q.length?pa:Q+Zb+pa).width<=rb?Q+=pa+Zb:(Q&&qb.push(Q),Q=pa+Zb)}Q.match(/^[\s\u200b]+$/)||qb.push(Q)}else qb.push(n)}ob("labelWrapCachedLines",qb);Ka=ob("labelWrapCachedText",qb.join("\n"));ob("labelWrapKey",ab)}else if("ellipsis"===ab){ob=G.pstyle("text-max-width").pfValue;
ab="";rb=!1;if(this.calculateLabelDimensions(G,Ka).width<ob)return Ka;for(Fb=0;Fb<Ka.length&&!(this.calculateLabelDimensions(G,ab+Ka[Fb]+"…").width>ob);Fb++)ab+=Ka[Fb],Fb===Ka.length-1&&(rb=!0);rb||(ab+="…");return ab}return Ka};ti.getLabelJustification=function(G){var ca=G.pstyle("text-justification").strValue,ya=G.pstyle("text-halign").strValue;if("auto"===ca)if(G.isNode())switch(ya){case "left":return"right";case "right":return"left";default:return"center"}else return"center";else return ca};ti.calculateLabelDimensions=
function(G,ca){var ya=Oc(ca,G._private.labelDimsKey),Ka=this.labelDimCache||(this.labelDimCache=[]),ab=Ka[ya];if(null!=ab)return ab;var ob=G.pstyle("font-style").strValue;ab=G.pstyle("font-size").pfValue;var rb=G.pstyle("font-family").strValue,Fb=G.pstyle("font-weight").strValue,qb=this.labelCalcCanvas;G=this.labelCalcCanvasContext;qb||(qb=this.labelCalcCanvas=document.createElement("canvas"),G=this.labelCalcCanvasContext=qb.getContext("2d"),qb=qb.style,qb.position="absolute",qb.left="-9999px",qb.top=
"-9999px",qb.zIndex="-1",qb.visibility="hidden",qb.pointerEvents="none");G.font="".concat(ob," ").concat(Fb," ").concat(ab,"px ").concat(rb);rb=ob=0;ca=ca.split("\n");for(Fb=0;Fb<ca.length;Fb++){qb=G.measureText(ca[Fb]);var Ub=ab;ob=Math.max(Math.ceil(qb.width),ob);rb+=Ub}return Ka[ya]={width:ob+0,height:rb+0}};ti.calculateLabelAngle=function(G,ca){var ya=G._private.rscratch,Ka=G.isEdge();G=G.pstyle((ca?ca+"-":"")+"text-rotation");ca=G.strValue;return"none"===ca?0:Ka&&"autorotate"===ca?ya.labelAutoAngle:
"autorotate"===ca?0:G.pfValue};ti.calculateLabelAngles=function(G){var ca=G.isEdge(),ya=G._private.rscratch;ya.labelAngle=this.calculateLabelAngle(G);ca&&(ya.sourceLabelAngle=this.calculateLabelAngle(G,"source"),ya.targetLabelAngle=this.calculateLabelAngle(G,"target"))};var Eh={},Ck=!1;Eh.getNodeShape=function(G){var ca=G.pstyle("shape").value;return"cutrectangle"===ca&&(28>G.width()||28>G.height())?(Ck||(Je("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),
Ck=!0),"rectangle"):G.isParent()?"rectangle"===ca||"roundrectangle"===ca||"round-rectangle"===ca||"cutrectangle"===ca||"cut-rectangle"===ca||"barrel"===ca?ca:"rectangle":"polygon"===ca?(G=G.pstyle("shape-polygon-points").value,this.nodeShapes.makePolygon(G).name):ca};var jk={};[{projectIntoViewport:function(G,ca){var ya=this.cy,Ka=this.findContainerClientCoords(),ab=Ka[0],ob=Ka[1];Ka=Ka[4];var rb=ya.pan();ya=ya.zoom();return[((G-ab)/Ka-rb.x)/ya,((ca-ob)/Ka-rb.y)/ya]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;
var G=this.container,ca=G.getBoundingClientRect(),ya=bb.getComputedStyle(G),Ka=function(Ec){return parseFloat(ya.getPropertyValue(Ec))},ab=Ka("padding-left"),ob=Ka("padding-right"),rb=Ka("padding-top"),Fb=Ka("padding-bottom"),qb=Ka("border-left-width"),Ub=Ka("border-right-width"),Zb=Ka("border-top-width");Ka("border-bottom-width");Ka=G.clientWidth;return this.containerBB=[ca.left+ab+qb,ca.top+rb+Zb,Ka-(ab+ob),G.clientHeight-(rb+Fb),ca.width/(Ka+(qb+Ub))]},invalidateContainerClientCoordsCache:function(){this.containerBB=
null},findNearestElement:function(G,ca,ya,Ka){return this.findNearestElements(G,ca,ya,Ka)[0]},findNearestElements:function(G,ca,ya,Ka){function ab(ic,Bc){if(ic.isNode()){if(Kb)return;Kb=ic;Ec.push(ic)}if(ic.isEdge()&&(null==Bc||Bc<hb))if(yb){if(yb.pstyle("z-compound-depth").value===ic.pstyle("z-compound-depth").value&&yb.pstyle("z-compound-depth").value===ic.pstyle("z-compound-depth").value)for(var Lc=0;Lc<Ec.length;Lc++)if(Ec[Lc].isEdge()){yb=Ec[Lc]=ic;hb=null!=Bc?Bc:hb;break}}else Ec.push(ic),yb=
ic,hb=null!=Bc?Bc:hb}function ob(ic){var Bc=ic.outerWidth()+2*pa,Lc=ic.outerHeight()+2*pa,gd=Bc/2,Dd=Lc/2,Jd=ic.position();if(Jd.x-gd<=G&&G<=Jd.x+gd&&Jd.y-Dd<=ca&&ca<=Jd.y+Dd&&Ub.nodeShapes[qb.getNodeShape(ic)].checkPoint(G,ca,0,Bc,Lc,Jd.x,Jd.y))return ab(ic,0),!0}function rb(ic){var Bc=ic._private,Lc=Bc.rscratch,gd=ic.pstyle("width").pfValue,Dd=ic.pstyle("arrow-scale").value,Jd=gd/2+ta,se=Jd*Jd,cf=2*Jd;Jd=Bc.source;var lf=Bc.target;if("segments"===Lc.edgeType||"straight"===Lc.edgeType||"haystack"===
Lc.edgeType)for(var Hf=Lc.allpts,ff=0;ff+3<Hf.length;ff+=2){var Ff=Hf[ff],lg=Hf[ff+1],ag=Hf[ff+2],ig=Hf[ff+3],Mf=cf,cg=Math.max(Ff,ag),Of=Math.min(lg,ig);lg=Math.max(lg,ig);if(Ff=Math.min(Ff,ag)-Mf<=G&&G<=cg+Mf&&Of-Mf<=ca&&ca<=lg+Mf){Mf=Hf[ff];cg=Hf[ff+1];var Fg=Hf[ff+2];Ff=Hf[ff+3];ag=[G-Mf,ca-cg];Of=[Fg-Mf,Ff-cg];Mf=Of[0]*Of[0]+Of[1]*Of[1];cg=ag[0]*ag[0]+ag[1]*ag[1];ag=ag[0]*Of[0]+ag[1]*Of[1];Of=ag*ag/Mf;Fg=0>ag?cg:Of>Mf?(G-Fg)*(G-Fg)+(ca-Ff)*(ca-Ff):cg-Of;Ff=se>Fg}if(Ff)return ab(ic,Fg),!0}else if("bezier"===
Lc.edgeType||"multibezier"===Lc.edgeType||"self"===Lc.edgeType||"compound"===Lc.edgeType)for(Hf=Lc.allpts,ff=0;ff+5<Lc.allpts.length;ff+=4){Ff=Hf[ff];lg=Hf[ff+1];ag=Hf[ff+2];ig=Hf[ff+3];Mf=Hf[ff+4];var Rg=Hf[ff+5];cg=Math.max(Ff,Mf,ag)+cf;Of=Math.min(lg,Rg,ig)-cf;lg=Math.max(lg,Rg,ig)+cf;Ff=G<Math.min(Ff,Mf,ag)-cf||G>cg||ca<Of||ca>lg?!1:!0;if(Ff){Fg=G;Ff=ca;ag=Hf[ff];Mf=Hf[ff+1];cg=Hf[ff+2];Of=Hf[ff+3];lg=Hf[ff+4];ig=Hf[ff+5];Rg=[];var Bg=1*ag*ag-4*ag*cg+2*ag*lg+4*cg*cg-4*cg*lg+lg*lg+Mf*Mf-4*Mf*Of+
2*Mf*ig+4*Of*Of-4*Of*ig+ig*ig;var Eg=9*ag*cg-3*ag*ag-3*ag*lg-6*cg*cg+3*cg*lg+9*Mf*Of-3*Mf*Mf-3*Mf*ig-6*Of*Of+3*Of*ig;var xi=3*ag*ag-6*ag*cg+ag*lg-ag*Fg+2*cg*cg+2*cg*Fg-lg*Fg+3*Mf*Mf-6*Mf*Of+Mf*ig-Mf*Ff+2*Of*Of+2*Of*Ff-ig*Ff;var rh=Rg;0===Bg&&(Bg=1E-5);Eg/=Bg;xi/=Bg;var ih=(3*xi-Eg*Eg)/9;Bg=-((1*ag*cg-ag*ag+ag*Fg-cg*Fg+Mf*Of-Mf*Mf+Mf*Ff-Of*Ff)/Bg*27)+Eg*(9*xi-2*Eg*Eg);Bg/=54;xi=ih*ih*ih+Bg*Bg;rh[1]=0;Eg/=3;0<xi?(ih=Bg+Math.sqrt(xi),ih=0>ih?-Math.pow(-ih,1/3):Math.pow(ih,1/3),Bg-=Math.sqrt(xi),Bg=0>
Bg?-Math.pow(-Bg,1/3):Math.pow(Bg,1/3),rh[0]=-Eg+ih+Bg,rh[4]=rh[2]=-(Eg+(ih+Bg)/2),Eg=Math.sqrt(3)*(-Bg+ih)/2,rh[3]=Eg,rh[5]=-Eg):(rh[5]=rh[3]=0,0===xi?(ih=0>Bg?-Math.pow(-Bg,1/3):Math.pow(Bg,1/3),rh[0]=-Eg+2*ih,rh[4]=rh[2]=-(ih+Eg)):(ih=-ih,Bg=Math.acos(Bg/Math.sqrt(ih*ih*ih)),ih=2*Math.sqrt(ih),rh[0]=-Eg+ih*Math.cos(Bg/3),rh[2]=-Eg+ih*Math.cos((Bg+2*Math.PI)/3),rh[4]=-Eg+ih*Math.cos((Bg+4*Math.PI)/3)));rh=[];for(Eg=0;6>Eg;Eg+=2)1E-7>Math.abs(Rg[Eg+1])&&0<=Rg[Eg]&&1>=Rg[Eg]&&rh.push(Rg[Eg]);rh.push(1);
rh.push(0);Rg=-1;for(Eg=0;Eg<rh.length;Eg++)Bg=Math.pow(1-rh[Eg],2)*ag+2*(1-rh[Eg])*rh[Eg]*cg+rh[Eg]*rh[Eg]*lg,ih=Math.pow(1-rh[Eg],2)*Mf+2*(1-rh[Eg])*rh[Eg]*Of+rh[Eg]*rh[Eg]*ig,ih=Math.pow(Bg-Fg,2)+Math.pow(ih-Ff,2),0<=Rg?ih<Rg&&(Rg=ih):Rg=ih;Ff=se>(Fg=Rg)}if(Ff)return ab(ic,Fg),!0}Jd=Jd||Bc.source;lf=lf||Bc.target;Bc=qb.getArrowWidth(gd,Dd);Lc=[{name:"source",x:Lc.arrowStartX,y:Lc.arrowStartY,angle:Lc.srcArrowAngle},{name:"target",x:Lc.arrowEndX,y:Lc.arrowEndY,angle:Lc.tgtArrowAngle},{name:"mid-source",
x:Lc.midX,y:Lc.midY,angle:Lc.midsrcArrowAngle},{name:"mid-target",x:Lc.midX,y:Lc.midY,angle:Lc.midtgtArrowAngle}];for(ff=0;ff<Lc.length;ff++)if(gd=Lc[ff],Dd=Ub.arrowShapes[ic.pstyle(gd.name+"-arrow-shape").value],se=ic.pstyle("width").pfValue,Dd.roughCollide(G,ca,Bc,gd.angle,{x:gd.x,y:gd.y},se,ta)&&Dd.collide(G,ca,Bc,gd.angle,{x:gd.x,y:gd.y},se,ta))return ab(ic),!0;Q&&0<Ec.length&&(ob(Jd),ob(lf))}function Fb(ic,Bc){var Lc=ic._private,gd=Oa;var Dd=Bc?Bc+"-":"";ic.boundingBox();var Jd=Lc.labelBounds[Bc||
"main"],se=ic.pstyle(Dd+"label").value;if("yes"===ic.pstyle("text-events").strValue&&se){var cf=If(Lc.rscratch,"labelX",Bc),lf=If(Lc.rscratch,"labelY",Bc),Hf=If(Lc.rscratch,"labelAngle",Bc);Bc=ic.pstyle(Dd+"text-margin-x").pfValue;Dd=ic.pstyle(Dd+"text-margin-y").pfValue;var ff=Jd.x1-gd-Bc;Lc=Jd.x2+gd-Bc;se=Jd.y1-gd-Dd;gd=Jd.y2+gd-Dd;if(Hf){var Ff=Math.cos(Hf),lg=Math.sin(Hf);Hf=function(ag,ig){ag-=cf;ig-=lf;return{x:ag*Ff-ig*lg+cf,y:ag*lg+ig*Ff+lf}};Jd=Hf(ff,se);ff=Hf(ff,gd);se=Hf(Lc,se);Lc=Hf(Lc,
gd);if(Pc(G,ca,[Jd.x+Bc,Jd.y+Dd,se.x+Bc,se.y+Dd,Lc.x+Bc,Lc.y+Dd,ff.x+Bc,ff.y+Dd]))return ab(ic),!0}else if(Cb(Jd,G,ca))return ab(ic),!0}}var qb=this,Ub=this,Zb=Ub.getCachedZSortedEles(),Ec=[],n=Ub.cy.zoom(),Q=Ub.cy.hasCompoundNodes(),ta=(Ka?24:8)/n,pa=(Ka?8:2)/n,Oa=(Ka?8:2)/n,hb=Infinity,yb,Kb;ya&&(Zb=Zb.interactive);for(ya=Zb.length-1;0<=ya;ya--)Ka=Zb[ya],Ka.isNode()?ob(Ka)||Fb(Ka):rb(Ka)||Fb(Ka)||Fb(Ka,"source")||Fb(Ka,"target");return Ec},getAllInBox:function(G,ca,ya,Ka){var ab=this.getCachedZSortedEles().interactive,
ob=[];G=be({x1:Math.min(G,ya),y1:Math.min(ca,Ka),x2:Math.max(G,ya),y2:Math.max(ca,Ka)});for(ca=0;ca<ab.length;ca++)if(ya=ab[ca],ya.isNode())Ka=ya.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1}),Ya(G,Ka)&&!fc(Ka,G)&&ob.push(ya);else{Ka=ya._private;var rb=Ka.rscratch;if(null==rb.startX||null==rb.startY||Cb(G,rb.startX,rb.startY))if(null==rb.endX||null==rb.endY||Cb(G,rb.endX,rb.endY))if("bezier"===rb.edgeType||"multibezier"===rb.edgeType||"self"===rb.edgeType||"compound"===rb.edgeType||
"segments"===rb.edgeType||"haystack"===rb.edgeType){Ka=Ka.rstyle.bezierPts||Ka.rstyle.linePts||Ka.rstyle.haystackPts;rb=!0;for(var Fb=0;Fb<Ka.length;Fb++){var qb=Ka[Fb];if(!Cb(G,qb.x,qb.y)){rb=!1;break}}rb&&ob.push(ya)}else"haystack"!==rb.edgeType&&"straight"!==rb.edgeType||ob.push(ya)}return ob}},Ag,{findHaystackPoints:function(G){for(var ca=0;ca<G.length;ca++){var ya=G[ca],Ka=ya._private,ab=Ka.rscratch;if(!ab.haystack){var ob=2*Math.random()*Math.PI;ab.source={x:Math.cos(ob),y:Math.sin(ob)};ob=
2*Math.random()*Math.PI;ab.target={x:Math.cos(ob),y:Math.sin(ob)}}var rb=Ka.source,Fb=Ka.target;Ka=rb.position();ob=Fb.position();var qb=rb.width(),Ub=Fb.width();rb=rb.height();Fb=Fb.height();var Zb=ya.pstyle("haystack-radius").value/2;ab.haystackPts=ab.allpts=[ab.source.x*qb*Zb+Ka.x,ab.source.y*rb*Zb+Ka.y,ab.target.x*Ub*Zb+ob.x,ab.target.y*Fb*Zb+ob.y];ab.midX=(ab.allpts[0]+ab.allpts[2])/2;ab.midY=(ab.allpts[1]+ab.allpts[3])/2;ab.edgeType="haystack";ab.haystack=!0;this.storeEdgeProjections(ya);this.calculateArrowAngles(ya);
this.recalculateEdgeLabelProjections(ya);this.calculateLabelAngles(ya)}},findSegmentsPoints:function(G,ca){var ya=G._private.rscratch,Ka=ca.posPts,ab=ca.intersectionPts;ca=ca.vectorNormInverse;var ob=G.pstyle("edge-distances").value,rb=G.pstyle("segment-weights");G=G.pstyle("segment-distances");var Fb=Math.min(rb.pfValue.length,G.pfValue.length);ya.edgeType="segments";ya.segpts=[];for(var qb=0;qb<Fb;qb++){var Ub=rb.pfValue[qb],Zb=G.pfValue[qb],Ec=1-Ub,n="node-position"===ob?Ka:ab;ya.segpts.push(n.x1*
Ec+n.x2*Ub+ca.x*Zb,n.y1*Ec+n.y2*Ub+ca.y*Zb)}},findLoopPoints:function(G,ca,ya,Ka){ya=G._private.rscratch;var ab=ca.dirCounts;ca=ca.srcPos;var ob=G.pstyle("control-point-distances"),rb=ob?ob.pfValue[0]:void 0;ob=G.pstyle("loop-direction").pfValue;var Fb=G.pstyle("loop-sweep").pfValue;G=G.pstyle("control-point-step-size").pfValue;ya.edgeType="self";Ka&&(G=rb);rb=ob-Math.PI/2;Ka=rb-Fb/2;rb+=Fb/2;ob=String(ob+"_"+Fb);ab=void 0===ab[ob]?ab[ob]=0:++ab[ob];ya.ctrlpts=[ca.x+1.4*Math.cos(Ka)*G*(ab/3+1),ca.y+
1.4*Math.sin(Ka)*G*(ab/3+1),ca.x+1.4*Math.cos(rb)*G*(ab/3+1),ca.y+1.4*Math.sin(rb)*G*(ab/3+1)]},findCompoundLoopPoints:function(G,ca,ya,Ka){var ab=G._private.rscratch;ab.edgeType="compound";var ob=ca.srcPos,rb=ca.tgtPos,Fb=ca.srcW,qb=ca.srcH,Ub=ca.tgtW;ca=ca.tgtH;var Zb=G.pstyle("control-point-step-size").pfValue;G=(G=G.pstyle("control-point-distances"))?G.pfValue[0]:void 0;Ka&&(ya=0,Zb=G);Ka=Math.min(ob.x-Fb/2,rb.x-Ub/2);ob=Math.min(ob.y-qb/2,rb.y-ca/2);ab.ctrlpts=[Ka,ob-(1+Math.pow(50,1.12)/100)*
Zb*(ya/3+1)*Math.max(.5,Math.log(.01*Fb)),Ka-(1+Math.pow(50,1.12)/100)*Zb*(ya/3+1)*Math.max(.5,Math.log(.01*Ub)),ob]},findStraightEdgePoints:function(G){G._private.rscratch.edgeType="straight"},findBezierPoints:function(G,ca,ya,Ka,ab){var ob=G._private.rscratch,rb=ca.vectorNormInverse,Fb=ca.posPts,qb=ca.intersectionPts,Ub=G.pstyle("edge-distances").value,Zb=G.pstyle("control-point-step-size").pfValue,Ec=G.pstyle("control-point-distances");G=G.pstyle("control-point-weights");var n=Ec&&G?Math.min(Ec.value.length,
G.value.length):1,Q=Ec?Ec.pfValue[0]:void 0,ta=G.value[0];ob.edgeType=Ka?"multibezier":"bezier";ob.ctrlpts=[];for(var pa=0;pa<n;pa++){var Oa=(.5-ca.eles.length/2+ya)*Zb*(ab?-1:1);var hb=0<Oa?1:0>Oa?-1:0;Ka&&(Q=Ec?Ec.pfValue[pa]:Zb,ta=G.value[pa]);hb=Ka?Q:void 0!==Q?hb*Q:void 0;Oa=void 0!==hb?hb:Oa;hb=1-ta;var yb=ta,Kb="node-position"===Ub?Fb:qb;ob.ctrlpts.push(Kb.x1*hb+Kb.x2*yb+rb.x*Oa,Kb.y1*hb+Kb.y2*yb+rb.y*Oa)}},findTaxiPoints:function(G,ca){var ya=G._private.rscratch;ya.edgeType="segments";var Ka=
ca.posPts,ab=ca.srcW,ob=ca.srcH,rb=ca.tgtW;ca=ca.tgtH;var Fb="node-position"!==G.pstyle("edge-distances").value,qb=G.pstyle("taxi-direction").value,Ub=qb,Zb=G.pstyle("taxi-turn"),Ec="%"===Zb.units,n=Zb.pfValue,Q=0>n,ta=G.pstyle("taxi-turn-min-distance").pfValue,pa=Fb?(ob+ca)/2:0;G=Ka.x2-Ka.x1;Zb=Ka.y2-Ka.y1;var Oa=function(ic,Bc){return 0<ic?Math.max(ic-Bc,0):Math.min(ic+Bc,0)},hb=Oa(G,Fb?(ab+rb)/2:0);pa=Oa(Zb,pa);var yb=!1;if("auto"===Ub)qb=Math.abs(hb)>Math.abs(pa)?"horizontal":"vertical";else if("upward"===
Ub||"downward"===Ub)qb="vertical",yb=!0;else if("leftward"===Ub||"rightward"===Ub)qb="horizontal",yb=!0;var Kb=(qb="vertical"===qb)?pa:hb;hb=qb?Zb:G;pa=0<hb?1:0>hb?-1:0;Oa=!1;yb&&(Ec||Q)||!("downward"===Ub&&0>hb||"upward"===Ub&&0<hb||"leftward"===Ub&&0<hb||"rightward"===Ub&&0>hb)||(pa*=-1,Kb=pa*Math.abs(Kb),Oa=!0);Ub=Ec?(0>n?1+n:n)*Kb:(0>n?Kb:0)+n*pa;n=function(ic){return Math.abs(ic)<ta||Math.abs(ic)>=Math.abs(Kb)};Ec=n(Ub);n=n(Math.abs(Kb)-Math.abs(Ub));!Ec&&!n||Oa?qb?(ab=Ka.y1+Ub+(Fb?ob/2*pa:0),
ya.segpts=[Ka.x1,ab,Ka.x2,ab]):(ab=Ka.x1+Ub+(Fb?ab/2*pa:0),ya.segpts=[ab,Ka.y1,ab,Ka.y2]):qb?(ab=Math.abs(G)<=rb/2,Math.abs(hb)<=ob/2?(ab=(Ka.x1+Ka.x2)/2,ya.segpts=[ab,Ka.y1,ab,Ka.y2]):ab?(ab=(Ka.y1+Ka.y2)/2,ya.segpts=[Ka.x1,ab,Ka.x2,ab]):ya.segpts=[Ka.x1,Ka.y2]):(ob=Math.abs(Zb)<=ca/2,Math.abs(hb)<=ab/2?(ab=(Ka.y1+Ka.y2)/2,ya.segpts=[Ka.x1,ab,Ka.x2,ab]):ob?(ab=(Ka.x1+Ka.x2)/2,ya.segpts=[ab,Ka.y1,ab,Ka.y2]):ya.segpts=[Ka.x2,Ka.y1])},tryToCorrectInvalidPoints:function(G,ca){var ya=G._private.rscratch;
if("bezier"===ya.edgeType){var Ka=ca.srcPos,ab=ca.tgtPos,ob=ca.srcW,rb=ca.srcH,Fb=ca.tgtW,qb=ca.tgtH,Ub=ca.srcShape,Zb=ca.tgtShape,Ec=!Rc(ya.startX)||!Rc(ya.startY),n=!Rc(ya.arrowStartX)||!Rc(ya.arrowStartY),Q=!Rc(ya.endX)||!Rc(ya.endY),ta=!Rc(ya.arrowEndX)||!Rc(ya.arrowEndY);ca=3*this.getArrowWidth(G.pstyle("width").pfValue,G.pstyle("arrow-scale").value)*this.arrowShapeWidth;var pa=Jf({x:ya.ctrlpts[0],y:ya.ctrlpts[1]},{x:ya.startX,y:ya.startY}),Oa=pa<ca,hb=Jf({x:ya.ctrlpts[0],y:ya.ctrlpts[1]},{x:ya.endX,
y:ya.endY}),yb=hb<ca,Kb=!1;if(Ec||n||Oa){Kb=!0;Ec=ya.ctrlpts[0]-Ka.x;n=ya.ctrlpts[1]-Ka.y;var ic=Math.sqrt(Ec*Ec+n*n);Ec/=ic;n/=ic;ic=Math.max(ob,rb);Ka=Ub.intersectLine(Ka.x,Ka.y,ob,rb,ya.ctrlpts[0]+2*Ec*ic,ya.ctrlpts[1]+2*n*ic,0);Oa?(ya.ctrlpts[0]+=Ec*(ca-pa),ya.ctrlpts[1]+=n*(ca-pa)):(ya.ctrlpts[0]=Ka[0]+Ec*ca,ya.ctrlpts[1]=Ka[1]+n*ca)}if(Q||ta||yb)Kb=!0,Ka=ya.ctrlpts[0]-ab.x,Ub=ya.ctrlpts[1]-ab.y,Q=Math.sqrt(Ka*Ka+Ub*Ub),Ka/=Q,Ub/=Q,ob=Math.max(ob,rb),ab=Zb.intersectLine(ab.x,ab.y,Fb,qb,ya.ctrlpts[0]+
2*Ka*ob,ya.ctrlpts[1]+2*Ub*ob,0),yb?(ya.ctrlpts[0]+=Ka*(ca-hb),ya.ctrlpts[1]+=Ub*(ca-hb)):(ya.ctrlpts[0]=ab[0]+Ka*ca,ya.ctrlpts[1]=ab[1]+Ub*ca);Kb&&this.findEndpoints(G)}},storeAllpts:function(G){G=G._private.rscratch;if("multibezier"===G.edgeType||"bezier"===G.edgeType||"self"===G.edgeType||"compound"===G.edgeType){G.allpts=[];G.allpts.push(G.startX,G.startY);for(var ca=0;ca+1<G.ctrlpts.length;ca+=2)G.allpts.push(G.ctrlpts[ca],G.ctrlpts[ca+1]),ca+3<G.ctrlpts.length&&G.allpts.push((G.ctrlpts[ca]+
G.ctrlpts[ca+2])/2,(G.ctrlpts[ca+1]+G.ctrlpts[ca+3])/2);G.allpts.push(G.endX,G.endY);0===G.ctrlpts.length/2%2?(ca=G.allpts.length/2-1,G.midX=G.allpts[ca],G.midY=G.allpts[ca+1]):(ca=G.allpts.length/2-3,G.midX=dh(G.allpts[ca],G.allpts[ca+2],G.allpts[ca+4],.5),G.midY=dh(G.allpts[ca+1],G.allpts[ca+3],G.allpts[ca+5],.5))}else if("straight"===G.edgeType)G.allpts=[G.startX,G.startY,G.endX,G.endY],G.midX=(G.startX+G.endX+G.arrowStartX+G.arrowEndX)/4,G.midY=(G.startY+G.endY+G.arrowStartY+G.arrowEndY)/4;else if("segments"===
G.edgeType)if(G.allpts=[],G.allpts.push(G.startX,G.startY),G.allpts.push.apply(G.allpts,G.segpts),G.allpts.push(G.endX,G.endY),0===G.segpts.length%4){ca=G.segpts.length/2;var ya=ca-2;G.midX=(G.segpts[ya]+G.segpts[ca])/2;G.midY=(G.segpts[ya+1]+G.segpts[ca+1])/2}else ca=G.segpts.length/2-1,G.midX=G.segpts[ca],G.midY=G.segpts[ca+1]},checkForInvalidEdgeWarning:function(G){var ca=G[0]._private.rscratch;ca.nodesOverlap||Rc(ca.startX)&&Rc(ca.startY)&&Rc(ca.endX)&&Rc(ca.endY)?ca.loggedErr=!1:ca.loggedErr||
(ca.loggedErr=!0,Je("Edge `"+G.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},findEdgeControlPoints:function(G){var ca=this;if(G&&0!==G.length){for(var ya=this,Ka=ya.cy.hasCompoundNodes(),ab={map:new pf,get:function(Q){var ta=this.map.get(Q[0]);return null!=ta?ta.get(Q[1]):null},set:function(Q,ta){var pa=this.map.get(Q[0]);
null==pa&&(pa=new pf,this.map.set(Q[0],pa));pa.set(Q[1],ta)}},ob=[],rb=[],Fb=0;Fb<G.length;Fb++){var qb=G[Fb],Ub=qb._private,Zb=qb.pstyle("curve-style").value;if(!qb.removed()&&qb.takesUpSpace())if("haystack"===Zb)rb.push(qb);else{var Ec="unbundled-bezier"===Zb||"segments"===Zb||"straight"===Zb||"straight-triangle"===Zb||"taxi"===Zb;Zb="unbundled-bezier"===Zb||"bezier"===Zb;var n=Ub.target;Ub=Ub.source.poolIndex();n=n.poolIndex();Ub=[Ub,n].sort();n=ab.get(Ub);null==n&&(n={eles:[]},ab.set(Ub,n),ob.push(Ub));
n.eles.push(qb);Ec&&(n.hasUnbundled=!0);Zb&&(n.hasBezier=!0)}}G=function(Q){var ta=ab.get(ob[Q]),pa=void 0;ta.hasUnbundled||(Q=ta.eles[0].parallelEdges().filter(function(Bg){return Bg.isBundledBezier()}),jg(ta.eles),Q.forEach(function(Bg){return ta.eles.push(Bg)}),ta.eles.sort(function(Bg,Eg){return Bg.poolIndex()-Eg.poolIndex()}));var Oa=ta.eles[0];Q=Oa.source();Oa=Oa.target();if(Q.poolIndex()>Oa.poolIndex()){var hb=Q;Q=Oa;Oa=hb}hb=ta.srcPos=Q.position();var yb=ta.tgtPos=Oa.position(),Kb=ta.srcW=
Q.outerWidth(),ic=ta.srcH=Q.outerHeight(),Bc=ta.tgtW=Oa.outerWidth(),Lc=ta.tgtH=Oa.outerHeight(),gd=ta.srcShape=ya.nodeShapes[ca.getNodeShape(Q)],Dd=ta.tgtShape=ya.nodeShapes[ca.getNodeShape(Oa)];ta.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Jd=0;Jd<ta.eles.length;Jd++){var se=ta.eles[Jd],cf=se[0]._private.rscratch,lf=se.pstyle("curve-style").value,Hf="unbundled-bezier"===lf||"segments"===lf||"taxi"===lf,ff=!Q.same(se.source());if(!ta.calculatedIntersection&&
Q!==Oa&&(ta.hasBezier||ta.hasUnbundled)){ta.calculatedIntersection=!0;pa=gd.intersectLine(hb.x,hb.y,Kb,ic,yb.x,yb.y,0);var Ff=ta.srcIntn=pa,lg=Dd.intersectLine(yb.x,yb.y,Bc,Lc,hb.x,hb.y,0),ag=ta.tgtIntn=lg,ig=ta.intersectionPts={x1:pa[0],x2:lg[0],y1:pa[1],y2:lg[1]},Mf=ta.posPts={x1:hb.x,x2:yb.x,y1:hb.y,y2:yb.y},cg=lg[1]-pa[1],Of=lg[0]-pa[0],Fg=Math.sqrt(Of*Of+cg*cg);cg=ta.vector={x:Of,y:cg};Of=ta.vectorNorm={x:cg.x/Fg,y:cg.y/Fg};var Rg={x:-Of.y,y:Of.x};ta.nodesOverlap=!Rc(Fg)||Dd.checkPoint(pa[0],
pa[1],0,Bc,Lc,yb.x,yb.y)||gd.checkPoint(lg[0],lg[1],0,Kb,ic,hb.x,hb.y);ta.vectorNormInverse=Rg;pa={nodesOverlap:ta.nodesOverlap,dirCounts:ta.dirCounts,calculatedIntersection:!0,hasBezier:ta.hasBezier,hasUnbundled:ta.hasUnbundled,eles:ta.eles,srcPos:yb,tgtPos:hb,srcW:Bc,srcH:Lc,tgtW:Kb,tgtH:ic,srcIntn:ag,tgtIntn:Ff,srcShape:Dd,tgtShape:gd,posPts:{x1:Mf.x2,y1:Mf.y2,x2:Mf.x1,y2:Mf.y1},intersectionPts:{x1:ig.x2,y1:ig.y2,x2:ig.x1,y2:ig.y1},vector:{x:-cg.x,y:-cg.y},vectorNorm:{x:-Of.x,y:-Of.y},vectorNormInverse:{x:-Rg.x,
y:-Rg.y}}}Ff=ff?pa:ta;cf.nodesOverlap=Ff.nodesOverlap;cf.srcIntn=Ff.srcIntn;cf.tgtIntn=Ff.tgtIntn;Ka&&(Q.isParent()||Q.isChild()||Oa.isParent()||Oa.isChild())&&(Q.parents().anySame(Oa)||Oa.parents().anySame(Q)||Q.same(Oa)&&Q.isParent())?ca.findCompoundLoopPoints(se,Ff,Jd,Hf):Q===Oa?ca.findLoopPoints(se,Ff,Jd,Hf):"segments"===lf?ca.findSegmentsPoints(se,Ff):"taxi"===lf?ca.findTaxiPoints(se,Ff):"straight"===lf||!Hf&&1===ta.eles.length%2&&Jd===Math.floor(ta.eles.length/2)?ca.findStraightEdgePoints(se):
ca.findBezierPoints(se,Ff,Jd,Hf,ff);ca.findEndpoints(se);ca.tryToCorrectInvalidPoints(se,Ff);ca.checkForInvalidEdgeWarning(se);ca.storeAllpts(se);ca.storeEdgeProjections(se);ca.calculateArrowAngles(se);ca.recalculateEdgeLabelProjections(se);ca.calculateLabelAngles(se)}};for(Fb=0;Fb<ob.length;Fb++)G(Fb);this.findHaystackPoints(rb)}},getSegmentPoints:function(G){var ca=G[0]._private.rscratch;if("segments"===ca.edgeType)return this.recalculateRenderedStyle(G),La(ca.segpts)},getControlPoints:function(G){var ca=
G[0]._private.rscratch,ya=ca.edgeType;if("bezier"===ya||"multibezier"===ya||"self"===ya||"compound"===ya)return this.recalculateRenderedStyle(G),La(ca.ctrlpts)},getEdgeMidpoint:function(G){var ca=G[0]._private.rscratch;this.recalculateRenderedStyle(G);return{x:ca.midX,y:ca.midY}}},{manualEndptToPx:function(G,ca){var ya=G.position(),Ka=G.outerWidth(),ab=G.outerHeight();if(2===ca.value.length)return G=[ca.pfValue[0],ca.pfValue[1]],"%"===ca.units[0]&&(G[0]*=Ka),"%"===ca.units[1]&&(G[1]*=ab),G[0]+=ya.x,
G[1]+=ya.y,G;ca=ca.pfValue[0];ca=-Math.PI/2+ca;var ob=2*Math.max(Ka,ab);ca=[ya.x+Math.cos(ca)*ob,ya.y+Math.sin(ca)*ob];return this.nodeShapes[this.getNodeShape(G)].intersectLine(ya.x,ya.y,Ka,ab,ca[0],ca[1],0)},findEndpoints:function(G){var ca=G.source()[0],ya=G.target()[0],Ka=ca.position(),ab=ya.position(),ob=G.pstyle("target-arrow-shape").value,rb=G.pstyle("source-arrow-shape").value,Fb=G.pstyle("target-distance-from-node").pfValue,qb=G.pstyle("source-distance-from-node").pfValue,Ub=G.pstyle("curve-style").value,
Zb=G._private.rscratch,Ec=Zb.edgeType,n="self"===Ec||"compound"===Ec,Q="bezier"===Ec||"multibezier"===Ec||n;var ta="bezier"!==Ec;var pa="straight"===Ec||"segments"===Ec,Oa="segments"===Ec;Ec=Q||ta||pa;var hb=n||"taxi"===Ub;Ub=G.pstyle("source-endpoint");n=hb?"outside-to-node":Ub.value;var yb=G.pstyle("target-endpoint");hb=hb?"outside-to-node":yb.value;Zb.srcManEndpt=Ub;Zb.tgtManEndpt=yb;if(Q){var Kb=[Zb.ctrlpts[0],Zb.ctrlpts[1]];var ic=ta?[Zb.ctrlpts[Zb.ctrlpts.length-2],Zb.ctrlpts[Zb.ctrlpts.length-
1]]:Kb}else pa&&(Kb=Oa?Zb.segpts.slice(0,2):[ab.x,ab.y],ic=Oa?Zb.segpts.slice(Zb.segpts.length-2):[Ka.x,Ka.y]);if("inside-to-node"===hb)ta=[ab.x,ab.y];else if(yb.units)ta=this.manualEndptToPx(ya,yb);else if("outside-to-line"===hb)ta=Zb.tgtIntn;else{if("outside-to-node"===hb||"outside-to-node-or-label"===hb)var Bc=ic;else if("outside-to-line"===hb||"outside-to-line-or-label"===hb)Bc=[Ka.x,Ka.y];ta=this.nodeShapes[this.getNodeShape(ya)].intersectLine(ab.x,ab.y,ya.outerWidth(),ya.outerHeight(),Bc[0],
Bc[1],0);if("outside-to-node-or-label"===hb||"outside-to-line-or-label"===hb)yb=ya._private.rscratch,Q=yb.labelX,pa=yb.labelY,Oa=yb.labelWidth/2,yb=yb.labelHeight/2,hb=ya.pstyle("text-valign").value,"top"===hb?pa-=yb:"bottom"===hb&&(pa+=yb),ya=ya.pstyle("text-halign").value,"left"===ya?Q-=Oa:"right"===ya&&(Q+=Oa),Bc=Qb(Bc[0],Bc[1],[Q-Oa,pa-yb,Q+Oa,pa-yb,Q+Oa,pa+yb,Q-Oa,pa+yb],ab.x,ab.y),0<Bc.length&&(ya=Xf(Ka,Td(ta)),Q=Xf(Ka,Td(Bc)),pa=ya,Q<ya&&(ta=Bc,pa=Q),2<Bc.length&&Xf(Ka,{x:Bc[2],y:Bc[3]})<pa&&
(ta=[Bc[2],Bc[3]]))}Bc=pc(ta,ic,this.arrowShapes[ob].spacing(G)+Fb);ta=pc(ta,ic,this.arrowShapes[ob].gap(G)+Fb);Zb.endX=ta[0];Zb.endY=ta[1];Zb.arrowEndX=Bc[0];Zb.arrowEndY=Bc[1];if("inside-to-node"===n)ta=[Ka.x,Ka.y];else if(Ub.units)ta=this.manualEndptToPx(ca,Ub);else if("outside-to-line"===n)ta=Zb.srcIntn;else{if("outside-to-node"===n||"outside-to-node-or-label"===n)var Lc=Kb;else if("outside-to-line"===n||"outside-to-line-or-label"===n)Lc=[ab.x,ab.y];ta=this.nodeShapes[this.getNodeShape(ca)].intersectLine(Ka.x,
Ka.y,ca.outerWidth(),ca.outerHeight(),Lc[0],Lc[1],0);if("outside-to-node-or-label"===n||"outside-to-line-or-label"===n)Ub=ca._private.rscratch,ob=Ub.labelX,Fb=Ub.labelY,ic=Ub.labelWidth/2,Ub=Ub.labelHeight/2,n=ca.pstyle("text-valign").value,"top"===n?Fb-=Ub:"bottom"===n&&(Fb+=Ub),ca=ca.pstyle("text-halign").value,"left"===ca?ob-=ic:"right"===ca&&(ob+=ic),Ka=Qb(Lc[0],Lc[1],[ob-ic,Fb-Ub,ob+ic,Fb-Ub,ob+ic,Fb+Ub,ob-ic,Fb+Ub],Ka.x,Ka.y),0<Ka.length&&(Lc=Xf(ab,Td(ta)),ca=Xf(ab,Td(Ka)),ob=Lc,ca<Lc&&(ta=
[Ka[0],Ka[1]],ob=ca),2<Ka.length&&Xf(ab,{x:Ka[2],y:Ka[3]})<ob&&(ta=[Ka[2],Ka[3]]))}ab=pc(ta,Kb,this.arrowShapes[rb].spacing(G)+qb);G=pc(ta,Kb,this.arrowShapes[rb].gap(G)+qb);Zb.startX=G[0];Zb.startY=G[1];Zb.arrowStartX=ab[0];Zb.arrowStartY=ab[1];Ec&&(Rc(Zb.startX)&&Rc(Zb.startY)&&Rc(Zb.endX)&&Rc(Zb.endY)?Zb.badLine=!1:Zb.badLine=!0)},getSourceEndpoint:function(G){var ca=G[0]._private.rscratch;this.recalculateRenderedStyle(G);switch(ca.edgeType){case "haystack":return{x:ca.haystackPts[0],y:ca.haystackPts[1]};
default:return{x:ca.arrowStartX,y:ca.arrowStartY}}},getTargetEndpoint:function(G){var ca=G[0]._private.rscratch;this.recalculateRenderedStyle(G);switch(ca.edgeType){case "haystack":return{x:ca.haystackPts[2],y:ca.haystackPts[3]};default:return{x:ca.arrowEndX,y:ca.arrowEndY}}}},{storeEdgeProjections:function(G){var ca=G._private,ya=ca.rscratch,Ka=ya.edgeType;ca.rstyle.bezierPts=null;ca.rstyle.linePts=null;ca.rstyle.haystackPts=null;if("multibezier"===Ka||"bezier"===Ka||"self"===Ka||"compound"===Ka)for(ca.rstyle.bezierPts=
[],Ka=0;Ka+5<ya.allpts.length;Ka+=4)for(var ab=ya.allpts.slice(Ka,Ka+6),ob=G._private.rstyle.bezierPts,rb=0;rb<this.bezierProjPcts.length;rb++){var Fb=this.bezierProjPcts[rb];ob.push({x:dh(ab[0],ab[2],ab[4],Fb),y:dh(ab[1],ab[3],ab[5],Fb)})}else if("segments"===Ka)for(ab=ca.rstyle.linePts=[],Ka=0;Ka+1<ya.allpts.length;Ka+=2)ab.push({x:ya.allpts[Ka],y:ya.allpts[Ka+1]});else"haystack"===Ka&&(ya=ya.haystackPts,ca.rstyle.haystackPts=[{x:ya[0],y:ya[1]},{x:ya[2],y:ya[3]}]);ca.rstyle.arrowWidth=this.getArrowWidth(G.pstyle("width").pfValue,
G.pstyle("arrow-scale").value)*this.arrowShapeWidth},recalculateEdgeProjections:function(G){this.findEdgeControlPoints(G)}},ti,Eh,{registerCalculationListeners:function(){var G=this.cy,ca=G.collection(),ya=this,Ka=function(ob){var rb=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;ca.merge(ob);if(rb)for(rb=0;rb<ob.length;rb++){var Fb=ob[rb]._private.rstyle;Fb.clean=!1;Fb.cleanConnected=!1}};ya.binder(G).on("bounds.* dirty.*",function(ob){Ka(ob.target)}).on("style.* background.*",function(ob){Ka(ob.target,
!1)});var ab=function(ob){if(ob){var rb=ya.onUpdateEleCalcsFns;ca.cleanStyle();for(var Fb=0;Fb<ca.length;Fb++){var qb=ca[Fb],Ub=qb._private.rstyle;qb.isNode()&&!Ub.cleanConnected&&(Ka(qb.connectedEdges()),Ub.cleanConnected=!0)}if(rb)for(Fb=0;Fb<rb.length;Fb++)(0,rb[Fb])(ob,ca);ya.recalculateRenderedStyle(ca);ca=G.collection()}};ya.flushRenderedStyleQueue=function(){ab(!0)};ya.beforeRender(ab,ya.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(G){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||
[]).push(G)},recalculateRenderedStyle:function(G,ca){var ya=[],Ka=[];if(!this.destroyed){void 0===ca&&(ca=!0);for(var ab=0;ab<G.length;ab++){var ob=G[ab],rb=ob._private,Fb=rb.rstyle;!ob.isEdge()||ob.source()._private.rstyle.cleanConnected&&ob.target()._private.rstyle.cleanConnected||(Fb.clean=!1);ca&&Fb.clean||ob.removed()||"none"===ob.pstyle("display").value||("nodes"===rb.group?Ka.push(ob):ya.push(ob),Fb.clean=!0)}for(G=0;G<Ka.length;G++)ca=Ka[G],ab=ca._private.rstyle,ob=ca.position(),this.recalculateNodeLabelProjection(ca),
ab.nodeX=ob.x,ab.nodeY=ob.y,ab.nodeW=ca.pstyle("width").pfValue,ab.nodeH=ca.pstyle("height").pfValue;this.recalculateEdgeProjections(ya);for(Ka=0;Ka<ya.length;Ka++)ca=ya[Ka]._private,G=ca.rstyle,ca=ca.rscratch,G.srcX=ca.arrowStartX,G.srcY=ca.arrowStartY,G.tgtX=ca.arrowEndX,G.tgtY=ca.arrowEndY,G.midX=ca.midX,G.midY=ca.midY,G.labelAngle=ca.labelAngle,G.sourceLabelAngle=ca.sourceLabelAngle,G.targetLabelAngle=ca.targetLabelAngle}}},{updateCachedGrabbedEles:function(){var G=this.cachedZSortedEles;if(G){G.drag=
[];G.nondrag=[];for(var ca=[],ya=0;ya<G.length;ya++){var Ka=G[ya],ab=Ka._private.rscratch;Ka.grabbed()&&!Ka.isParent()?ca.push(Ka):ab.inDragLayer?G.drag.push(Ka):G.nondrag.push(Ka)}for(ya=0;ya<ca.length;ya++)Ka=ca[ya],G.drag.push(Ka)}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(G){G||!this.cachedZSortedEles?(G=this.cy.mutableElements().toArray(),G.sort(ai),G.interactive=G.filter(function(ca){return ca.interactive()}),this.cachedZSortedEles=G,
this.updateCachedGrabbedEles()):G=this.cachedZSortedEles;return G}}].forEach(function(G){Dc(jk,G)});var Qj={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(G){G=G||qf;void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);void 0===this.lastRedrawTime&&(this.lastRedrawTime=0);void 0===this.lastDrawTime&&(this.lastDrawTime=0);this.requestedFrame=!0;this.renderOptions=G},beforeRender:function(G,ca){if(!this.destroyed){null==ca&&cd("Priority is not optional for beforeRender");
var ya=this.beforeRenderCallbacks;ya.push({fn:G,priority:ca});ya.sort(function(Ka,ab){return ab.priority-Ka.priority})}}},Li=function(G,ca,ya){G=G.beforeRenderCallbacks;for(var Ka=0;Ka<G.length;Ka++)G[Ka].fn(ca,ya)};Qj.startRenderLoop=function(){var G=this,ca=G.cy;G.renderLoopStarted||(G.renderLoopStarted=!0,ud(function ab(Ka){if(!G.destroyed){if(!ca.batching())if(G.requestedFrame&&!G.skipFrame){Li(G,!0,Ka);Ka=Jc();G.render(G.renderOptions);var ob=G.lastDrawTime=Jc();void 0===G.averageRedrawTime&&
(G.averageRedrawTime=ob-Ka);void 0===G.redrawCount&&(G.redrawCount=0);G.redrawCount++;void 0===G.redrawTotalTime&&(G.redrawTotalTime=0);Ka=ob-Ka;G.redrawTotalTime+=Ka;G.lastRedrawTime=Ka;G.averageRedrawTime=G.averageRedrawTime/2+Ka/2;G.requestedFrame=!1}else Li(G,!1,Ka);G.skipFrame=!1;ud(ab)}}))};var aj=function(G){this.init(G)},rg=aj.prototype;rg.clientFunctions="redrawHint render renderTo matchCanvasSize nodeShapeImpl arrowShapeImpl".split(" ");rg.init=function(G){this.options=G;this.cy=G.cy;var ca=
this.container=G.cy.container();if(bb){var ya=bb.document,Ka=ya.head,ab=null!=ya.getElementById("__________cytoscape_stylesheet");0>ca.className.indexOf("__________cytoscape_container")&&(ca.className=(ca.className||"")+" __________cytoscape_container");ab||(ya=ya.createElement("style"),ya.id="__________cytoscape_stylesheet",ya.innerHTML=".__________cytoscape_container { position: relative; }",Ka.insertBefore(ya,Ka.children[0]));"static"===bb.getComputedStyle(ca).getPropertyValue("position")&&Je("A Cytoscape container has style position:static and so can not use UI extensions properly")}this.selection=
[void 0,void 0,void 0,void 0,0];this.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95];this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1};this.dragData={possibleDragElements:[]};this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]};this.redraws=0;this.showFps=G.showFps;this.debug=G.debug;this.hideEdgesOnViewport=
G.hideEdgesOnViewport;this.textureOnViewport=G.textureOnViewport;this.wheelSensitivity=G.wheelSensitivity;this.motionBlurEnabled=G.motionBlur;this.forcedPixelRatio=Rc(G.pixelRatio)?G.pixelRatio:null;this.motionBlur=G.motionBlur;this.motionBlurOpacity=G.motionBlurOpacity;this.motionBlurTransparency=1-this.motionBlurOpacity;this.mbPxRBlurry=this.motionBlurPxRatio=1;this.minMbLowQualFrames=4;this.fullQualityMb=!1;this.clearedForMotionBlur=[];this.desktopTapThreshold=G.desktopTapThreshold;this.desktopTapThreshold2=
G.desktopTapThreshold*G.desktopTapThreshold;this.touchTapThreshold=G.touchTapThreshold;this.touchTapThreshold2=G.touchTapThreshold*G.touchTapThreshold;this.tapholdDuration=500;this.bindings=[];this.beforeRenderCallbacks=[];this.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100};this.registerNodeShapes();this.registerArrowShapes();this.registerCalculationListeners()};rg.notify=function(G,ca){ca=this.cy;if(!this.destroyed)if("init"===G)this.load();else if("destroy"===
G)this.destroy();else{("add"===G||"remove"===G||"move"===G&&ca.hasCompoundNodes()||"load"===G||"zorder"===G||"mount"===G)&&this.invalidateCachedZSortedEles();"viewport"===G&&this.redrawHint("select",!0);if("load"===G||"resize"===G||"mount"===G)this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.container);this.redrawHint("eles",!0);this.redrawHint("drag",!0);this.startRenderLoop();this.redraw()}};rg.destroy=function(){this.destroyed=!0;this.cy.stopAnimationLoop();for(var G=0;G<this.bindings.length;G++){var ca=
this.bindings[G],ya=ca.target;(ya.off||ya.removeEventListener).apply(ya,ca.args)}this.bindings=[];this.beforeRenderCallbacks=[];this.onUpdateEleCalcsFns=[];this.removeObserver&&this.removeObserver.disconnect();this.styleObserver&&this.styleObserver.disconnect();this.resizeObserver&&this.resizeObserver.disconnect();if(this.labelCalcDiv)try{document.body.removeChild(this.labelCalcDiv)}catch(Ka){}};rg.isHeadless=function(){return!1};[{arrowShapeWidth:.3,registerArrowShapes:function(){var G=this.arrowShapes=
{},ca=this,ya=function(qb,Ub,Zb,Ec,n,Q,ta){Ec=n.x+Zb/2+ta;Q=n.y-Zb/2-ta;var pa=n.y+Zb/2+ta;return n.x-Zb/2-ta<=qb&&qb<=Ec&&Q<=Ub&&Ub<=pa},Ka=function(qb,Ub,Zb,Ec,n){return{x:(qb*Math.cos(Ec)-Ub*Math.sin(Ec))*Zb+n.x,y:(qb*Math.sin(Ec)+Ub*Math.cos(Ec))*Zb+n.y}},ab=function(qb,Ub,Zb,Ec){for(var n=[],Q=0;Q<qb.length;Q+=2)n.push(Ka(qb[Q],qb[Q+1],Ub,Zb,Ec));return n},ob=function(qb){for(var Ub=[],Zb=0;Zb<qb.length;Zb++){var Ec=qb[Zb];Ub.push(Ec.x,Ec.y)}return Ub},rb=function(qb){return qb.pstyle("width").pfValue*
qb.pstyle("arrow-scale").pfValue*2},Fb=function(qb,Ub){bc(Ub)&&(Ub=G[Ub]);G[qb]=Dc({name:qb,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(Zb,Ec,n,Q,ta,pa){n=ob(ab(this.points,n+2*pa,Q,ta));return Pc(Zb,Ec,n)},roughCollide:ya,draw:function(Zb,Ec,n,Q){Ec=ab(this.points,Ec,n,Q);ca.arrowShapeImpl("polygon")(Zb,Ec)},spacing:function(Zb){return 0},gap:rb},Ub)};Fb("none",{collide:hd,roughCollide:hd,draw:$d,spacing:ge,gap:ge});Fb("triangle",{points:[-.15,-.3,0,0,.15,-.3]});Fb("arrow","triangle");
Fb("triangle-backcurve",{points:G.triangle.points,controlPoint:[0,-.15],roughCollide:ya,draw:function(qb,Ub,Zb,Ec,n){n=ab(this.points,Ub,Zb,Ec);var Q=this.controlPoint;Ub=Ka(Q[0],Q[1],Ub,Zb,Ec);ca.arrowShapeImpl(this.name)(qb,n,Ub)},gap:function(qb){return.8*rb(qb)}});Fb("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(qb,Ub,Zb,Ec,n,Q,ta){Q=ob(ab(this.points,Zb+2*ta,Ec,n));Zb=ob(ab(this.pointsTee,Zb+2*ta,Ec,n));return Pc(qb,Ub,Q)||Pc(qb,
Ub,Zb)},draw:function(qb,Ub,Zb,Ec,n){n=ab(this.points,Ub,Zb,Ec);Ub=ab(this.pointsTee,Ub,Zb,Ec);ca.arrowShapeImpl(this.name)(qb,n,Ub)}});Fb("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(qb,Ub,Zb,Ec,n,Q,ta){Q=Math.pow(n.x-qb,2)+Math.pow(n.y-Ub,2)<=Math.pow((Zb+2*ta)*this.radius,2);Zb=ob(ab(this.points,Zb+2*ta,Ec,n));return Pc(qb,Ub,Zb)||Q},draw:function(qb,Ub,Zb,Ec,n){Zb=ab(this.pointsTr,Ub,Zb,Ec);ca.arrowShapeImpl(this.name)(qb,Zb,Ec.x,Ec.y,this.radius*
Ub)},spacing:function(qb){return ca.getArrowWidth(qb.pstyle("width").pfValue,qb.pstyle("arrow-scale").value)*this.radius}});Fb("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(qb,Ub){var Zb=this.baseCrossLinePts.slice();qb=Ub/qb;Zb[3]-=qb;Zb[5]-=qb;return Zb},collide:function(qb,Ub,Zb,Ec,n,Q,ta){var pa=ob(ab(this.points,Zb+2*ta,Ec,n));Zb=ob(ab(this.crossLinePts(Zb,Q),Zb+2*ta,Ec,n));return Pc(qb,Ub,pa)||Pc(qb,Ub,Zb)},draw:function(qb,
Ub,Zb,Ec,n){var Q=ab(this.points,Ub,Zb,Ec);Ub=ab(this.crossLinePts(Ub,n),Ub,Zb,Ec);ca.arrowShapeImpl(this.name)(qb,Q,Ub)}});Fb("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(qb){return.525*rb(qb)}});Fb("circle",{radius:.15,collide:function(qb,Ub,Zb,Ec,n,Q,ta){return Math.pow(n.x-qb,2)+Math.pow(n.y-Ub,2)<=Math.pow((Zb+2*ta)*this.radius,2)},draw:function(qb,Ub,Zb,Ec,n){ca.arrowShapeImpl(this.name)(qb,Ec.x,Ec.y,this.radius*Ub)},spacing:function(qb){return ca.getArrowWidth(qb.pstyle("width").pfValue,
qb.pstyle("arrow-scale").value)*this.radius}});Fb("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(qb){return 1},gap:function(qb){return 1}});Fb("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]});Fb("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(qb){return qb.pstyle("width").pfValue*qb.pstyle("arrow-scale").value}});Fb("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(qb){return.95*qb.pstyle("width").pfValue*qb.pstyle("arrow-scale").value}})}},
jk,{getCachedImage:function(G,ca,ya){var Ka=this.imageCache=this.imageCache||{},ab=Ka[G];if(ab)return ab.image.complete||ab.image.addEventListener("load",ya),ab.image;ab=Ka[G]=Ka[G]||{};var ob=ab.image=new Image;ob.addEventListener("load",ya);ob.addEventListener("error",function(){ob.error=!0});"data:"!==G.substring(0,5).toLowerCase()&&(ob.crossOrigin=ca);ob.src=G;return ob}},{registerBinding:function(G,ca,ya,Ka){var ab=Array.prototype.slice.apply(arguments,[1]),ob=this.binder(G);return ob.on.apply(ob,
ab)},binder:function(G){var ca=this,ya;(ya=G===window||G===document||G===document.body)||(ya="undefined"===typeof HTMLElement?!1:G instanceof HTMLElement);var Ka=ya;if(null==ca.supportsPassiveEvents){var ab=!1;try{var ob=Object.defineProperty({},"passive",{get:function(){return ab=!0}});window.addEventListener("test",null,ob)}catch(rb){}ca.supportsPassiveEvents=ab}ya=function(rb,Fb,qb){var Ub=Array.prototype.slice.call(arguments);Ka&&ca.supportsPassiveEvents&&(Ub[2]={capture:null!=qb?qb:!1,passive:!1,
once:!1});ca.bindings.push({target:G,args:Ub});(G.addEventListener||G.on).apply(G,Ub);return this};return{on:ya,addEventListener:ya,addListener:ya,bind:ya}},nodeIsDraggable:function(G){return G&&G.isNode()&&!G.locked()&&G.grabbable()},nodeIsGrabbable:function(G){return this.nodeIsDraggable(G)&&G.interactive()},load:function(){var G=this,ca=function(Cd){return Cd.selected()},ya=function(Cd,Ne,Ve,mf){null==Cd&&(Cd=G.cy);for(var We=0;We<Ne.length;We++)Cd.emit({originalEvent:Ve,type:Ne[We],position:mf})},
Ka=function(Cd,Ne){var Ve=!0;if(G.cy.hasCompoundNodes()&&Cd&&Cd.pannable())for(var mf=0;Ne&&mf<Ne.length;mf++){if(Cd=Ne[mf],Cd.isNode()&&Cd.isParent()&&!Cd.pannable()){Ve=!1;break}}else Ve=!0;return Ve},ab=function(Cd){Cd[0]._private.rscratch.inDragLayer=!0},ob=function(Cd,Ne){Ne=Ne.addToList;Ne.has(Cd)||(Ne.merge(Cd),Cd[0]._private.grabbed=!0)},rb=function(Cd,Ne){!Cd.cy().hasCompoundNodes()||null==Ne.inDragLayer&&null==Ne.addToList||(Cd=Cd.descendants(),Ne.inDragLayer&&(Cd.forEach(ab),Cd.connectedEdges().forEach(ab)),
Ne.addToList&&Ne.addToList.unmerge(Cd))},Fb=function(Cd,Ne){Ne=Ne||{};var Ve=Cd.cy().hasCompoundNodes();Ne.inDragLayer&&(Cd.forEach(ab),Cd.neighborhood().stdFilter(function(mf){return!Ve||mf.isEdge()}).forEach(ab));Ne.addToList&&Cd.forEach(function(mf){ob(mf,Ne)});rb(Cd,Ne);Ub(Cd,{inDragLayer:Ne.inDragLayer});G.updateCachedGrabbedEles()},qb=function(Cd){Cd&&(G.getCachedZSortedEles().forEach(function(Ne){Ne[0]._private.grabbed=!1;Ne[0]._private.rscratch.inDragLayer=!1;Ne[0]._private.rscratch.isGrabTarget=
!1}),G.updateCachedGrabbedEles())},Ub=function(Cd,Ne){if((null!=Ne.inDragLayer||null!=Ne.addToList)&&Cd.cy().hasCompoundNodes()){var Ve=Cd.ancestors().orphans();Ve.same(Cd)||(Cd=Ve.descendants().spawnSelf().merge(Ve).unmerge(Cd).unmerge(Cd.descendants()),Ve=Cd.connectedEdges(),Ne.inDragLayer&&(Ve.forEach(ab),Cd.forEach(ab)),Ne.addToList&&Cd.forEach(function(mf){ob(mf,Ne)}))}},Zb=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},Ec="undefined"!==
typeof MutationObserver,n="undefined"!==typeof ResizeObserver;Ec?(G.removeObserver=new MutationObserver(function(Cd){for(var Ne=0;Ne<Cd.length;Ne++){var Ve=Cd[Ne].removedNodes;if(Ve)for(var mf=0;mf<Ve.length;mf++)if(Ve[mf]===G.container){G.destroy();break}}}),G.container.parentNode&&G.removeObserver.observe(G.container.parentNode,{childList:!0})):G.registerBinding(G.container,"DOMNodeRemoved",function(Cd){G.destroy()});var Q=xa(function(){G.cy.resize()},100);Ec&&(G.styleObserver=new MutationObserver(Q),
G.styleObserver.observe(G.container,{attributes:!0}));G.registerBinding(window,"resize",Q);n&&(G.resizeObserver=new ResizeObserver(Q),G.resizeObserver.observe(G.container));var ta=function(){G.invalidateContainerClientCoordsCache()};(function(Cd,Ne){for(;null!=Cd;)Ne(Cd),Cd=Cd.parentNode})(G.container,function(Cd){G.registerBinding(Cd,"transitionend",ta);G.registerBinding(Cd,"animationend",ta);G.registerBinding(Cd,"scroll",ta)});G.registerBinding(G.container,"contextmenu",function(Cd){Cd.preventDefault()});
var pa=function(Cd){var Ne=G.findContainerClientCoords(),Ve=Ne[0],mf=Ne[1],We=Ne[2];Ne=Ne[3];for(var Zf=Cd.touches?Cd.touches:[Cd],ng=!1,Cf=0;Cf<Zf.length;Cf++){var Cg=Zf[Cf];if(Ve<=Cg.clientX&&Cg.clientX<=Ve+We&&mf<=Cg.clientY&&Cg.clientY<=mf+Ne){ng=!0;break}}if(!ng)return!1;Ve=G.container;Cd=Cd.target.parentNode;for(mf=!1;Cd;){if(Cd===Ve){mf=!0;break}Cd=Cd.parentNode}return mf?!0:!1};G.registerBinding(G.container,"mousedown",function(Cd){if(pa(Cd)){Cd.preventDefault();Zb();G.hoverData.capture=!0;
G.hoverData.which=Cd.which;var Ne=G.cy,Ve=[Cd.clientX,Cd.clientY],mf=G.projectIntoViewport(Ve[0],Ve[1]),We=G.selection,Zf=G.findNearestElements(mf[0],mf[1],!0,!1),ng=Zf[0],Cf=G.dragData.possibleDragElements;G.hoverData.mdownPos=mf;G.hoverData.mdownGPos=Ve;Ve=function(){G.hoverData.tapholdCancelled=!1;clearTimeout(G.hoverData.tapholdTimeout);G.hoverData.tapholdTimeout=setTimeout(function(){if(!G.hoverData.tapholdCancelled){var mh=G.hoverData.down;mh?mh.emit({originalEvent:Cd,type:"taphold",position:{x:mf[0],
y:mf[1]}}):Ne.emit({originalEvent:Cd,type:"taphold",position:{x:mf[0],y:mf[1]}})}},G.tapholdDuration)};if(3==Cd.which)G.hoverData.cxtStarted=!0,Zf={originalEvent:Cd,type:"cxttapstart",position:{x:mf[0],y:mf[1]}},ng?(ng.activate(),ng.emit(Zf),G.hoverData.down=ng):Ne.emit(Zf),G.hoverData.downTime=(new Date).getTime(),G.hoverData.cxtDragged=!1;else if(1==Cd.which){ng&&ng.activate();if(null!=ng&&G.nodeIsGrabbable(ng)){var Cg=function(mh){return{originalEvent:Cd,type:mh,position:{x:mf[0],y:mf[1]}}},pg=
function(mh){mh.emit(Cg("grab"))};ng[0]._private.rscratch.isGrabTarget=!0;if(ng.selected()){Cf=G.dragData.possibleDragElements=Ne.collection();var fg=Ne.$(function(mh){return mh.isNode()&&mh.selected()&&G.nodeIsGrabbable(mh)});Fb(fg,{addToList:Cf});ng.emit(Cg("grabon"));fg.forEach(pg)}else Cf=G.dragData.possibleDragElements=Ne.collection(),Fb(ng,{addToList:Cf}),ng.emit(Cg("grabon")).emit(Cg("grab"));G.redrawHint("eles",!0);G.redrawHint("drag",!0)}G.hoverData.down=ng;G.hoverData.downs=Zf;G.hoverData.downTime=
(new Date).getTime();ya(ng,["mousedown","tapstart","vmousedown"],Cd,{x:mf[0],y:mf[1]});null==ng?(We[4]=1,G.data.bgActivePosistion={x:mf[0],y:mf[1]},G.redrawHint("select",!0),G.redraw()):ng.pannable()&&(We[4]=1);Ve()}We[0]=We[2]=mf[0];We[1]=We[3]=mf[1]}},!1);G.registerBinding(window,"mousemove",function(Cd){if(G.hoverData.capture||pa(Cd)){var Ne=!1,Ve=G.cy,mf=Ve.zoom();Ne=[Cd.clientX,Cd.clientY];var We=G.projectIntoViewport(Ne[0],Ne[1]),Zf=G.hoverData.mdownPos,ng=G.hoverData.mdownGPos,Cf=G.selection,
Cg=null;G.hoverData.draggingEles||G.hoverData.dragging||G.hoverData.selecting||(Cg=G.findNearestElement(We[0],We[1],!0,!1));var pg=G.hoverData.last,fg=G.hoverData.down,mh=[We[0]-Cf[2],We[1]-Cf[3]],Fh=G.dragData.possibleDragElements;if(ng){var Gh=Ne[0]-ng[0];Ne=Ne[1]-ng[1];G.hoverData.isOverThresholdDrag=Gh=Gh*Gh+Ne*Ne>=G.desktopTapThreshold2}ng=Cd.shiftKey||Cd.metaKey||Cd.ctrlKey;Gh&&(G.hoverData.tapholdCancelled=!0);var th=function(){var Ui=G.hoverData.dragDelta=G.hoverData.dragDelta||[];0===Ui.length?
(Ui.push(mh[0]),Ui.push(mh[1])):(Ui[0]+=mh[0],Ui[1]+=mh[1])};Ne=!0;ya(Cg,["mousemove","vmousemove","tapdrag"],Cd,{x:We[0],y:We[1]});var yi=function(){G.data.bgActivePosistion=void 0;G.hoverData.selecting||Ve.emit({originalEvent:Cd,type:"boxstart",position:{x:We[0],y:We[1]}});Cf[4]=1;G.hoverData.selecting=!0;G.redrawHint("select",!0);G.redraw()};if(3===G.hoverData.which)Gh&&(Fh={originalEvent:Cd,type:"cxtdrag",position:{x:We[0],y:We[1]}},fg?fg.emit(Fh):Ve.emit(Fh),G.hoverData.cxtDragged=!0,G.hoverData.cxtOver&&
Cg===G.hoverData.cxtOver||(G.hoverData.cxtOver&&G.hoverData.cxtOver.emit({originalEvent:Cd,type:"cxtdragout",position:{x:We[0],y:We[1]}}),(G.hoverData.cxtOver=Cg)&&Cg.emit({originalEvent:Cd,type:"cxtdragover",position:{x:We[0],y:We[1]}})));else if(G.hoverData.dragging)Ne=!0,Ve.panningEnabled()&&Ve.userPanningEnabled()&&(G.hoverData.justStartedPan?(Fh=G.hoverData.mdownPos,Fh={x:(We[0]-Fh[0])*mf,y:(We[1]-Fh[1])*mf},G.hoverData.justStartedPan=!1):Fh={x:mh[0]*mf,y:mh[1]*mf},Ve.panBy(Fh),Ve.emit("dragpan"),
G.hoverData.dragged=!0),We=G.projectIntoViewport(Cd.clientX,Cd.clientY);else if(1!=Cf[4]||null!=fg&&!fg.pannable()){fg&&fg.pannable()&&fg.active()&&fg.unactivate();fg&&fg.grabbed()||Cg==pg||(pg&&ya(pg,["mouseout","tapdragout"],Cd,{x:We[0],y:We[1]}),Cg&&ya(Cg,["mouseover","tapdragover"],Cd,{x:We[0],y:We[1]}),G.hoverData.last=Cg);if(fg)if(Gh)if(Ve.boxSelectionEnabled()&&ng)fg&&fg.grabbed()&&(qb(Fh),fg.emit("freeon"),Fh.emit("free"),G.dragData.didDrag&&(fg.emit("dragfreeon"),Fh.emit("dragfree"))),yi();
else{if(fg&&fg.grabbed()&&G.nodeIsDraggable(fg)){(fg=!G.dragData.didDrag)&&G.redrawHint("eles",!0);G.dragData.didDrag=!0;mf=Ve.collection();G.hoverData.draggingEles||Fb(Fh,{inDragLayer:!0});Cg={x:0,y:0};Rc(mh[0])&&Rc(mh[1])&&(Cg.x+=mh[0],Cg.y+=mh[1],fg&&(fg=G.hoverData.dragDelta)&&Rc(fg[0])&&Rc(fg[1])&&(Cg.x+=fg[0],Cg.y+=fg[1]));for(fg=0;fg<Fh.length;fg++)Zf=Fh[fg],G.nodeIsDraggable(Zf)&&Zf.grabbed()&&mf.push(Zf);G.hoverData.draggingEles=!0;mf.silentShift(Cg).emit("position drag");G.redrawHint("drag",
!0);G.redraw()}}else th();Ne=!0}else Gh&&(G.hoverData.dragging||!Ve.boxSelectionEnabled()||!ng&&Ve.panningEnabled()&&Ve.userPanningEnabled()?!G.hoverData.selecting&&Ve.panningEnabled()&&Ve.userPanningEnabled()&&Ka(fg,G.hoverData.downs)&&(G.hoverData.dragging=!0,G.hoverData.justStartedPan=!0,Cf[4]=0,G.data.bgActivePosistion=Td(Zf),G.redrawHint("select",!0),G.redraw()):yi(),fg&&fg.pannable()&&fg.active()&&fg.unactivate());Cf[2]=We[0];Cf[3]=We[1];if(Ne)return Cd.stopPropagation&&Cd.stopPropagation(),
Cd.preventDefault&&Cd.preventDefault(),!1}},!1);var Oa,hb,yb;G.registerBinding(window,"mouseup",function(Cd){if(G.hoverData.capture){G.hoverData.capture=!1;var Ne=G.cy,Ve=G.projectIntoViewport(Cd.clientX,Cd.clientY),mf=G.selection,We=G.findNearestElement(Ve[0],Ve[1],!0,!1),Zf=G.dragData.possibleDragElements,ng=G.hoverData.down,Cf=Cd.shiftKey||Cd.metaKey||Cd.ctrlKey;G.data.bgActivePosistion&&(G.redrawHint("select",!0),G.redraw());G.hoverData.tapholdCancelled=!0;G.data.bgActivePosistion=void 0;ng&&
ng.unactivate();3===G.hoverData.which?(Zf={originalEvent:Cd,type:"cxttapend",position:{x:Ve[0],y:Ve[1]}},ng?ng.emit(Zf):Ne.emit(Zf),G.hoverData.cxtDragged||(Zf={originalEvent:Cd,type:"cxttap",position:{x:Ve[0],y:Ve[1]}},ng?ng.emit(Zf):Ne.emit(Zf)),G.hoverData.cxtDragged=!1,G.hoverData.which=null):1===G.hoverData.which&&(ya(We,["mouseup","tapend","vmouseup"],Cd,{x:Ve[0],y:Ve[1]}),G.dragData.didDrag||G.hoverData.dragged||G.hoverData.selecting||G.hoverData.isOverThresholdDrag||(ya(ng,["click","tap",
"vclick"],Cd,{x:Ve[0],y:Ve[1]}),hb=!1,Cd.timeStamp-yb<=Ne.multiClickDebounceTime()?(Oa&&clearTimeout(Oa),hb=!0,yb=null,ya(ng,["dblclick","dbltap","vdblclick"],Cd,{x:Ve[0],y:Ve[1]})):(Oa=setTimeout(function(){hb||ya(ng,["oneclick","onetap","voneclick"],Cd,{x:Ve[0],y:Ve[1]})},Ne.multiClickDebounceTime()),yb=Cd.timeStamp)),null!=ng||G.dragData.didDrag||G.hoverData.selecting||G.hoverData.dragged||Cd.shiftKey||Cd.metaKey||Cd.ctrlKey||(Ne.$(ca).unselect(["tapunselect"]),0<Zf.length&&G.redrawHint("eles",
!0),G.dragData.possibleDragElements=Zf=Ne.collection()),We!=ng||G.dragData.didDrag||G.hoverData.selecting||null==We||!We._private.selectable||(G.hoverData.dragging||("additive"===Ne.selectionType()||Cf?We.selected()?We.unselect(["tapunselect"]):We.select(["tapselect"]):Cf||(Ne.$(ca).unmerge(We).unselect(["tapunselect"]),We.select(["tapselect"]))),G.redrawHint("eles",!0)),G.hoverData.selecting&&(We=Ne.collection(G.getAllInBox(mf[0],mf[1],mf[2],mf[3])),G.redrawHint("select",!0),0<We.length&&G.redrawHint("eles",
!0),Ne.emit({type:"boxend",originalEvent:Cd,position:{x:Ve[0],y:Ve[1]}}),"additive"!==Ne.selectionType()&&(Cf||Ne.$(ca).unmerge(We).unselect()),We.emit("box").stdFilter(function(Cg){return Cg.selectable()&&!Cg.selected()}).select().emit("boxselect"),G.redraw()),G.hoverData.dragging&&(G.hoverData.dragging=!1,G.redrawHint("select",!0),G.redrawHint("eles",!0),G.redraw()),mf[4]||(G.redrawHint("drag",!0),G.redrawHint("eles",!0),Ne=ng&&ng.grabbed(),qb(Zf),Ne&&(ng.emit("freeon"),Zf.emit("free"),G.dragData.didDrag&&
(ng.emit("dragfreeon"),Zf.emit("dragfree")))));mf[4]=0;G.hoverData.down=null;G.hoverData.cxtStarted=!1;G.hoverData.draggingEles=!1;G.hoverData.selecting=!1;G.hoverData.isOverThresholdDrag=!1;G.dragData.didDrag=!1;G.hoverData.dragged=!1;G.hoverData.dragDelta=[];G.hoverData.mdownPos=null;G.hoverData.mdownGPos=null}},!1);var Kb=function(Cd){if(!G.scrollingPage){var Ne=G.cy,Ve=Ne.zoom(),mf=Ne.pan(),We=G.projectIntoViewport(Cd.clientX,Cd.clientY);Ve=[We[0]*Ve+mf.x,We[1]*Ve+mf.y];G.hoverData.draggingEles||
G.hoverData.dragging||G.hoverData.cxtStarted||0!==G.selection[4]?Cd.preventDefault():Ne.panningEnabled()&&Ne.userPanningEnabled()&&Ne.zoomingEnabled()&&Ne.userZoomingEnabled()&&(Cd.preventDefault(),G.data.wheelZooming=!0,clearTimeout(G.data.wheelTimeout),G.data.wheelTimeout=setTimeout(function(){G.data.wheelZooming=!1;G.redrawHint("eles",!0);G.redraw()},150),mf=null!=Cd.deltaY?Cd.deltaY/-250:null!=Cd.wheelDeltaY?Cd.wheelDeltaY/1E3:Cd.wheelDelta/1E3,mf*=G.wheelSensitivity,1===Cd.deltaMode&&(mf*=33),
mf=Ne.zoom()*Math.pow(10,mf),"gesturechange"===Cd.type&&(mf=G.gestureStartZoom*Cd.scale),Ne.zoom({level:mf,renderedPosition:{x:Ve[0],y:Ve[1]}}),Ne.emit("gesturechange"===Cd.type?"pinchzoom":"scrollzoom"))}};G.registerBinding(G.container,"wheel",Kb,!0);G.registerBinding(window,"scroll",function(Cd){G.scrollingPage=!0;clearTimeout(G.scrollingPageTimeout);G.scrollingPageTimeout=setTimeout(function(){G.scrollingPage=!1},250)},!0);G.registerBinding(G.container,"gesturestart",function(Cd){G.gestureStartZoom=
G.cy.zoom();G.hasTouchStarted||Cd.preventDefault()},!0);G.registerBinding(G.container,"gesturechange",function(Cd){G.hasTouchStarted||Kb(Cd)},!0);G.registerBinding(G.container,"mouseout",function(Cd){var Ne=G.projectIntoViewport(Cd.clientX,Cd.clientY);G.cy.emit({originalEvent:Cd,type:"mouseout",position:{x:Ne[0],y:Ne[1]}})},!1);G.registerBinding(G.container,"mouseover",function(Cd){var Ne=G.projectIntoViewport(Cd.clientX,Cd.clientY);G.cy.emit({originalEvent:Cd,type:"mouseover",position:{x:Ne[0],y:Ne[1]}})},
!1);var ic,Bc,Lc,gd,Dd,Jd,se,cf,lf,Hf,ff,Ff,lg,ag;G.registerBinding(G.container,"touchstart",ag=function(Cd){G.hasTouchStarted=!0;if(pa(Cd)){Zb();G.touchData.capture=!0;G.data.bgActivePosistion=void 0;var Ne=G.cy,Ve=G.touchData.now,mf=G.touchData.earlier;if(Cd.touches[0]){var We=G.projectIntoViewport(Cd.touches[0].clientX,Cd.touches[0].clientY);Ve[0]=We[0];Ve[1]=We[1]}Cd.touches[1]&&(We=G.projectIntoViewport(Cd.touches[1].clientX,Cd.touches[1].clientY),Ve[2]=We[0],Ve[3]=We[1]);Cd.touches[2]&&(We=
G.projectIntoViewport(Cd.touches[2].clientX,Cd.touches[2].clientY),Ve[4]=We[0],Ve[5]=We[1]);if(Cd.touches[1]){G.touchData.singleTouchMoved=!0;qb(G.dragData.touchDragEles);var Zf=G.findContainerClientCoords();lf=Zf[0];Hf=Zf[1];ff=Zf[2];Ff=Zf[3];ic=Cd.touches[0].clientX-lf;Bc=Cd.touches[0].clientY-Hf;Lc=Cd.touches[1].clientX-lf;gd=Cd.touches[1].clientY-Hf;lg=0<=ic&&ic<=ff&&0<=Lc&&Lc<=ff&&0<=Bc&&Bc<=Ff&&0<=gd&&gd<=Ff;Zf=Ne.pan();var ng=Ne.zoom();Dd=Math.sqrt((Lc-ic)*(Lc-ic)+(gd-Bc)*(gd-Bc));Jd=(Lc-ic)*
(Lc-ic)+(gd-Bc)*(gd-Bc);se=[(ic+Lc)/2,(Bc+gd)/2];cf=[(se[0]-Zf.x)/ng,(se[1]-Zf.y)/ng];if(4E4>Jd&&!Cd.touches[2]){mf=G.findNearestElement(Ve[0],Ve[1],!0,!0);We=G.findNearestElement(Ve[2],Ve[3],!0,!0);mf&&mf.isNode()?(mf.activate().emit({originalEvent:Cd,type:"cxttapstart",position:{x:Ve[0],y:Ve[1]}}),G.touchData.start=mf):We&&We.isNode()?(We.activate().emit({originalEvent:Cd,type:"cxttapstart",position:{x:Ve[0],y:Ve[1]}}),G.touchData.start=We):Ne.emit({originalEvent:Cd,type:"cxttapstart",position:{x:Ve[0],
y:Ve[1]}});G.touchData.start&&(G.touchData.start._private.grabbed=!1);G.touchData.cxt=!0;G.touchData.cxtDragged=!1;G.data.bgActivePosistion=void 0;G.redraw();return}}if(Cd.touches[2])Ne.boxSelectionEnabled()&&Cd.preventDefault();else if(!Cd.touches[1]&&Cd.touches[0]){ng=G.findNearestElements(Ve[0],Ve[1],!0,!0);Zf=ng[0];if(null!=Zf&&(Zf.activate(),G.touchData.start=Zf,G.touchData.starts=ng,G.nodeIsGrabbable(Zf))){ng=G.dragData.touchDragEles=Ne.collection();var Cf=null;G.redrawHint("eles",!0);G.redrawHint("drag",
!0);Zf.selected()?(Cf=Ne.$(function(pg){return pg.selected()&&G.nodeIsGrabbable(pg)}),Fb(Cf,{addToList:ng})):Fb(Zf,{addToList:ng});Zf[0]._private.rscratch.isGrabTarget=!0;var Cg=function(pg){return{originalEvent:Cd,type:pg,position:{x:Ve[0],y:Ve[1]}}};Zf.emit(Cg("grabon"));Cf?Cf.forEach(function(pg){pg.emit(Cg("grab"))}):Zf.emit(Cg("grab"))}ya(Zf,["touchstart","tapstart","vmousedown"],Cd,{x:Ve[0],y:Ve[1]});null==Zf&&(G.data.bgActivePosistion={x:We[0],y:We[1]},G.redrawHint("select",!0),G.redraw());
G.touchData.singleTouchMoved=!1;G.touchData.singleTouchStartTime=+new Date;clearTimeout(G.touchData.tapholdTimeout);G.touchData.tapholdTimeout=setTimeout(function(){!1!==G.touchData.singleTouchMoved||G.pinching||G.touchData.selecting||ya(G.touchData.start,["taphold"],Cd,{x:Ve[0],y:Ve[1]})},G.tapholdDuration)}if(1<=Cd.touches.length){Ne=G.touchData.startPosition=[];for(We=0;We<Ve.length;We++)Ne[We]=mf[We]=Ve[We];Ne=Cd.touches[0];G.touchData.startGPosition=[Ne.clientX,Ne.clientY]}}},!1);var ig;G.registerBinding(window,
"touchmove",ig=function(Cd){var Ne=G.touchData.capture;if(Ne||pa(Cd)){var Ve=G.selection,mf=G.cy,We=G.touchData.now,Zf=G.touchData.earlier,ng=mf.zoom();if(Cd.touches[0]){var Cf=G.projectIntoViewport(Cd.touches[0].clientX,Cd.touches[0].clientY);We[0]=Cf[0];We[1]=Cf[1]}Cd.touches[1]&&(Cf=G.projectIntoViewport(Cd.touches[1].clientX,Cd.touches[1].clientY),We[2]=Cf[0],We[3]=Cf[1]);Cd.touches[2]&&(Cf=G.projectIntoViewport(Cd.touches[2].clientX,Cd.touches[2].clientY),We[4]=Cf[0],We[5]=Cf[1]);Cf=G.touchData.startGPosition;
if(Ne&&Cd.touches[0]&&Cf){for(var Cg=[],pg=0;pg<We.length;pg++)Cg[pg]=We[pg]-Zf[pg];var fg=Cd.touches[0].clientX-Cf[0],mh=Cd.touches[0].clientY-Cf[1];var Fh=fg*fg+mh*mh>=G.touchTapThreshold2}if(Ne&&G.touchData.cxt){Cd.preventDefault();Cf=Cd.touches[0].clientX-lf;pg=Cd.touches[0].clientY-Hf;var Gh=Cd.touches[1].clientX-lf,th=Cd.touches[1].clientY-Hf;Cf=(Gh-Cf)*(Gh-Cf)+(th-pg)*(th-pg);if(2.25<=Cf/Jd||22500<=Cf)G.touchData.cxt=!1,G.data.bgActivePosistion=void 0,G.redrawHint("select",!0),Cf={originalEvent:Cd,
type:"cxttapend",position:{x:We[0],y:We[1]}},G.touchData.start?(G.touchData.start.unactivate().emit(Cf),G.touchData.start=null):mf.emit(Cf)}if(Ne&&G.touchData.cxt){Cf={originalEvent:Cd,type:"cxtdrag",position:{x:We[0],y:We[1]}};G.data.bgActivePosistion=void 0;G.redrawHint("select",!0);G.touchData.start?G.touchData.start.emit(Cf):mf.emit(Cf);G.touchData.start&&(G.touchData.start._private.grabbed=!1);G.touchData.cxtDragged=!0;var yi=G.findNearestElement(We[0],We[1],!0,!0);G.touchData.cxtOver&&yi===
G.touchData.cxtOver||(G.touchData.cxtOver&&G.touchData.cxtOver.emit({originalEvent:Cd,type:"cxtdragout",position:{x:We[0],y:We[1]}}),(G.touchData.cxtOver=yi)&&yi.emit({originalEvent:Cd,type:"cxtdragover",position:{x:We[0],y:We[1]}}))}else if(Ne&&Cd.touches[2]&&mf.boxSelectionEnabled())Cd.preventDefault(),G.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,G.touchData.selecting||mf.emit({originalEvent:Cd,type:"boxstart",position:{x:We[0],y:We[1]}}),G.touchData.selecting=!0,G.touchData.didSelect=
!0,Ve[4]=1,Ve&&0!==Ve.length&&void 0!==Ve[0]?(Ve[2]=(We[0]+We[2]+We[4])/3,Ve[3]=(We[1]+We[3]+We[5])/3):(Ve[0]=(We[0]+We[2]+We[4])/3,Ve[1]=(We[1]+We[3]+We[5])/3,Ve[2]=(We[0]+We[2]+We[4])/3+1,Ve[3]=(We[1]+We[3]+We[5])/3+1),G.redrawHint("select",!0),G.redraw();else if(Ne&&Cd.touches[1]&&!G.touchData.didSelect&&mf.zoomingEnabled()&&mf.panningEnabled()&&mf.userZoomingEnabled()&&mf.userPanningEnabled()){Cd.preventDefault();G.data.bgActivePosistion=void 0;G.redrawHint("select",!0);if(Ve=G.dragData.touchDragEles)for(G.redrawHint("drag",
!0),pg=0;pg<Ve.length;pg++)ng=Ve[pg]._private,ng.grabbed=!1,ng.rscratch.inDragLayer=!1;ng=G.touchData.start;Cf=Cd.touches[0].clientX-lf;pg=Cd.touches[0].clientY-Hf;Gh=Cd.touches[1].clientX-lf;th=Cd.touches[1].clientY-Hf;Cg=Math.sqrt((Gh-Cf)*(Gh-Cf)+(th-pg)*(th-pg));Fh=Cg/Dd;if(lg){fg=(Cf-ic+(Gh-Lc))/2;mh=(pg-Bc+(th-gd))/2;yi=mf.zoom();Fh*=yi;Ve=mf.pan();var Ui=cf[0]*yi+Ve.x,Lk=cf[1]*yi+Ve.y;fg={x:-Fh/yi*(Ui-Ve.x-fg)+Ui,y:-Fh/yi*(Lk-Ve.y-mh)+Lk};ng&&ng.active()&&(Ve=G.dragData.touchDragEles,qb(Ve),
G.redrawHint("drag",!0),G.redrawHint("eles",!0),ng.unactivate().emit("freeon"),Ve.emit("free"),G.dragData.didDrag&&(ng.emit("dragfreeon"),Ve.emit("dragfree")));mf.viewport({zoom:Fh,pan:fg,cancelOnFailedZoom:!0});mf.emit("pinchzoom");Dd=Cg;ic=Cf;Bc=pg;Lc=Gh;gd=th;G.pinching=!0}Cd.touches[0]&&(Cf=G.projectIntoViewport(Cd.touches[0].clientX,Cd.touches[0].clientY),We[0]=Cf[0],We[1]=Cf[1]);Cd.touches[1]&&(Cf=G.projectIntoViewport(Cd.touches[1].clientX,Cd.touches[1].clientY),We[2]=Cf[0],We[3]=Cf[1]);Cd.touches[2]&&
(Cf=G.projectIntoViewport(Cd.touches[2].clientX,Cd.touches[2].clientY),We[4]=Cf[0],We[5]=Cf[1])}else if(Cd.touches[0]&&!G.touchData.didSelect){Cf=G.touchData.start;pg=G.touchData.last;G.hoverData.draggingEles||G.swipePanning||(yi=G.findNearestElement(We[0],We[1],!0,!0));Ne&&null!=Cf&&Cd.preventDefault();Ne&&null!=Cf&&G.nodeIsDraggable(Cf)&&(Fh?(Ve=G.dragData.touchDragEles,(th=!G.dragData.didDrag)&&Fb(Ve,{inDragLayer:!0}),G.dragData.didDrag=!0,Gh={x:0,y:0},Rc(Cg[0])&&Rc(Cg[1])&&(Gh.x+=Cg[0],Gh.y+=
Cg[1],th&&(G.redrawHint("eles",!0),(th=G.touchData.dragDelta)&&Rc(th[0])&&Rc(th[1])&&(Gh.x+=th[0],Gh.y+=th[1]))),G.hoverData.draggingEles=!0,Ve.silentShift(Gh).emit("position drag"),G.redrawHint("drag",!0),G.touchData.startPosition[0]==Zf[0]&&G.touchData.startPosition[1]==Zf[1]&&G.redrawHint("eles",!0),G.redraw()):(th=G.touchData.dragDelta=G.touchData.dragDelta||[],0===th.length?(th.push(Cg[0]),th.push(Cg[1])):(th[0]+=Cg[0],th[1]+=Cg[1])));ya(Cf||yi,["touchmove","tapdrag","vmousemove"],Cd,{x:We[0],
y:We[1]});Cf&&Cf.grabbed()||yi==pg||(pg&&pg.emit({originalEvent:Cd,type:"tapdragout",position:{x:We[0],y:We[1]}}),yi&&yi.emit({originalEvent:Cd,type:"tapdragover",position:{x:We[0],y:We[1]}}));G.touchData.last=yi;if(Ne)for(pg=0;pg<We.length;pg++)We[pg]&&G.touchData.startPosition[pg]&&Fh&&(G.touchData.singleTouchMoved=!0);Ne&&(null==Cf||Cf.pannable())&&mf.panningEnabled()&&mf.userPanningEnabled()&&(Ka(Cf,G.touchData.starts)&&(Cd.preventDefault(),G.data.bgActivePosistion||(G.data.bgActivePosistion=
Td(G.touchData.startPosition)),G.swipePanning?(mf.panBy({x:Cg[0]*ng,y:Cg[1]*ng}),mf.emit("dragpan")):Fh&&(G.swipePanning=!0,mf.panBy({x:fg*ng,y:mh*ng}),mf.emit("dragpan"),Cf&&(Cf.unactivate(),G.redrawHint("select",!0),G.touchData.start=null))),Cf=G.projectIntoViewport(Cd.touches[0].clientX,Cd.touches[0].clientY),We[0]=Cf[0],We[1]=Cf[1])}for(pg=0;pg<We.length;pg++)Zf[pg]=We[pg];Ne&&0<Cd.touches.length&&!G.hoverData.draggingEles&&!G.swipePanning&&null!=G.data.bgActivePosistion&&(G.data.bgActivePosistion=
void 0,G.redrawHint("select",!0),G.redraw())}},!1);var Mf;G.registerBinding(window,"touchcancel",Mf=function(Cd){Cd=G.touchData.start;G.touchData.capture=!1;Cd&&Cd.unactivate()});var cg,Of,Fg,Rg;G.registerBinding(window,"touchend",cg=function(Cd){var Ne=G.touchData.start;if(G.touchData.capture){0===Cd.touches.length&&(G.touchData.capture=!1);Cd.preventDefault();var Ve=G.selection;G.swipePanning=!1;G.hoverData.draggingEles=!1;var mf=G.cy,We=mf.zoom(),Zf=G.touchData.now,ng=G.touchData.earlier;if(Cd.touches[0]){var Cf=
G.projectIntoViewport(Cd.touches[0].clientX,Cd.touches[0].clientY);Zf[0]=Cf[0];Zf[1]=Cf[1]}Cd.touches[1]&&(Cf=G.projectIntoViewport(Cd.touches[1].clientX,Cd.touches[1].clientY),Zf[2]=Cf[0],Zf[3]=Cf[1]);Cd.touches[2]&&(Cf=G.projectIntoViewport(Cd.touches[2].clientX,Cd.touches[2].clientY),Zf[4]=Cf[0],Zf[5]=Cf[1]);Ne&&Ne.unactivate();if(G.touchData.cxt)ng={originalEvent:Cd,type:"cxttapend",position:{x:Zf[0],y:Zf[1]}},Ne?Ne.emit(ng):mf.emit(ng),G.touchData.cxtDragged||(ng={originalEvent:Cd,type:"cxttap",
position:{x:Zf[0],y:Zf[1]}},Ne?Ne.emit(ng):mf.emit(ng)),G.touchData.start&&(G.touchData.start._private.grabbed=!1),G.touchData.cxt=!1,G.touchData.start=null,G.redraw();else{!Cd.touches[2]&&mf.boxSelectionEnabled()&&G.touchData.selecting&&(G.touchData.selecting=!1,Cf=mf.collection(G.getAllInBox(Ve[0],Ve[1],Ve[2],Ve[3])),Ve[0]=void 0,Ve[1]=void 0,Ve[2]=void 0,Ve[3]=void 0,Ve[4]=0,G.redrawHint("select",!0),mf.emit({type:"boxend",originalEvent:Cd,position:{x:Zf[0],y:Zf[1]}}),Cf.emit("box").stdFilter(function(Cg){return Cg.selectable()&&
!Cg.selected()}).select().emit("boxselect"),Cf.nonempty()&&G.redrawHint("eles",!0),G.redraw());null!=Ne&&Ne.unactivate();Cd.touches[2]?(G.data.bgActivePosistion=void 0,G.redrawHint("select",!0)):Cd.touches[1]||Cd.touches[0]||Cd.touches[0]||(G.data.bgActivePosistion=void 0,G.redrawHint("select",!0),Ve=G.dragData.touchDragEles,null!=Ne?(Cf=Ne._private.grabbed,qb(Ve),G.redrawHint("drag",!0),G.redrawHint("eles",!0),Cf&&(Ne.emit("freeon"),Ve.emit("free"),G.dragData.didDrag&&(Ne.emit("dragfreeon"),Ve.emit("dragfree"))),
ya(Ne,["touchend","tapend","vmouseup","tapdragout"],Cd,{x:Zf[0],y:Zf[1]}),Ne.unactivate(),G.touchData.start=null):(Ve=G.findNearestElement(Zf[0],Zf[1],!0,!0),ya(Ve,["touchend","tapend","vmouseup","tapdragout"],Cd,{x:Zf[0],y:Zf[1]})),Ve=G.touchData.startPosition[0]-Zf[0],Cf=G.touchData.startPosition[1]-Zf[1],We*=(Ve*Ve+Cf*Cf)*We,G.touchData.singleTouchMoved||(Ne||mf.$(":selected").unselect(["tapunselect"]),ya(Ne,["tap","vclick"],Cd,{x:Zf[0],y:Zf[1]}),Of=!1,Cd.timeStamp-Rg<=mf.multiClickDebounceTime()?
(Fg&&clearTimeout(Fg),Of=!0,Rg=null,ya(Ne,["dbltap","vdblclick"],Cd,{x:Zf[0],y:Zf[1]})):(Fg=setTimeout(function(){Of||ya(Ne,["onetap","voneclick"],Cd,{x:Zf[0],y:Zf[1]})},mf.multiClickDebounceTime()),Rg=Cd.timeStamp)),null!=Ne&&!G.dragData.didDrag&&Ne._private.selectable&&We<G.touchTapThreshold2&&!G.pinching&&("single"===mf.selectionType()?(mf.$(ca).unmerge(Ne).unselect(["tapunselect"]),Ne.select(["tapselect"])):Ne.selected()?Ne.unselect(["tapunselect"]):Ne.select(["tapselect"]),G.redrawHint("eles",
!0)),G.touchData.singleTouchMoved=!0);for(mf=0;mf<Zf.length;mf++)ng[mf]=Zf[mf];G.dragData.didDrag=!1;0===Cd.touches.length&&(G.touchData.dragDelta=[],G.touchData.startPosition=null,G.touchData.startGPosition=null,G.touchData.didSelect=!1);2>Cd.touches.length&&(1===Cd.touches.length&&(G.touchData.startGPosition=[Cd.touches[0].clientX,Cd.touches[0].clientY]),G.pinching=!1,G.redrawHint("eles",!0),G.redraw())}}},!1);if("undefined"===typeof TouchEvent){var Bg=[],Eg=function(Cd){return{clientX:Cd.clientX,
clientY:Cd.clientY,force:1,identifier:Cd.pointerId,pageX:Cd.pageX,pageY:Cd.pageY,radiusX:Cd.width/2,radiusY:Cd.height/2,screenX:Cd.screenX,screenY:Cd.screenY,target:Cd.target}},xi=function(Cd){for(var Ne=0;Ne<Bg.length;Ne++)if(Bg[Ne].event.pointerId===Cd.pointerId){Bg.splice(Ne,1);break}},rh=function(Cd){var Ne=Bg.filter(function(Ve){return Ve.event.pointerId===Cd.pointerId})[0];Ne.event=Cd;Ne.touch=Eg(Cd)},ih=function(Cd){Cd.touches=Bg.map(function(Ne){return Ne.touch})},Pk=function(Cd){return"mouse"===
Cd.pointerType||4===Cd.pointerType};G.registerBinding(G.container,"pointerdown",function(Cd){Pk(Cd)||(Cd.preventDefault(),Bg.push({event:Cd,touch:Eg(Cd)}),ih(Cd),ag(Cd))});G.registerBinding(G.container,"pointerup",function(Cd){Pk(Cd)||(xi(Cd),ih(Cd),cg(Cd))});G.registerBinding(G.container,"pointercancel",function(Cd){Pk(Cd)||(xi(Cd),ih(Cd),Mf(Cd))});G.registerBinding(G.container,"pointermove",function(Cd){Pk(Cd)||(Cd.preventDefault(),rh(Cd),ih(Cd),ig(Cd))})}}},{generatePolygon:function(G,ca){return this.nodeShapes[G]=
{renderer:this,name:G,points:ca,draw:function(ya,Ka,ab,ob,rb){this.renderer.nodeShapeImpl("polygon",ya,Ka,ab,ob,rb,this.points)},intersectLine:function(ya,Ka,ab,ob,rb,Fb,qb){return Qb(rb,Fb,this.points,ya,Ka,ab/2,ob/2,qb)},checkPoint:function(ya,Ka,ab,ob,rb,Fb,qb){return $a(ya,Ka,this.points,Fb,qb,ob,rb,[0,-1],ab)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(G,ca,ya,Ka,ab){this.renderer.nodeShapeImpl(this.name,G,ca,ya,Ka,ab)},intersectLine:function(G,
ca,ya,Ka,ab,ob,rb){ya=(G-ab)/(ya/2+rb);Ka=(ca-ob)/(Ka/2+rb);Ka=Math.sqrt(ya*ya+Ka*Ka);rb=Ka-1;0>rb?G=[]:(Ka=rb/Ka,G=[(G-ab)*Ka+ab,(ca-ob)*Ka+ob]);return G},checkPoint:function(G,ca,ya,Ka,ab,ob,rb){return cc(G,ca,Ka,ab,ob,rb,ya)}}},generateRoundPolygon:function(G,ca){for(var ya=Array(2*ca.length),Ka=0;Ka<ca.length/2;Ka++){var ab=2*Ka,ob=void 0;ob=Ka<ca.length/2-1?2*(Ka+1):0;ya[4*Ka]=ca[ab];ya[4*Ka+1]=ca[ab+1];var rb=ca[ob]-ca[ab];ab=ca[ob+1]-ca[ab+1];ob=Math.sqrt(rb*rb+ab*ab);ya[4*Ka+2]=rb/ob;ya[4*
Ka+3]=ab/ob}return this.nodeShapes[G]={renderer:this,name:G,points:ya,draw:function(Fb,qb,Ub,Zb,Ec){this.renderer.nodeShapeImpl("round-polygon",Fb,qb,Ub,Zb,Ec,this.points)},intersectLine:function(Fb,qb,Ub,Zb,Ec,n,Q){var ta=this.points;Q=[];var pa=Array(ta.length),Oa=Ub/2,hb=Zb/2;Ub=Math.min(Ub/10,Zb/10,8);for(Zb=0;Zb<ta.length/4;Zb++){var yb=0===Zb?ta.length-2:4*Zb-2;var Kb=4*Zb+2;var ic=Fb+Oa*ta[4*Zb],Bc=qb+hb*ta[4*Zb+1],Lc=Ub/Math.tan(Math.acos(-ta[yb]*ta[Kb]-ta[yb+1]*ta[Kb+1])/2),gd=ic-Lc*ta[yb],
Dd=Bc-Lc*ta[yb+1];ic+=Lc*ta[Kb];Bc+=Lc*ta[Kb+1];0===Zb?(pa[ta.length-2]=gd,pa[ta.length-1]=Dd):(pa[4*Zb-2]=gd,pa[4*Zb-1]=Dd);pa[4*Zb]=ic;pa[4*Zb+1]=Bc;Bc=ta[yb+1];yb=-ta[yb];0>Bc*ta[Kb]+yb*ta[Kb+1]&&(Bc*=-1,yb*=-1);Kb=vc(Ec,n,Fb,qb,gd+Bc*Ub,Dd+yb*Ub,Ub);0!==Kb.length&&Q.push(Kb[0],Kb[1])}for(ta=0;ta<pa.length/4;ta++)Kb=jb(Ec,n,Fb,qb,pa[4*ta],pa[4*ta+1],pa[4*ta+2],pa[4*ta+3],!1),0!==Kb.length&&Q.push(Kb[0],Kb[1]);if(2<Q.length){Fb=[Q[0],Q[1]];qb=Math.pow(Fb[0]-Ec,2)+Math.pow(Fb[1]-n,2);for(pa=1;pa<
Q.length/2;pa++)ta=Math.pow(Q[2*pa]-Ec,2)+Math.pow(Q[2*pa+1]-n,2),ta<=qb&&(Fb[0]=Q[2*pa],Fb[1]=Q[2*pa+1],qb=ta);Ec=Fb}else Ec=Q;return Ec},checkPoint:function(Fb,qb,Ub,Zb,Ec,n,Q){a:{Ub=this.points;var ta=Array(Ub.length),pa=Zb/2,Oa=Ec/2;Zb=Math.min(Zb/10,Ec/10,8);Ec=Zb*Zb;for(var hb=0;hb<Ub.length/4;hb++){var yb=0===hb?Ub.length-2:4*hb-2;var Kb=4*hb+2;var ic=n+pa*Ub[4*hb],Bc=Q+Oa*Ub[4*hb+1],Lc=Zb/Math.tan(Math.acos(-Ub[yb]*Ub[Kb]-Ub[yb+1]*Ub[Kb+1])/2),gd=ic-Lc*Ub[yb],Dd=Bc-Lc*Ub[yb+1];ic+=Lc*Ub[Kb];
Bc+=Lc*Ub[Kb+1];ta[4*hb]=gd;ta[4*hb+1]=Dd;ta[4*hb+2]=ic;ta[4*hb+3]=Bc;Bc=Ub[yb+1];yb=-Ub[yb];0>Bc*Ub[Kb]+yb*Ub[Kb+1]&&(Bc*=-1,yb*=-1);if(Math.pow(gd+Bc*Zb-Fb,2)+Math.pow(Dd+yb*Zb-qb,2)<=Ec){Fb=!0;break a}}Fb=Pc(Fb,qb,ta)}return Fb}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Qc(4,0),draw:function(G,ca,ya,Ka,ab){this.renderer.nodeShapeImpl(this.name,G,ca,ya,Ka,ab)},intersectLine:function(G,
ca,ya,Ka,ab,ob,rb){return lc(ab,ob,G,ca,ya,Ka,rb)},checkPoint:function(G,ca,ya,Ka,ab,ob,rb){var Fb=Math.min(Ka/4,ab/4,8),qb=2*Fb;return $a(G,ca,this.points,ob,rb,Ka,ab-qb,[0,-1],ya)||$a(G,ca,this.points,ob,rb,Ka-qb,ab,[0,-1],ya)||cc(G,ca,qb,qb,ob-Ka/2+Fb,rb-ab/2+Fb,ya)||cc(G,ca,qb,qb,ob+Ka/2-Fb,rb-ab/2+Fb,ya)||cc(G,ca,qb,qb,ob+Ka/2-Fb,rb+ab/2-Fb,ya)||cc(G,ca,qb,qb,ob-Ka/2+Fb,rb+ab/2-Fb,ya)?!0:!1}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle=
{renderer:this,name:"cut-rectangle",cornerLength:8,points:Qc(4,0),draw:function(G,ca,ya,Ka,ab){this.renderer.nodeShapeImpl(this.name,G,ca,ya,Ka,ab)},generateCutTrianglePts:function(G,ca,ya,Ka){var ab=this.cornerLength;ca/=2;var ob=G/2;G=ya-ob;ya+=ob;ob=Ka-ca;Ka+=ca;return{topLeft:[G,ob+ab,G+ab,ob,G+ab,ob+ab],topRight:[ya-ab,ob,ya,ob+ab,ya-ab,ob+ab],bottomRight:[ya,Ka-ab,ya-ab,Ka,ya-ab,Ka-ab],bottomLeft:[G+ab,Ka,G,Ka-ab,G+ab,Ka-ab]}},intersectLine:function(G,ca,ya,Ka,ab,ob,rb){ya=this.generateCutTrianglePts(ya+
2*rb,Ka+2*rb,G,ca);ya=[].concat.apply([],[ya.topLeft.splice(0,4),ya.topRight.splice(0,4),ya.bottomRight.splice(0,4),ya.bottomLeft.splice(0,4)]);return Qb(ab,ob,ya,G,ca)},checkPoint:function(G,ca,ya,Ka,ab,ob,rb){if($a(G,ca,this.points,ob,rb,Ka,ab-2*this.cornerLength,[0,-1],ya)||$a(G,ca,this.points,ob,rb,Ka-2*this.cornerLength,ab,[0,-1],ya))return!0;ya=this.generateCutTrianglePts(Ka,ab,ob,rb);return Pc(G,ca,ya.topLeft)||Pc(G,ca,ya.topRight)||Pc(G,ca,ya.bottomRight)||Pc(G,ca,ya.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel=
{renderer:this,name:"barrel",points:Qc(4,0),draw:function(G,ca,ya,Ka,ab){this.renderer.nodeShapeImpl(this.name,G,ca,ya,Ka,ab)},intersectLine:function(G,ca,ya,Ka,ab,ob,rb){ya=this.generateBarrelBezierPts(ya+2*rb,Ka+2*rb,G,ca);Ka=function(Fb){var qb=Zg({x:Fb[0],y:Fb[1]},{x:Fb[2],y:Fb[3]},{x:Fb[4],y:Fb[5]},.15),Ub=Zg({x:Fb[0],y:Fb[1]},{x:Fb[2],y:Fb[3]},{x:Fb[4],y:Fb[5]},.5),Zb=Zg({x:Fb[0],y:Fb[1]},{x:Fb[2],y:Fb[3]},{x:Fb[4],y:Fb[5]},.85);return[Fb[0],Fb[1],qb.x,qb.y,Ub.x,Ub.y,Zb.x,Zb.y,Fb[4],Fb[5]]};
ya=[].concat(Ka(ya.topLeft),Ka(ya.topRight),Ka(ya.bottomRight),Ka(ya.bottomLeft));return Qb(ab,ob,ya,G,ca)},generateBarrelBezierPts:function(G,ca,ya,Ka){var ab=ca/2,ob=G/2,rb=ya-ob;ya+=ob;ob=Ka-ab;Ka+=ab;var Fb=Wd(G,ca);ca=Fb.heightOffset;ab=Fb.widthOffset;G*=Fb.ctrlPtOffsetPct;rb={topLeft:[rb,ob+ca,rb+G,ob,rb+ab,ob],topRight:[ya-ab,ob,ya-G,ob,ya,ob+ca],bottomRight:[ya,Ka-ca,ya-G,Ka,ya-ab,Ka],bottomLeft:[rb+ab,Ka,rb+G,Ka,rb,Ka-ca]};rb.topLeft.isTop=!0;rb.topRight.isTop=!0;rb.bottomLeft.isBottom=!0;
rb.bottomRight.isBottom=!0;return rb},checkPoint:function(G,ca,ya,Ka,ab,ob,rb){var Fb=Wd(Ka,ab),qb=Fb.widthOffset;if($a(G,ca,this.points,ob,rb,Ka,ab-2*Fb.heightOffset,[0,-1],ya)||$a(G,ca,this.points,ob,rb,Ka-2*qb,ab,[0,-1],ya))return!0;ya=this.generateBarrelBezierPts(Ka,ab,ob,rb);Ka=function(Ub,Zb,Ec){var n=Ec[4],Q=Ec[2],ta=Ec[0],pa=Ec[5],Oa=Ec[1];Ec=Math.max(n,ta);var hb=Math.min(pa,Oa);pa=Math.max(pa,Oa);return Math.min(n,ta)<=Ub&&Ub<=Ec&&hb<=Zb&&Zb<=pa&&(Zb=[n-2*Q+ta,2*(Q-n),n],Ub=rc(Zb[0],Zb[1],
Zb[2],Ub).filter(function(yb){return 0<=yb&&1>=yb}),0<Ub.length)?Ub[0]:null};ab=Object.keys(ya);for(ob=0;ob<ab.length;ob++)if(rb=ya[ab[ob]],Fb=Ka(G,ca,rb),null!=Fb&&(Fb=dh(rb[5],rb[3],rb[1],Fb),rb.isTop&&Fb<=ca||rb.isBottom&&ca<=Fb))return!0;return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Qc(4,0),draw:function(G,ca,ya,Ka,ab){this.renderer.nodeShapeImpl(this.name,
G,ca,ya,Ka,ab)},intersectLine:function(G,ca,ya,Ka,ab,ob,rb){var Fb=ca-(Ka/2+rb);Fb=jb(ab,ob,G,ca,G-(ya/2+rb),Fb,G+(ya/2+rb),Fb,!1);return 0<Fb.length?Fb:lc(ab,ob,G,ca,ya,Ka,rb)},checkPoint:function(G,ca,ya,Ka,ab,ob,rb){var Fb=Math.min(Ka/4,ab/4,8),qb=2*Fb;if($a(G,ca,this.points,ob,rb,Ka,ab-qb,[0,-1],ya)||$a(G,ca,this.points,ob,rb,Ka-qb,ab,[0,-1],ya))return!0;var Ub=Ka/2+2*ya,Zb=ab/2+2*ya;return Pc(G,ca,[ob-Ub,rb-Zb,ob-Ub,rb,ob+Ub,rb,ob+Ub,rb-Zb])||cc(G,ca,qb,qb,ob+Ka/2-Fb,rb+ab/2-Fb,ya)||cc(G,ca,
qb,qb,ob-Ka/2+Fb,rb+ab/2-Fb,ya)?!0:!1}}},registerNodeShapes:function(){var G=this.nodeShapes={},ca=this;this.generateEllipse();this.generatePolygon("triangle",Qc(3,0));this.generateRoundPolygon("round-triangle",Qc(3,0));this.generatePolygon("rectangle",Qc(4,0));G.square=G.rectangle;this.generateRoundRectangle();this.generateCutRectangle();this.generateBarrel();this.generateBottomRoundrectangle();var ya=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",ya);this.generateRoundPolygon("round-diamond",
ya);this.generatePolygon("pentagon",Qc(5,0));this.generateRoundPolygon("round-pentagon",Qc(5,0));this.generatePolygon("hexagon",Qc(6,0));this.generateRoundPolygon("round-hexagon",Qc(6,0));this.generatePolygon("heptagon",Qc(7,0));this.generateRoundPolygon("round-heptagon",Qc(7,0));this.generatePolygon("octagon",Qc(8,0));this.generateRoundPolygon("round-octagon",Qc(8,0));ya=Array(20);var Ka=vd(5,0),ab=vd(5,Math.PI/5),ob=.5*(3-Math.sqrt(5));ob*=1.57;for(var rb=0;rb<ab.length/2;rb++)ab[2*rb]*=ob,ab[2*
rb+1]*=ob;for(rb=0;5>rb;rb++)ya[4*rb]=Ka[2*rb],ya[4*rb+1]=Ka[2*rb+1],ya[4*rb+2]=ab[2*rb],ya[4*rb+3]=ab[2*rb+1];ya=Cc(ya);this.generatePolygon("star",ya);this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]);this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]);this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);ya=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",ya);this.generateRoundPolygon("round-tag",ya);G.makePolygon=
function(Fb){var qb="polygon-"+Fb.join("$"),Ub;return(Ub=this[qb])?Ub:ca.generatePolygon(qb,Fb)}}},Qj].forEach(function(G){Dc(rg,G)});var mj=1E3/60,Rk={setupDequeueing:function(G){return function(){var ca=this,ya=this.renderer;if(!ca.dequeueingSetup){ca.dequeueingSetup=!0;var Ka=xa(function(){ya.redrawHint("eles",!0);ya.redrawHint("drag",!0);ya.redraw()},G.deqRedrawThreshold);ya.beforeRender(function(ab,ob){var rb=Jc(),Fb=ya.averageRedrawTime,qb=ya.lastRedrawTime,Ub=[],Zb=ya.cy.extent(),Ec=ya.getPixelRatio();
for(ab||ya.flushRenderedStyleQueue();;){var n=Jc(),Q=n-rb;n-=ob;if(qb<mj){if(n>=G.deqFastCost*(mj-(ab?Fb:0)))break}else if(ab){if(Q>=G.deqCost*qb||Q>=G.deqAvgCost*Fb)break}else if(n>=G.deqNoDrawCost*mj)break;Q=G.deq(ca,Ec,Zb);if(0<Q.length)for(n=0;n<Q.length;n++)Ub.push(Q[n]);else break}0<Ub.length&&(G.onDeqd(ca,Ub),!ab&&G.shouldRedraw(ca,Ub,Ec,Zb)&&Ka())},(G.priority||$d)(ca))}}}},wj=function(){function G(ca){var ya=1<arguments.length&&void 0!==arguments[1]?arguments[1]:hd;h(this,G);this.idsByKey=
new pf;this.keyForId=new pf;this.cachesByLvl=new pf;this.lvls=[];this.getKey=ca;this.doesEleInvalidateKey=ya}u(G,[{key:"getIdsFor",value:function(ca){null==ca&&cd("Can not get id list for null key");var ya=this.idsByKey,Ka=this.idsByKey.get(ca);Ka||(Ka=new wg,ya.set(ca,Ka));return Ka}},{key:"addIdForKey",value:function(ca,ya){null!=ca&&this.getIdsFor(ca).add(ya)}},{key:"deleteIdForKey",value:function(ca,ya){if(null!=ca)this.getIdsFor(ca)["delete"](ya)}},{key:"getNumberOfIdsForKey",value:function(ca){return null==
ca?0:this.getIdsFor(ca).size}},{key:"updateKeyMappingFor",value:function(ca){var ya=ca.id(),Ka=this.keyForId.get(ya);ca=this.getKey(ca);this.deleteIdForKey(Ka,ya);this.addIdForKey(ca,ya);this.keyForId.set(ya,ca)}},{key:"deleteKeyMappingFor",value:function(ca){ca=ca.id();var ya=this.keyForId.get(ca);this.deleteIdForKey(ya,ca);this.keyForId["delete"](ca)}},{key:"keyHasChangedFor",value:function(ca){var ya=ca.id();ya=this.keyForId.get(ya);ca=this.getKey(ca);return ya!==ca}},{key:"isInvalid",value:function(ca){return this.keyHasChangedFor(ca)||
this.doesEleInvalidateKey(ca)}},{key:"getCachesAt",value:function(ca){var ya=this.cachesByLvl,Ka=this.lvls,ab=ya.get(ca);ab||(ab=new pf,ya.set(ca,ab),Ka.push(ca));return ab}},{key:"getCache",value:function(ca,ya){return this.getCachesAt(ya).get(ca)}},{key:"get",value:function(ca,ya){var Ka=this.getKey(ca);ya=this.getCache(Ka,ya);null!=ya&&this.updateKeyMappingFor(ca);return ya}},{key:"getForCachedKey",value:function(ca,ya){ca=this.keyForId.get(ca.id());return this.getCache(ca,ya)}},{key:"hasCache",
value:function(ca,ya){return this.getCachesAt(ya).has(ca)}},{key:"has",value:function(ca,ya){ca=this.getKey(ca);return this.hasCache(ca,ya)}},{key:"setCache",value:function(ca,ya,Ka){Ka.key=ca;this.getCachesAt(ya).set(ca,Ka)}},{key:"set",value:function(ca,ya,Ka){var ab=this.getKey(ca);this.setCache(ab,ya,Ka);this.updateKeyMappingFor(ca)}},{key:"deleteCache",value:function(ca,ya){this.getCachesAt(ya)["delete"](ca)}},{key:"delete",value:function(ca,ya){ca=this.getKey(ca);this.deleteCache(ca,ya)}},{key:"invalidateKey",
value:function(ca){var ya=this;this.lvls.forEach(function(Ka){return ya.deleteCache(ca,Ka)})}},{key:"invalidate",value:function(ca){var ya=ca.id();ya=this.keyForId.get(ya);this.deleteKeyMappingFor(ca);(ca=this.doesEleInvalidateKey(ca))&&this.invalidateKey(ya);return ca||0===this.getNumberOfIdsForKey(ya)}}]);return G}(),Gi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Fj=Ye({getKey:null,doesEleInvalidateKey:hd,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,
isVisible:od,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),fj=function(G,ca){this.renderer=G;this.onDequeues=[];G=Fj(ca);Dc(this,G);this.lookup=new wj(G.getKey,G.doesEleInvalidateKey);this.setupDequeueing()},Ph=fj.prototype;Ph.reasons=Gi;Ph.getTextureQueue=function(G){this.eleImgCaches=this.eleImgCaches||{};return this.eleImgCaches[G]=this.eleImgCaches[G]||[]};Ph.getRetiredTextureQueue=function(G){var ca=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return ca[G]=ca[G]||[]};Ph.getElementQueue=
function(){return this.eleCacheQueue=this.eleCacheQueue||new Ia(function(G,ca){return ca.reqs-G.reqs})};Ph.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}};Ph.getElement=function(G,ca,ya,Ka,ab){var ob=this.renderer,rb=ob.cy.zoom(),Fb=this.lookup;if(!ca||0===ca.w||0===ca.h||isNaN(ca.w)||isNaN(ca.h)||!G.visible()||G.removed()||!this.allowEdgeTxrCaching&&G.isEdge()||!this.allowParentTxrCaching&&G.isParent())return null;null==Ka&&(Ka=Math.ceil(jf(rb*ya)));if(-4>
Ka)Ka=-4;else if(7.99<=rb||3<Ka)return null;rb=Math.pow(2,Ka);var qb=ca.h*rb,Ub=ca.w*rb;ob=ob.eleTextBiggerThanMin(G,rb);if(!this.isVisible(G,ob))return null;var Zb=Fb.get(G,Ka);Zb&&Zb.invalidated&&(Zb.invalidated=!1,Zb.texture.invalidatedWidth-=Zb.width);if(Zb)return Zb;Zb=25>=qb?25:50>=qb?50:50*Math.ceil(qb/50);if(1024<qb||1024<Ub)return null;var Ec=this.getTextureQueue(Zb),n=Ec[Ec.length-2];n||(n=Ec[Ec.length-1]);n||(n=this.recycleTexture(Zb,Ub)||this.addTexture(Zb,Ub));n.width-n.usedWidth<Ub&&
(n=this.recycleTexture(Zb,Ub)||this.addTexture(Zb,Ub));Ec=ab&&ab===Gi.dequeue;var Q=ab&&ab===Gi.highQuality;ab=ab&&ab===Gi.downscale;for(var ta,pa=Ka+1;3>=pa;pa++){var Oa=Fb.get(G,pa);if(Oa){ta=Oa;break}}var hb=ta&&ta.level===Ka+1?ta:null;pa=function(){n.context.drawImage(hb.texture.canvas,hb.x,0,hb.width,hb.height,n.usedWidth,0,Ub,qb)};n.context.setTransform(1,0,0,1,0,0);n.context.clearRect(n.usedWidth,0,Ub,Zb);if(hb&&hb.scaledLabelShown===ob)pa();else if(ta&&ta.scaledLabelShown===ob)if(Q){for(var yb=
ta.level;yb>Ka;yb--)hb=this.getElement(G,ca,ya,yb,Gi.downscale);pa()}else return this.queueElement(G,ta.level-1),ta;else{if(!Ec&&!Q&&!ab)for(ya=Ka-1;-4<=ya;ya--)if(ta=Fb.get(G,ya)){yb=ta;break}if(yb&&yb.scaledLabelShown===ob)return this.queueElement(G,Ka),yb;n.context.translate(n.usedWidth,0);n.context.scale(rb,rb);this.drawElement(n.context,G,ca,ob,!1);n.context.scale(1/rb,1/rb);n.context.translate(-n.usedWidth,0)}Zb={x:n.usedWidth,texture:n,level:Ka,scale:rb,width:Ub,height:qb,scaledLabelShown:ob};
n.usedWidth+=Math.ceil(Ub+8);n.eleCaches.push(Zb);Fb.set(G,Ka,Zb);this.checkTextureFullness(n);return Zb};Ph.invalidateElements=function(G){for(var ca=0;ca<G.length;ca++)this.invalidateElement(G[ca])};Ph.invalidateElement=function(G){var ca=this.lookup,ya=[];if(ca.isInvalid(G)){for(var Ka=-4;3>=Ka;Ka++){var ab=ca.getForCachedKey(G,Ka);ab&&ya.push(ab)}if(ca.invalidate(G))for(ca=0;ca<ya.length;ca++)Ka=ya[ca],ab=Ka.texture,ab.invalidatedWidth+=Ka.width,Ka.invalidated=!0,this.checkTextureUtility(ab);
this.removeFromQueue(G)}};Ph.checkTextureUtility=function(G){G.invalidatedWidth>=.2*G.width&&this.retireTexture(G)};Ph.checkTextureFullness=function(G){var ca=this.getTextureQueue(G.height);.8<G.usedWidth/G.width&&10<=G.fullnessChecks?af(ca,G):G.fullnessChecks++};Ph.retireTexture=function(G){var ca=G.height,ya=this.getTextureQueue(ca),Ka=this.lookup;af(ya,G);G.retired=!0;ya=G.eleCaches;for(var ab=0;ab<ya.length;ab++){var ob=ya[ab];Ka.deleteCache(ob.key,ob.level)}jg(ya);this.getRetiredTextureQueue(ca).push(G)};
Ph.addTexture=function(G,ca){var ya={};this.getTextureQueue(G).push(ya);ya.eleCaches=[];ya.height=G;ya.width=Math.max(1024,ca);ya.usedWidth=0;ya.invalidatedWidth=0;ya.fullnessChecks=0;ya.canvas=this.renderer.makeOffscreenCanvas(ya.width,ya.height);ya.context=ya.canvas.getContext("2d");return ya};Ph.recycleTexture=function(G,ca){var ya=this.getTextureQueue(G);G=this.getRetiredTextureQueue(G);for(var Ka=0;Ka<G.length;Ka++){var ab=G[Ka];if(ab.width>=ca)return ab.retired=!1,ab.usedWidth=0,ab.invalidatedWidth=
0,ab.fullnessChecks=0,jg(ab.eleCaches),ab.context.setTransform(1,0,0,1,0,0),ab.context.clearRect(0,0,ab.width,ab.height),af(G,ab),ya.push(ab),ab}};Ph.queueElement=function(G,ca){var ya=this.getElementQueue(),Ka=this.getElementKeyToQueue(),ab=this.getKey(G),ob=Ka[ab];ob?(ob.level=Math.max(ob.level,ca),ob.eles.merge(G),ob.reqs++,ya.updateItem(ob)):(G={eles:G.spawn().merge(G),level:ca,reqs:1,key:ab},ya.push(G),Ka[ab]=G)};Ph.dequeue=function(G){for(var ca=this.getElementQueue(),ya=this.getElementKeyToQueue(),
Ka=[],ab=this.lookup,ob=0;1>ob;ob++)if(0<ca.size()){var rb=ca.pop(),Fb=rb.key,qb=rb.eles[0],Ub=ab.hasCache(qb,rb.level);ya[Fb]=null;Ub||(Ka.push(rb),Fb=this.getBoundingBox(qb),this.getElement(qb,Fb,G,rb.level,Gi.dequeue))}else break;return Ka};Ph.removeFromQueue=function(G){var ca=this.getElementQueue(),ya=this.getElementKeyToQueue(),Ka=this.getKey(G),ab=ya[Ka];null!=ab&&(1===ab.eles.length?(ab.reqs=me,ca.updateItem(ab),ca.pop(),ya[Ka]=null):ab.eles.unmerge(G))};Ph.onDequeue=function(G){this.onDequeues.push(G)};
Ph.offDequeue=function(G){af(this.onDequeues,G)};Ph.setupDequeueing=Rk.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(G,ca,ya){return G.dequeue(ca,ya)},onDeqd:function(G,ca){for(var ya=0;ya<G.onDequeues.length;ya++)(0,G.onDequeues[ya])(ca)},shouldRedraw:function(G,ca,ya,Ka){for(G=0;G<ca.length;G++){ya=ca[G].eles;for(var ab=0;ab<ya.length;ab++){var ob=ya[ab].boundingBox();if(Ya(ob,Ka))return!0}}return!1},priority:function(G){return G.renderer.beforeRenderPriorities.eleTxrDeq}});
var sh=function(G){var ca=this;G=ca.renderer=G;var ya=G.cy;ca.layersByLevel={};ca.firstGet=!0;ca.lastInvalidationTime=Jc()-500;ca.skipping=!1;ca.eleTxrDeqs=ya.collection();ca.scheduleElementRefinement=xa(function(){ca.refineElementTextures(ca.eleTxrDeqs);ca.eleTxrDeqs.unmerge(ca.eleTxrDeqs)},50);G.beforeRender(function(Ka,ab){ca.skipping=250>=ab-ca.lastInvalidationTime?!0:!1},G.beforeRenderPriorities.lyrTxrSkip);ca.layersQueue=new Ia(function(Ka,ab){return ab.reqs-Ka.reqs});ca.setupDequeueing()},
uh=sh.prototype,hi=0,ii=Math.pow(2,53)-1;uh.makeLayer=function(G,ca){var ya=Math.pow(2,ca),Ka=Math.ceil(G.w*ya),ab=Math.ceil(G.h*ya),ob=this.renderer.makeOffscreenCanvas(Ka,ab);G={id:hi=++hi%ii,bb:G,level:ca,width:Ka,height:ab,canvas:ob,context:ob.getContext("2d"),eles:[],elesQueue:[],reqs:0};ca=G.context;Ka=-G.bb.x1;ab=-G.bb.y1;ca.scale(ya,ya);ca.translate(Ka,ab);return G};uh.getLayers=function(G,ca,ya){var Ka=this,ab=Ka.renderer.cy.zoom(),ob=Ka.firstGet;Ka.firstGet=!1;if(null==ya)if(ya=Math.ceil(jf(ab*
ca)),-4>ya)ya=-4;else if(3.99<=ab||2<ya)return null;Ka.validateLayersElesOrdering(ya,G);var rb=Ka.layersByLevel,Fb=Math.pow(2,ya),qb=rb[ya]=rb[ya]||[],Ub,Zb;if(Ka.levelIsComplete(ya,G))return qb;(function(){var hb=function(Kb){if(!Zb)for(var ic=ya+Kb;-4<=ic&&2>=ic;ic+=Kb){var Bc=ic;Ka.validateLayersElesOrdering(Bc,G);Ka.levelIsComplete(Bc,G)?(Zb=rb[Bc],Bc=!0):Bc=void 0;if(Bc)break}};hb(1);hb(-1);for(hb=qb.length-1;0<=hb;hb--){var yb=qb[hb];yb.invalid&&af(qb,yb)}})();ab=function(hb){hb=hb||{};var yb=
hb.after;if(!Ub){Ub=be();for(var Kb=0;Kb<G.length;Kb++){var ic=Ub,Bc=G[Kb].boundingBox();ic.x1=Math.min(ic.x1,Bc.x1);ic.x2=Math.max(ic.x2,Bc.x2);ic.w=ic.x2-ic.x1;ic.y1=Math.min(ic.y1,Bc.y1);ic.y2=Math.max(ic.y2,Bc.y2);ic.h=ic.y2-ic.y1}}if(16E6<Ub.w*Fb*Ub.h*Fb)return null;Kb=Ka.makeLayer(Ub,ya);null!=yb?(hb=qb.indexOf(yb)+1,qb.splice(hb,0,Kb)):(void 0===hb.insert||hb.insert)&&qb.unshift(Kb);return Kb};if(Ka.skipping&&!ob)return null;var Ec=null,n=G.length/1;ob=!ob;for(var Q=0;Q<G.length;Q++){var ta=
G[Q],pa=ta._private.rscratch;pa=pa.imgLayerCaches=pa.imgLayerCaches||{};var Oa=pa[ya];if(Oa)Ec=Oa;else{if(!Ec||Ec.eles.length>=n||!fc(Ec.bb,ta.boundingBox()))if(Ec=ab({insert:!0,after:Ec}),!Ec)return null;Zb||ob?Ka.queueLayer(Ec,ta):Ka.drawEleInLayer(Ec,ta,ya,ca);Ec.eles.push(ta);pa[ya]=Ec}}return Zb?Zb:ob?null:qb};uh.getEleLevelForLayerLevel=function(G,ca){return G};uh.drawEleInLayer=function(G,ca,ya,Ka){var ab=this.renderer;G=G.context;var ob=ca.boundingBox();0!==ob.w&&0!==ob.h&&ca.visible()&&(ya=
this.getEleLevelForLayerLevel(ya,Ka),ab.setImgSmoothing(G,!1),ab.drawCachedElement(G,ca,null,null,ya,!0),ab.setImgSmoothing(G,!0))};uh.levelIsComplete=function(G,ca){G=this.layersByLevel[G];if(!G||0===G.length)return!1;for(var ya=0,Ka=0;Ka<G.length;Ka++){var ab=G[Ka];if(0<ab.reqs||ab.invalid)return!1;ya+=ab.eles.length}return ya!==ca.length?!1:!0};uh.validateLayersElesOrdering=function(G,ca){if(G=this.layersByLevel[G])for(var ya=0;ya<G.length;ya++){for(var Ka=G[ya],ab=-1,ob=0;ob<ca.length;ob++)if(Ka.eles[0]===
ca[ob]){ab=ob;break}if(0>ab)this.invalidateLayer(Ka);else for(ob=0;ob<Ka.eles.length;ob++)if(Ka.eles[ob]!==ca[ab+ob]){this.invalidateLayer(Ka);break}}};uh.updateElementsInLayers=function(G,ca){for(var ya=ze(G[0]),Ka=0;Ka<G.length;Ka++){var ab=ya?null:G[Ka],ob=ya?G[Ka]:G[Ka].ele,rb=ob._private.rscratch;rb=rb.imgLayerCaches=rb.imgLayerCaches||{};for(var Fb=-4;2>=Fb;Fb++){var qb=rb[Fb];qb&&(ab&&this.getEleLevelForLayerLevel(qb.level)!==ab.level||ca(qb,ob,ab))}}};uh.haveLayers=function(){for(var G=!1,
ca=-4;2>=ca;ca++){var ya=this.layersByLevel[ca];if(ya&&0<ya.length){G=!0;break}}return G};uh.invalidateElements=function(G){var ca=this;0!==G.length&&(ca.lastInvalidationTime=Jc(),0!==G.length&&ca.haveLayers()&&ca.updateElementsInLayers(G,function(ya,Ka,ab){ca.invalidateLayer(ya)}))};uh.invalidateLayer=function(G){this.lastInvalidationTime=Jc();if(!G.invalid){var ca=G.level,ya=G.eles;af(this.layersByLevel[ca],G);G.elesQueue=[];G.invalid=!0;G.replacement&&(G.replacement.invalid=!0);for(G=0;G<ya.length;G++){var Ka=
ya[G]._private.rscratch.imgLayerCaches;Ka&&(Ka[ca]=null)}}};uh.refineElementTextures=function(G){var ca=this;ca.updateElementsInLayers(G,function(ya,Ka,ab){Ka=ya.replacement;Ka||(Ka=ya.replacement=ca.makeLayer(ya.bb,ya.level),Ka.replaces=ya,Ka.eles=ya.eles);if(!Ka.reqs)for(ya=0;ya<Ka.eles.length;ya++)ca.queueLayer(Ka,Ka.eles[ya])})};uh.enqueueElementRefinement=function(G){this.eleTxrDeqs.merge(G);this.scheduleElementRefinement()};uh.queueLayer=function(G,ca){var ya=this.layersQueue,Ka=G.elesQueue,
ab=Ka.hasId=Ka.hasId||{};if(!G.replacement){if(ca){if(ab[ca.id()])return;Ka.push(ca);ab[ca.id()]=!0}G.reqs?(G.reqs++,ya.updateItem(G)):(G.reqs=1,ya.push(G))}};uh.dequeue=function(G){for(var ca=this.layersQueue,ya=[],Ka=0;1>Ka&&0!==ca.size();){var ab=ca.peek();if(ab.replacement)ca.pop();else if(ab.replaces&&ab!==ab.replaces.replacement)ca.pop();else if(ab.invalid)ca.pop();else{var ob=ab.elesQueue.shift();ob&&(this.drawEleInLayer(ab,ob,ab.level,G),Ka++);0===ya.length&&ya.push(!0);0===ab.elesQueue.length&&
(ca.pop(),ab.reqs=0,ab.replaces&&this.applyLayerReplacement(ab),this.requestRedraw())}}return ya};uh.applyLayerReplacement=function(G){var ca=this.layersByLevel[G.level],ya=G.replaces,Ka=ca.indexOf(ya);if(!(0>Ka||ya.invalid)){ca[Ka]=G;for(ca=0;ca<G.eles.length;ca++)ya=G.eles[ca]._private,(ya.imgLayerCaches=ya.imgLayerCaches||{})[G.level]=G;this.requestRedraw()}};uh.requestRedraw=xa(function(){var G=this.renderer;G.redrawHint("eles",!0);G.redrawHint("drag",!0);G.redraw()},100);uh.setupDequeueing=Rk.setupDequeueing({deqRedrawThreshold:50,
deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(G,ca){return G.dequeue(ca)},onDeqd:$d,shouldRedraw:od,priority:function(G){return G.renderer.beforeRenderPriorities.lyrTxrDeq}});var Gj={},Ih;Gj.arrowShapeImpl=function(G){return(Ih||(Ih={polygon:Ra,"triangle-backcurve":la,"triangle-tee":ma,"circle-triangle":Aa,"triangle-cross":ma,circle:Da}))[G]};var nj={drawElement:function(G,ca,ya,Ka,ab,ob){ca.isNode()?this.drawNode(G,ca,ya,Ka,ab,ob):this.drawEdge(G,ca,ya,Ka,ab,ob)},drawElementOverlay:function(G,
ca){ca.isNode()?this.drawNodeOverlay(G,ca):this.drawEdgeOverlay(G,ca)},drawElementUnderlay:function(G,ca){ca.isNode()?this.drawNodeUnderlay(G,ca):this.drawEdgeUnderlay(G,ca)},drawCachedElementPortion:function(G,ca,ya,Ka,ab,ob,rb,Fb){var qb=ya.getBoundingBox(ca);if(0!==qb.w&&0!==qb.h)if(Ka=ya.getElement(ca,qb,Ka,ab,ob),null!=Ka){if(Fb=Fb(this,ca),0!==Fb){rb=rb(this,ca);var Ub=qb.x1;ob=qb.y1;ab=qb.w;qb=qb.h;var Zb;if(0!==rb){var Ec=ya.getRotationPoint(ca);var n=Ec.x;Ec=Ec.y;G.translate(n,Ec);G.rotate(rb);
(Zb=this.getImgSmoothing(G))||this.setImgSmoothing(G,!0);ya=ya.getRotationOffset(ca);ca=ya.x;ya=ya.y}else ca=Ub,ya=ob;if(1!==Fb){var Q=G.globalAlpha;G.globalAlpha=Q*Fb}G.drawImage(Ka.texture.canvas,Ka.x,0,Ka.width,Ka.height,ca,ya,ab,qb);1!==Fb&&(G.globalAlpha=Q);0!==rb&&(G.rotate(-rb),G.translate(-n,-Ec),Zb||this.setImgSmoothing(G,!1))}}else ya.drawElement(G,ca)}},hj=function(){return 0},ji=function(G,ca){return G.getTextAngle(ca,null)},ek=function(G,ca){return G.getTextAngle(ca,"source")},Uj=function(G,
ca){return G.getTextAngle(ca,"target")},Jk=function(G,ca){return ca.effectiveOpacity()},Hj=function(G,ca){return ca.pstyle("text-opacity").pfValue*ca.effectiveOpacity()};nj.drawCachedElement=function(G,ca,ya,Ka,ab,ob){var rb=this.data,Fb=rb.eleTxrCache,qb=rb.lblTxrCache,Ub=rb.slbTxrCache;rb=rb.tlbTxrCache;var Zb=ca.boundingBox();ob=!0===ob?Fb.reasons.highQuality:null;0===Zb.w||0===Zb.h||!ca.visible()||Ka&&!Ya(Zb,Ka)||(Ka=ca.isEdge(),Zb=ca.element()._private.rscratch.badLine,this.drawElementUnderlay(G,
ca),this.drawCachedElementPortion(G,ca,Fb,ya,ab,ob,hj,Jk),Ka&&Zb||this.drawCachedElementPortion(G,ca,qb,ya,ab,ob,ji,Hj),Ka&&!Zb&&(this.drawCachedElementPortion(G,ca,Ub,ya,ab,ob,ek,Hj),this.drawCachedElementPortion(G,ca,rb,ya,ab,ob,Uj,Hj)),this.drawElementOverlay(G,ca))};nj.drawElements=function(G,ca){for(var ya=0;ya<ca.length;ya++)this.drawElement(G,ca[ya])};nj.drawCachedElements=function(G,ca,ya,Ka){for(var ab=0;ab<ca.length;ab++)this.drawCachedElement(G,ca[ab],ya,Ka)};nj.drawCachedNodes=function(G,
ca,ya,Ka){for(var ab=0;ab<ca.length;ab++){var ob=ca[ab];ob.isNode()&&this.drawCachedElement(G,ob,ya,Ka)}};nj.drawLayeredElements=function(G,ca,ya,Ka){var ab=this.data.lyrTxrCache.getLayers(ca,ya);if(ab)for(ca=0;ca<ab.length;ca++)ya=ab[ca],Ka=ya.bb,0!==Ka.w&&0!==Ka.h&&G.drawImage(ya.canvas,Ka.x1,Ka.y1,Ka.w,Ka.h);else this.drawCachedElements(G,ca,ya,Ka)};var kj={drawEdge:function(G,ca,ya){var Ka=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0,ab=4<arguments.length&&void 0!==arguments[4]?arguments[4]:
!0,ob=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!0,rb=this,Fb=ca._private.rscratch;if(!(ob&&!ca.visible()||Fb.badLine||null==Fb.allpts||isNaN(Fb.allpts[0]))){if(ya){var qb=ya;G.translate(-qb.x1,-qb.y1)}var Ub=ob?ca.pstyle("opacity").value:1;ob=ob?ca.pstyle("line-opacity").value:1;var Zb=ca.pstyle("curve-style").value,Ec=ca.pstyle("line-style").value,n=ca.pstyle("width").pfValue,Q=ca.pstyle("line-cap").value,ta=Ub*ob,pa=Ub*ob;Ub=function(){var Kb=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:ta;"straight-triangle"===Zb?(rb.eleStrokeStyle(G,ca,Kb),rb.drawEdgeTrianglePath(ca,G,Fb.allpts)):(G.lineWidth=n,G.lineCap=Q,rb.eleStrokeStyle(G,ca,Kb),rb.drawEdgePath(ca,G,Fb.allpts,Ec),G.lineCap="butt")};ob=function(){rb.drawArrowheads(G,ca,0<arguments.length&&void 0!==arguments[0]?arguments[0]:pa)};G.lineJoin="round";if("yes"===ca.pstyle("ghost").value){var Oa=ca.pstyle("ghost-offset-x").pfValue,hb=ca.pstyle("ghost-offset-y").pfValue,yb=ca.pstyle("ghost-opacity").value;yb*=ta;G.translate(Oa,
hb);Ub(yb);ob(yb);G.translate(-Oa,-hb)}ab&&rb.drawEdgeUnderlay(G,ca);Ub();ob();ab&&rb.drawEdgeOverlay(G,ca);rb.drawElementText(G,ca,null,Ka);ya&&G.translate(qb.x1,qb.y1)}}},Fk=function(G){if(!["overlay","underlay"].includes(G))throw Error("Invalid state");return function(ca,ya){if(ya.visible()){var Ka=ya.pstyle("".concat(G,"-opacity")).value;if(0!==Ka){var ab=this.usePaths(),ob=ya._private.rscratch,rb=2*ya.pstyle("".concat(G,"-padding")).pfValue,Fb=ya.pstyle("".concat(G,"-color")).value;ca.lineWidth=
rb;ca.lineCap="self"!==ob.edgeType||ab?"round":"butt";this.colorStrokeStyle(ca,Fb[0],Fb[1],Fb[2],Ka);this.drawEdgePath(ya,ca,ob.allpts,"solid")}}}};kj.drawEdgeOverlay=Fk("overlay");kj.drawEdgeUnderlay=Fk("underlay");kj.drawEdgePath=function(G,ca,ya,Ka){var ab=G._private.rscratch,ob=ca,rb=!1,Fb=this.usePaths(),qb=G.pstyle("line-dash-pattern").pfValue;G=G.pstyle("line-dash-offset").pfValue;if(Fb){var Ub=ya.join("$");if(ab.pathCacheKey&&ab.pathCacheKey===Ub){var Zb=ca=ab.pathCache;rb=!0}else Zb=ca=new Path2D,
ab.pathCacheKey=Ub,ab.pathCache=Zb}if(ob.setLineDash)switch(Ka){case "dotted":ob.setLineDash([1,1]);break;case "dashed":ob.setLineDash(qb);ob.lineDashOffset=G;break;case "solid":ob.setLineDash([])}if(!rb&&!ab.badLine)switch(ca.beginPath&&ca.beginPath(),ca.moveTo(ya[0],ya[1]),ab.edgeType){case "bezier":case "self":case "compound":case "multibezier":for(Ka=2;Ka+3<ya.length;Ka+=4)ca.quadraticCurveTo(ya[Ka],ya[Ka+1],ya[Ka+2],ya[Ka+3]);break;case "straight":case "segments":case "haystack":for(Ka=2;Ka+
1<ya.length;Ka+=2)ca.lineTo(ya[Ka],ya[Ka+1])}ca=ob;Fb?ca.stroke(Zb):ca.stroke();ca.setLineDash&&ca.setLineDash([])};kj.drawEdgeTrianglePath=function(G,ca,ya){ca.fillStyle=ca.strokeStyle;G=G.pstyle("width").pfValue;for(var Ka=0;Ka+1<ya.length;Ka+=2){var ab=[ya[Ka+2]-ya[Ka],ya[Ka+3]-ya[Ka+1]],ob=Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1]);ab=[ab[1]/ob,-ab[0]/ob];ab=[ab[0]*G/2,ab[1]*G/2];ca.beginPath();ca.moveTo(ya[Ka]-ab[0],ya[Ka+1]-ab[1]);ca.lineTo(ya[Ka]+ab[0],ya[Ka+1]+ab[1]);ca.lineTo(ya[Ka+2],ya[Ka+3]);
ca.closePath();ca.fill()}};kj.drawArrowheads=function(G,ca,ya){var Ka=ca._private.rscratch,ab="haystack"===Ka.edgeType;ab||this.drawArrowhead(G,ca,"source",Ka.arrowStartX,Ka.arrowStartY,Ka.srcArrowAngle,ya);this.drawArrowhead(G,ca,"mid-target",Ka.midX,Ka.midY,Ka.midtgtArrowAngle,ya);this.drawArrowhead(G,ca,"mid-source",Ka.midX,Ka.midY,Ka.midsrcArrowAngle,ya);ab||this.drawArrowhead(G,ca,"target",Ka.arrowEndX,Ka.arrowEndY,Ka.tgtArrowAngle,ya)};kj.drawArrowhead=function(G,ca,ya,Ka,ab,ob,rb){if(!(isNaN(Ka)||
null==Ka||isNaN(ab)||null==ab||isNaN(ob)||null==ob)){var Fb=ca.pstyle(ya+"-arrow-shape").value;if("none"!==Fb){var qb="hollow"===ca.pstyle(ya+"-arrow-fill").value?"both":"filled",Ub=ca.pstyle(ya+"-arrow-fill").value,Zb=ca.pstyle("width").pfValue,Ec=ca.pstyle("opacity").value;void 0===rb&&(rb=Ec);Ec=G.globalCompositeOperation;if(1!==rb||"hollow"===Ub)G.globalCompositeOperation="destination-out",this.colorFillStyle(G,255,255,255,1),this.colorStrokeStyle(G,255,255,255,1),this.drawArrowShape(ca,G,qb,
Zb,Fb,Ka,ab,ob),G.globalCompositeOperation=Ec;ya=ca.pstyle(ya+"-arrow-color").value;this.colorFillStyle(G,ya[0],ya[1],ya[2],rb);this.colorStrokeStyle(G,ya[0],ya[1],ya[2],rb);this.drawArrowShape(ca,G,Ub,Zb,Fb,Ka,ab,ob)}}};kj.drawArrowShape=function(G,ca,ya,Ka,ab,ob,rb,Fb){var qb=this.usePaths()&&"triangle-cross"!==ab,Ub=!1,Zb=ca,Ec={x:ob,y:rb};G=G.pstyle("arrow-scale").value;G=this.getArrowWidth(Ka,G);var n=this.arrowShapes[ab];if(qb){var Q=this.arrowPathCache=this.arrowPathCache||[];ab=Oc(ab);ca=
Q[ab];if(null!=ca){var ta=ca;Ub=!0}else ta=ca=new Path2D,Q[ab]=ta}Ub||(ca.beginPath&&ca.beginPath(),qb?n.draw(ca,1,0,{x:0,y:0},1):n.draw(ca,G,Fb,Ec,Ka),ca.closePath&&ca.closePath());ca=Zb;qb&&(ca.translate(ob,rb),ca.rotate(Fb),ca.scale(G,G));if("filled"===ya||"both"===ya)qb?ca.fill(ta):ca.fill();if("hollow"===ya||"both"===ya)ca.lineWidth=(n.matchEdgeWidth?Ka:1)/(qb?G:1),ca.lineJoin="miter",qb?ca.stroke(ta):ca.stroke();qb&&(ca.scale(1/G,1/G),ca.rotate(-Fb),ca.translate(-ob,-rb))};var wh={drawNode:function(G,
ca,ya){var Ka=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0,ab=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!0,ob=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!0,rb=this,Fb=ca._private,qb=Fb.rscratch,Ub=ca.position();if(Rc(Ub.x)&&Rc(Ub.y)&&(!ob||ca.visible())){var Zb=ob?ca.effectiveOpacity():1,Ec=rb.usePaths(),n=!1;ob=ca.padding();var Q=ca.width()+2*ob;var ta=ca.height()+2*ob;if(ya){var pa=ya;G.translate(-pa.x1,-pa.y1)}ob=ca.pstyle("background-image").value;for(var Oa=
Array(ob.length),hb=Array(ob.length),yb=0,Kb=0;Kb<ob.length;Kb++){var ic=ob[Kb];if(Oa[Kb]=null!=ic&&"none"!==ic){var Bc=ca.cy().style().getIndexedStyle(ca,"background-image-crossorigin","value",Kb);yb++;hb[Kb]=rb.getCachedImage(ic,Bc,function(){Fb.backgroundTimestamp=Date.now();ca.emitAndNotify("background")})}}var Lc=ca.pstyle("background-blacken").value,gd=ca.pstyle("border-width").pfValue,Dd=ca.pstyle("background-opacity").value*Zb,Jd=ca.pstyle("border-color").value,se=ca.pstyle("border-style").value,
cf=ca.pstyle("border-opacity").value*Zb;G.lineJoin="miter";ob=function(){rb.eleFillStyle(G,ca,0<arguments.length&&void 0!==arguments[0]?arguments[0]:Dd)};Kb=function(){rb.colorStrokeStyle(G,Jd[0],Jd[1],Jd[2],0<arguments.length&&void 0!==arguments[0]?arguments[0]:cf)};Bc=ca.pstyle("shape").strValue;var lf=ca.pstyle("shape-polygon-points").pfValue;if(Ec)if(G.translate(Ub.x,Ub.y),ic=rb.nodePathCache=rb.nodePathCache||[],Bc=Nd("polygon"===Bc?Bc+","+lf.join(","):Bc,""+ta,""+Q),lf=ic[Bc],null!=lf){var Hf=
lf;n=!0;qb.pathCache=Hf}else Hf=new Path2D,ic[Bc]=qb.pathCache=Hf;qb=function(){if(!n){var Mf=Ub;Ec&&(Mf={x:0,y:0});rb.nodeShapes[rb.getNodeShape(ca)].draw(Hf||G,Mf.x,Mf.y,Q,ta)}Ec?G.fill(Hf):G.fill()};ic=function(){for(var Mf=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Zb,cg=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,Of=Fb.backgrounding,Fg=0,Rg=0;Rg<hb.length;Rg++){var Bg=ca.cy().style().getIndexedStyle(ca,"background-image-containment","value",Rg);cg&&"over"===Bg||!cg&&
"inside"===Bg?Fg++:Oa[Rg]&&hb[Rg].complete&&!hb[Rg].error&&(Fg++,rb.drawInscribedImage(G,hb[Rg],ca,Rg,Mf))}Fb.backgrounding=Fg!==yb;Of!==Fb.backgrounding&&ca.updateStyle(!1)};Bc=function(){var Mf=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,cg=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Zb;rb.hasPie(ca)&&(rb.drawPie(G,ca,cg),Mf&&(Ec||rb.nodeShapes[rb.getNodeShape(ca)].draw(G,Ub.x,Ub.y,Q,ta)))};lf=function(){var Mf=(0<Lc?Lc:-Lc)*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:
Zb),cg=0<Lc?0:255;0!==Lc&&(rb.colorFillStyle(G,cg,cg,cg,Mf),Ec?G.fill(Hf):G.fill())};var ff=function(){if(0<gd){G.lineWidth=gd;G.lineCap="butt";if(G.setLineDash)switch(se){case "dotted":G.setLineDash([1,1]);break;case "dashed":G.setLineDash([4,2]);break;case "solid":case "double":G.setLineDash([])}Ec?G.stroke(Hf):G.stroke();if("double"===se){G.lineWidth=gd/3;var Mf=G.globalCompositeOperation;G.globalCompositeOperation="destination-out";Ec?G.stroke(Hf):G.stroke();G.globalCompositeOperation=Mf}G.setLineDash&&
G.setLineDash([])}};if("yes"===ca.pstyle("ghost").value){var Ff=ca.pstyle("ghost-offset-x").pfValue,lg=ca.pstyle("ghost-offset-y").pfValue,ag=ca.pstyle("ghost-opacity").value,ig=ag*Zb;G.translate(Ff,lg);ob(ag*Dd);qb();ic(ig,!0);Kb(ag*cf);ff();Bc(0!==Lc||0!==gd);ic(ig,!1);lf(ig);G.translate(-Ff,-lg)}Ec&&G.translate(-Ub.x,-Ub.y);ab&&rb.drawNodeUnderlay(G,ca,Ub,Q,ta);Ec&&G.translate(Ub.x,Ub.y);ob();qb();ic(Zb,!0);Kb();ff();Bc(0!==Lc||0!==gd);ic(Zb,!1);lf();Ec&&G.translate(-Ub.x,-Ub.y);rb.drawElementText(G,
ca,null,Ka);ab&&rb.drawNodeOverlay(G,ca,Ub,Q,ta);ya&&G.translate(pa.x1,pa.y1)}}},gj=function(G){if(!["overlay","underlay"].includes(G))throw Error("Invalid state");return function(ca,ya,Ka,ab,ob){if(ya.visible()){var rb=ya.pstyle("".concat(G,"-padding")).pfValue,Fb=ya.pstyle("".concat(G,"-opacity")).value,qb=ya.pstyle("".concat(G,"-color")).value,Ub=ya.pstyle("".concat(G,"-shape")).value;if(0<Fb){Ka=Ka||ya.position();if(null==ab||null==ob)ob=ya.padding(),ab=ya.width()+2*ob,ob=ya.height()+2*ob;this.colorFillStyle(ca,
qb[0],qb[1],qb[2],Fb);this.nodeShapes[Ub].draw(ca,Ka.x,Ka.y,ab+2*rb,ob+2*rb);ca.fill()}}}};wh.drawNodeOverlay=gj("overlay");wh.drawNodeUnderlay=gj("underlay");wh.hasPie=function(G){G=G[0];return G._private.hasPie};wh.drawPie=function(G,ca,ya,Ka){ca=ca[0];Ka=Ka||ca.position();var ab=ca.cy().style(),ob=ca.pstyle("pie-size"),rb=Ka.x;Ka=Ka.y;var Fb=ca.width(),qb=ca.height();Fb=Math.min(Fb,qb)/2;qb=0;this.usePaths()&&(Ka=rb=0);"%"===ob.units?Fb*=ob.pfValue:void 0!==ob.pfValue&&(Fb=ob.pfValue/2);for(ob=
1;ob<=ab.pieBackgroundN;ob++){var Ub=ca.pstyle("pie-"+ob+"-background-size").value,Zb=ca.pstyle("pie-"+ob+"-background-color").value,Ec=ca.pstyle("pie-"+ob+"-background-opacity").value*ya,n=Ub/100;1<n+qb&&(n=1-qb);var Q=1.5*Math.PI+2*Math.PI*qb,ta=Q+2*Math.PI*n;0===Ub||1<=qb||1<qb+n||(G.beginPath(),G.moveTo(rb,Ka),G.arc(rb,Ka,Fb,Q,ta),G.closePath(),this.colorFillStyle(G,Zb[0],Zb[1],Zb[2],Ec),G.fill(),qb+=n)}};for(var ik={drawPolygonPath:function(G,ca,ya,Ka,ab,ob){Ka/=2;ab/=2;G.beginPath&&G.beginPath();
G.moveTo(ca+Ka*ob[0],ya+ab*ob[1]);for(var rb=1;rb<ob.length/2;rb++)G.lineTo(ca+Ka*ob[2*rb],ya+ab*ob[2*rb+1]);G.closePath()},drawRoundPolygonPath:function(G,ca,ya,Ka,ab,ob){var rb=Ka/2,Fb=ab/2;Ka=Math.min(Ka/10,ab/10,8);G.beginPath&&G.beginPath();for(ab=0;ab<ob.length/4;ab++){var qb=0===ab?ob.length-2:4*ab-2;var Ub=4*ab+2;var Zb=ca+rb*ob[4*ab],Ec=ya+Fb*ob[4*ab+1],n=Ka/Math.tan(Math.acos(-ob[qb]*ob[Ub]-ob[qb+1]*ob[Ub+1])/2),Q=Zb-n*ob[qb];qb=Ec-n*ob[qb+1];var ta=Zb+n*ob[Ub];Ub=Ec+n*ob[Ub+1];0===ab?G.moveTo(Q,
qb):G.lineTo(Q,qb);G.arcTo(Zb,Ec,ta,Ub,Ka)}G.closePath()},drawRoundRectanglePath:function(G,ca,ya,Ka,ab){var ob=Ka/2,rb=ab/2;Ka=Math.min(Ka/4,ab/4,8);G.beginPath&&G.beginPath();G.moveTo(ca,ya-rb);G.arcTo(ca+ob,ya-rb,ca+ob,ya,Ka);G.arcTo(ca+ob,ya+rb,ca,ya+rb,Ka);G.arcTo(ca-ob,ya+rb,ca-ob,ya,Ka);G.arcTo(ca-ob,ya-rb,ca,ya-rb,Ka);G.lineTo(ca,ya-rb);G.closePath()},drawBottomRoundRectanglePath:function(G,ca,ya,Ka,ab){var ob=Ka/2,rb=ab/2;Ka=Math.min(Ka/4,ab/4,8);G.beginPath&&G.beginPath();G.moveTo(ca,ya-
rb);G.lineTo(ca+ob,ya-rb);G.lineTo(ca+ob,ya);G.arcTo(ca+ob,ya+rb,ca,ya+rb,Ka);G.arcTo(ca-ob,ya+rb,ca-ob,ya,Ka);G.lineTo(ca-ob,ya-rb);G.lineTo(ca,ya-rb);G.closePath()},drawCutRectanglePath:function(G,ca,ya,Ka,ab){Ka/=2;ab/=2;G.beginPath&&G.beginPath();G.moveTo(ca-Ka+8,ya-ab);G.lineTo(ca+Ka-8,ya-ab);G.lineTo(ca+Ka,ya-ab+8);G.lineTo(ca+Ka,ya+ab-8);G.lineTo(ca+Ka-8,ya+ab);G.lineTo(ca-Ka+8,ya+ab);G.lineTo(ca-Ka,ya+ab-8);G.lineTo(ca-Ka,ya-ab+8);G.closePath()},drawBarrelPath:function(G,ca,ya,Ka,ab){var ob=
Ka/2,rb=ab/2,Fb=ca-ob;ca+=ob;ob=ya-rb;ya+=rb;rb=Wd(Ka,ab);Ka=rb.widthOffset;ab=rb.heightOffset;rb=rb.ctrlPtOffsetPct*Ka;G.beginPath&&G.beginPath();G.moveTo(Fb,ob+ab);G.lineTo(Fb,ya-ab);G.quadraticCurveTo(Fb+rb,ya,Fb+Ka,ya);G.lineTo(ca-Ka,ya);G.quadraticCurveTo(ca-rb,ya,ca,ya-ab);G.lineTo(ca,ob+ab);G.quadraticCurveTo(ca-rb,ob,ca-Ka,ob);G.lineTo(Fb+Ka,ob);G.quadraticCurveTo(Fb+rb,ob,Fb,ob+ab);G.closePath()}},Mi=Math.sin(0),Kk=Math.cos(0),xj={},Rh={},Ni=Math.PI/40,vi=0*Math.PI;vi<2*Math.PI;vi+=Ni)xj[vi]=
Math.sin(vi),Rh[vi]=Math.cos(vi);ik.drawEllipsePath=function(G,ca,ya,Ka,ab){G.beginPath&&G.beginPath();if(G.ellipse)G.ellipse(ca,ya,Ka/2,ab/2,0,0,2*Math.PI);else{Ka/=2;for(var ob=ab/2,rb=0*Math.PI;rb<2*Math.PI;rb+=Ni){ab=ca-Ka*xj[rb]*Mi+Ka*Rh[rb]*Kk;var Fb=ya+ob*Rh[rb]*Mi+ob*xj[rb]*Kk;0===rb?G.moveTo(ab,Fb):G.lineTo(ab,Fb)}}G.closePath()};var Wf=Mb.prototype;Wf.CANVAS_LAYERS=3;Wf.SELECT_BOX=0;Wf.DRAG=1;Wf.NODE=2;Wf.BUFFER_COUNT=3;Wf.TEXTURE_BUFFER=0;Wf.MOTIONBLUR_BUFFER_NODE=1;Wf.MOTIONBLUR_BUFFER_DRAG=
2;Wf.redrawHint=function(G,ca){switch(G){case "eles":this.data.canvasNeedsRedraw[Wf.NODE]=ca;break;case "drag":this.data.canvasNeedsRedraw[Wf.DRAG]=ca;break;case "select":this.data.canvasNeedsRedraw[Wf.SELECT_BOX]=ca}};var Dj="undefined"!==typeof Path2D;Wf.path2dEnabled=function(G){if(void 0===G)return this.pathsEnabled;this.pathsEnabled=G?!0:!1};Wf.usePaths=function(){return Dj&&this.pathsEnabled};Wf.setImgSmoothing=function(G,ca){null!=G.imageSmoothingEnabled?G.imageSmoothingEnabled=ca:(G.webkitImageSmoothingEnabled=
ca,G.mozImageSmoothingEnabled=ca,G.msImageSmoothingEnabled=ca)};Wf.getImgSmoothing=function(G){return null!=G.imageSmoothingEnabled?G.imageSmoothingEnabled:G.webkitImageSmoothingEnabled||G.mozImageSmoothingEnabled||G.msImageSmoothingEnabled};Wf.makeOffscreenCanvas=function(G,ca){if("undefined"!==("undefined"===typeof OffscreenCanvas?"undefined":f(OffscreenCanvas)))var ya=new OffscreenCanvas(G,ca);else ya=document.createElement("canvas"),ya.width=G,ya.height=ca;return ya};[Gj,nj,kj,{safeDrawImage:function(G,
ca,ya,Ka,ab,ob,rb,Fb,qb,Ub){0>=ab||0>=ob||0>=qb||0>=Ub||G.drawImage(ca,ya,Ka,ab,ob,rb,Fb,qb,Ub)},drawInscribedImage:function(G,ca,ya,Ka,ab){var ob=ya.position(),rb=ob.x;ob=ob.y;var Fb=ya.cy().style(),qb=Fb.getIndexedStyle.bind(Fb),Ub=qb(ya,"background-fit","value",Ka);Fb=qb(ya,"background-repeat","value",Ka);var Zb=ya.width(),Ec=ya.height(),n=2*ya.padding();Zb+="inner"===qb(ya,"background-width-relative-to","value",Ka)?0:n;Ec+="inner"===qb(ya,"background-height-relative-to","value",Ka)?0:n;n=ya._private.rscratch;
var Q="node"===qb(ya,"background-clip","value",Ka),ta=qb(ya,"background-image-opacity","value",Ka)*ab;ab=qb(ya,"background-image-smoothing","value",Ka);var pa=ca.width||ca.cachedW,Oa=ca.height||ca.cachedH;if(null==pa||null==Oa)document.body.appendChild(ca),pa=ca.cachedW=ca.width||ca.offsetWidth,Oa=ca.cachedH=ca.height||ca.offsetHeight,document.body.removeChild(ca);var hb=pa,yb=Oa;"auto"!==qb(ya,"background-width","value",Ka)&&(hb="%"===qb(ya,"background-width","units",Ka)?qb(ya,"background-width",
"pfValue",Ka)*Zb:qb(ya,"background-width","pfValue",Ka));"auto"!==qb(ya,"background-height","value",Ka)&&(yb="%"===qb(ya,"background-height","units",Ka)?qb(ya,"background-height","pfValue",Ka)*Ec:qb(ya,"background-height","pfValue",Ka));if(0!==hb&&0!==yb){"contain"===Ub?(Ub=Math.min(Zb/hb,Ec/yb),hb*=Ub,yb*=Ub):"cover"===Ub&&(Ub=Math.max(Zb/hb,Ec/yb),hb*=Ub,yb*=Ub);Ub=rb-Zb/2;var Kb=qb(ya,"background-position-x","units",Ka),ic=qb(ya,"background-position-x","pfValue",Ka);Ub="%"===Kb?Ub+(Zb-hb)*ic:Ub+
ic;Kb=qb(ya,"background-offset-x","units",Ka);ic=qb(ya,"background-offset-x","pfValue",Ka);Ub="%"===Kb?Ub+(Zb-hb)*ic:Ub+ic;Kb=ob-Ec/2;ic=qb(ya,"background-position-y","units",Ka);var Bc=qb(ya,"background-position-y","pfValue",Ka);Kb="%"===ic?Kb+(Ec-yb)*Bc:Kb+Bc;ic=qb(ya,"background-offset-y","units",Ka);Ka=qb(ya,"background-offset-y","pfValue",Ka);Kb="%"===ic?Kb+(Ec-yb)*Ka:Kb+Ka;n.pathCache&&(Ub-=rb,Kb-=ob,ob=rb=0);Ka=G.globalAlpha;G.globalAlpha=ta;qb=this.getImgSmoothing(G);ta=!1;"no"===ab&&qb?(this.setImgSmoothing(G,
!1),ta=!0):"yes"!==ab||qb||(this.setImgSmoothing(G,!0),ta=!0);"no-repeat"===Fb?(Q&&(G.save(),n.pathCache?G.clip(n.pathCache):(this.nodeShapes[this.getNodeShape(ya)].draw(G,rb,ob,Zb,Ec),G.clip())),this.safeDrawImage(G,ca,0,0,pa,Oa,Ub,Kb,hb,yb),Q&&G.restore()):(ca=G.createPattern(ca,Fb),G.fillStyle=ca,this.nodeShapes[this.getNodeShape(ya)].draw(G,rb,ob,Zb,Ec),G.translate(Ub,Kb),G.fill(),G.translate(-Ub,-Kb));G.globalAlpha=Ka;ta&&this.setImgSmoothing(G,qb)}}},{eleTextBiggerThanMin:function(G,ca){if(!ca){ca=
G.cy().zoom();var ya=this.getPixelRatio();ca=Math.ceil(jf(ca*ya));ca=Math.pow(2,ca)}ca*=G.pstyle("font-size").pfValue;G=G.pstyle("min-zoomed-font-size").pfValue;return ca<G?!1:!0},drawElementText:function(G,ca,ya,Ka,ab){var ob=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!0;if(null==Ka){if(ob&&!this.eleTextBiggerThanMin(ca))return}else if(!1===Ka)return;if(ca.isNode()){var rb=ca.pstyle("label");if(!rb||!rb.value)return;rb=this.getLabelJustification(ca);G.textAlign=rb}else{rb=ca.element()._private.rscratch.badLine;
var Fb=ca.pstyle("label"),qb=ca.pstyle("source-label"),Ub=ca.pstyle("target-label");if(rb||!(Fb&&Fb.value||qb&&qb.value||Ub&&Ub.value))return;G.textAlign="center"}G.textBaseline="bottom";rb=!ya;if(ya){var Zb=ya;G.translate(-Zb.x1,-Zb.y1)}null==ab?(this.drawText(G,ca,null,rb,ob),ca.isEdge()&&(this.drawText(G,ca,"source",rb,ob),this.drawText(G,ca,"target",rb,ob))):this.drawText(G,ca,ab,rb,ob);ya&&G.translate(Zb.x1,Zb.y1)},getFontCache:function(G){this.fontCaches=this.fontCaches||[];for(var ca=0;ca<
this.fontCaches.length;ca++){var ya=this.fontCaches[ca];if(ya.context===G)return ya}ya={context:G};this.fontCaches.push(ya);return ya},setupTextStyle:function(G,ca){var ya=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0,Ka=ca.pstyle("font-style").strValue,ab=ca.pstyle("font-size").pfValue+"px",ob=ca.pstyle("font-family").strValue,rb=ca.pstyle("font-weight").strValue;ya=ya?ca.effectiveOpacity()*ca.pstyle("text-opacity").value:1;var Fb=ca.pstyle("text-outline-opacity").value*ya,qb=ca.pstyle("color").value,
Ub=ca.pstyle("text-outline-color").value;G.font=Ka+" "+rb+" "+ab+" "+ob;G.lineJoin="round";this.colorFillStyle(G,qb[0],qb[1],qb[2],ya);this.colorStrokeStyle(G,Ub[0],Ub[1],Ub[2],Fb)},getTextAngle:function(G,ca){var ya=G._private.rscratch,Ka=G.pstyle((ca?ca+"-":"")+"text-rotation");ca=If(ya,"labelAngle",ca);return"autorotate"===Ka.strValue?G.isEdge()?ca:0:"none"===Ka.strValue?0:Ka.pfValue},drawText:function(G,ca,ya){var Ka=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0,ab=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:!0,ob=ca._private.rscratch,rb=ab?ca.effectiveOpacity():1;if(!ab||0!==rb&&0!==ca.pstyle("text-opacity").value){"main"===ya&&(ya=null);var Fb=If(ob,"labelX",ya),qb=If(ob,"labelY",ya),Ub=this.getLabelText(ca,ya);if(null!=Ub&&""!==Ub&&!isNaN(Fb)&&!isNaN(qb)){this.setupTextStyle(G,ca,ab);var Zb=ya?ya+"-":"";ab=If(ob,"labelWidth",ya);var Ec=If(ob,"labelHeight",ya),n=ca.pstyle(Zb+"text-margin-x").pfValue,Q=ca.pstyle(Zb+"text-margin-y").pfValue,ta=ca.isEdge();Zb=ca.pstyle("text-halign").value;
var pa=ca.pstyle("text-valign").value;ta&&(pa=Zb="center");Fb+=n;qb+=Q;Ka=Ka?this.getTextAngle(ca,ya):0;if(0!==Ka){var Oa=Fb;var hb=qb;G.translate(Oa,hb);G.rotate(Ka);qb=Fb=0}switch(pa){case "center":qb+=Ec/2;break;case "bottom":qb+=Ec}var yb=ca.pstyle("text-background-opacity").value,Kb=ca.pstyle("text-border-opacity").value,ic=ca.pstyle("text-border-width").pfValue,Bc=ca.pstyle("text-background-padding").pfValue;if(0<yb||0<ic&&0<Kb){n=Fb-Bc;switch(Zb){case "left":n-=ab;break;case "center":n-=ab/
2}Q=qb-Ec-Bc;ta=ab+2*Bc;Ec+=2*Bc;if(0<yb){Bc=G.fillStyle;var Lc=ca.pstyle("text-background-color").value;G.fillStyle="rgba("+Lc[0]+","+Lc[1]+","+Lc[2]+","+yb*rb+")";0===ca.pstyle("text-background-shape").strValue.indexOf("round")?Qa(G,n,Q,ta,Ec,2):G.fillRect(n,Q,ta,Ec);G.fillStyle=Bc}if(0<ic&&0<Kb){yb=G.strokeStyle;Bc=G.lineWidth;Lc=ca.pstyle("text-border-color").value;var gd=ca.pstyle("text-border-style").value;G.strokeStyle="rgba("+Lc[0]+","+Lc[1]+","+Lc[2]+","+Kb*rb+")";G.lineWidth=ic;if(G.setLineDash)switch(gd){case "dotted":G.setLineDash([1,
1]);break;case "dashed":G.setLineDash([4,2]);break;case "double":G.lineWidth=ic/4;G.setLineDash([]);break;case "solid":G.setLineDash([])}G.strokeRect(n,Q,ta,Ec);"double"===gd&&(rb=ic/2,G.strokeRect(n+rb,Q+rb,ta-2*rb,Ec-2*rb));G.setLineDash&&G.setLineDash([]);G.lineWidth=Bc;G.strokeStyle=yb}}rb=2*ca.pstyle("text-outline-width").pfValue;0<rb&&(G.lineWidth=rb);if("wrap"===ca.pstyle("text-wrap").value){Ub=If(ob,"labelWrapCachedLines",ya);ob=If(ob,"labelLineHeight",ya);n=ab/2;Q=this.getLabelJustification(ca);
"auto"!==Q&&("left"===Zb?"left"===Q?Fb+=-ab:"center"===Q&&(Fb+=-n):"center"===Zb?"left"===Q?Fb+=-n:"right"===Q&&(Fb+=n):"right"===Zb&&("center"===Q?Fb+=n:"right"===Q&&(Fb+=ab)));switch(pa){case "top":qb-=(Ub.length-1)*ob;break;case "center":case "bottom":qb-=(Ub.length-1)*ob}for(ab=0;ab<Ub.length;ab++)0<rb&&G.strokeText(Ub[ab],Fb,qb),G.fillText(Ub[ab],Fb,qb),qb+=ob}else 0<rb&&G.strokeText(Ub,Fb,qb),G.fillText(Ub,Fb,qb);0!==Ka&&(G.rotate(-Ka),G.translate(-Oa,-hb))}}}},wh,{getPixelRatio:function(){var G=
this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(G.backingStorePixelRatio||G.webkitBackingStorePixelRatio||G.mozBackingStorePixelRatio||G.msBackingStorePixelRatio||G.oBackingStorePixelRatio||G.backingStorePixelRatio||1)},paintCache:function(G){for(var ca=this.paintCaches=this.paintCaches||[],ya=!0,Ka,ab=0;ab<ca.length;ab++)if(Ka=ca[ab],Ka.context===G){ya=!1;break}ya&&(Ka={context:G},ca.push(Ka));return Ka},createGradientStyleFor:function(G,
ca,ya,Ka,ab){var ob=this.usePaths(),rb=ya.pstyle(ca+"-gradient-stop-colors").value;ca=ya.pstyle(ca+"-gradient-stop-positions").pfValue;if("radial-gradient"===Ka)if(ya.isEdge()){Ka=ya.sourceEndpoint();var Fb=ya.targetEndpoint();ya=ya.midpoint();Ka=Jf(Ka,ya);Fb=Jf(Fb,ya);Fb=G.createRadialGradient(ya.x,ya.y,0,ya.x,ya.y,Math.max(Ka,Fb))}else Fb=ob?{x:0,y:0}:ya.position(),Ka=ya.paddedWidth(),ya=ya.paddedHeight(),Fb=G.createRadialGradient(Fb.x,Fb.y,0,Fb.x,Fb.y,Math.max(Ka,ya));else if(ya.isEdge())Fb=ya.sourceEndpoint(),
ya=ya.targetEndpoint(),Fb=G.createLinearGradient(Fb.x,Fb.y,ya.x,ya.y);else{Ka=ob?{x:0,y:0}:ya.position();var qb=ya.paddedWidth();ob=ya.paddedHeight();qb/=2;ob/=2;switch(ya.pstyle("background-gradient-direction").value){case "to-bottom":Fb=G.createLinearGradient(Ka.x,Ka.y-ob,Ka.x,Ka.y+ob);break;case "to-top":Fb=G.createLinearGradient(Ka.x,Ka.y+ob,Ka.x,Ka.y-ob);break;case "to-left":Fb=G.createLinearGradient(Ka.x+qb,Ka.y,Ka.x-qb,Ka.y);break;case "to-right":Fb=G.createLinearGradient(Ka.x-qb,Ka.y,Ka.x+
qb,Ka.y);break;case "to-bottom-right":case "to-right-bottom":Fb=G.createLinearGradient(Ka.x-qb,Ka.y-ob,Ka.x+qb,Ka.y+ob);break;case "to-top-right":case "to-right-top":Fb=G.createLinearGradient(Ka.x-qb,Ka.y+ob,Ka.x+qb,Ka.y-ob);break;case "to-bottom-left":case "to-left-bottom":Fb=G.createLinearGradient(Ka.x+qb,Ka.y-ob,Ka.x-qb,Ka.y+ob);break;case "to-top-left":case "to-left-top":Fb=G.createLinearGradient(Ka.x+qb,Ka.y+ob,Ka.x-qb,Ka.y-ob)}}if(!Fb)return null;G=ca.length===rb.length;ya=rb.length;for(Ka=
0;Ka<ya;Ka++)Fb.addColorStop(G?ca[Ka]:Ka/(ya-1),"rgba("+rb[Ka][0]+","+rb[Ka][1]+","+rb[Ka][2]+","+ab+")");return Fb},gradientFillStyle:function(G,ca,ya,Ka){ca=this.createGradientStyleFor(G,"background",ca,ya,Ka);if(!ca)return null;G.fillStyle=ca},colorFillStyle:function(G,ca,ya,Ka,ab){G.fillStyle="rgba("+ca+","+ya+","+Ka+","+ab+")"},eleFillStyle:function(G,ca,ya){var Ka=ca.pstyle("background-fill").value;"linear-gradient"===Ka||"radial-gradient"===Ka?this.gradientFillStyle(G,ca,Ka,ya):(ca=ca.pstyle("background-color").value,
this.colorFillStyle(G,ca[0],ca[1],ca[2],ya))},gradientStrokeStyle:function(G,ca,ya,Ka){ca=this.createGradientStyleFor(G,"line",ca,ya,Ka);if(!ca)return null;G.strokeStyle=ca},colorStrokeStyle:function(G,ca,ya,Ka,ab){G.strokeStyle="rgba("+ca+","+ya+","+Ka+","+ab+")"},eleStrokeStyle:function(G,ca,ya){var Ka=ca.pstyle("line-fill").value;"linear-gradient"===Ka||"radial-gradient"===Ka?this.gradientStrokeStyle(G,ca,Ka,ya):(ca=ca.pstyle("line-color").value,this.colorStrokeStyle(G,ca[0],ca[1],ca[2],ya))},
matchCanvasSize:function(G){var ca=this.data,ya=this.findContainerClientCoords(),Ka=ya[2];ya=ya[3];var ab=this.getPixelRatio(),ob=this.motionBlurPxRatio;if(G===this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_NODE]||G===this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_DRAG])ab=ob;G=Ka*ab;ob=ya*ab;if(G!==this.canvasWidth||ob!==this.canvasHeight){this.fontCaches=null;var rb=ca.canvasContainer;rb.style.width=Ka+"px";rb.style.height=ya+"px";for(var Fb=0;Fb<this.CANVAS_LAYERS;Fb++)rb=ca.canvases[Fb],rb.width=
G,rb.height=ob,rb.style.width=Ka+"px",rb.style.height=ya+"px";for(Fb=0;Fb<this.BUFFER_COUNT;Fb++)rb=ca.bufferCanvases[Fb],rb.width=G,rb.height=ob,rb.style.width=Ka+"px",rb.style.height=ya+"px";this.textureMult=1;1>=ab&&(rb=ca.bufferCanvases[this.TEXTURE_BUFFER],this.textureMult=2,rb.width=G*this.textureMult,rb.height=ob*this.textureMult);this.canvasWidth=G;this.canvasHeight=ob}},renderTo:function(G,ca,ya,Ka){this.render({forcedContext:G,forcedZoom:ca,forcedPan:ya,drawAllLayers:!0,forcedPxRatio:Ka})},
render:function(G){function ca(lf,Hf,ff,Ff,lg){var ag=lf.globalCompositeOperation;lf.globalCompositeOperation="destination-out";qb.colorFillStyle(lf,255,255,255,qb.motionBlurTransparency);lf.fillRect(Hf,ff,Ff,lg);lf.globalCompositeOperation=ag}function ya(lf,Hf){if(qb.clearingMotionBlur||lf!==Ec.bufferContexts[qb.MOTIONBLUR_BUFFER_NODE]&&lf!==Ec.bufferContexts[qb.MOTIONBLUR_BUFFER_DRAG]){var ff=gd;var Ff=Bc;var lg=qb.canvasWidth;var ag=qb.canvasHeight}else ff={x:Lc.x*ta,y:Lc.y*ta},Ff=ic*ta,lg=qb.canvasWidth*
ta,ag=qb.canvasHeight*ta;lf.setTransform(1,0,0,1,0,0);"motionBlur"===Hf?ca(lf,0,0,lg,ag):Ka||void 0!==Hf&&!Hf||lf.clearRect(0,0,lg,ag);ab||(lf.translate(ff.x,ff.y),lf.scale(Ff,Ff));Fb&&lf.translate(Fb.x,Fb.y);rb&&lf.scale(rb,rb)}G=G||qf;var Ka=G.forcedContext,ab=G.drawAllLayers,ob=G.drawOnlyNodeLayer,rb=G.forcedZoom,Fb=G.forcedPan,qb=this,Ub=void 0===G.forcedPxRatio?this.getPixelRatio():G.forcedPxRatio,Zb=qb.cy,Ec=qb.data,n=Ec.canvasNeedsRedraw,Q=qb.textureOnViewport&&!Ka&&(qb.pinching||qb.hoverData.dragging||
qb.swipePanning||qb.data.wheelZooming);G=void 0!==G.motionBlur?G.motionBlur:qb.motionBlur;var ta=qb.motionBlurPxRatio,pa=Zb.hasCompoundNodes(),Oa=qb.hoverData.draggingEles,hb=qb.hoverData.selecting||qb.touchData.selecting?!0:!1,yb=G=G&&!Ka&&qb.motionBlurEnabled&&!hb;Ka||(qb.prevPxRatio!==Ub&&(qb.invalidateContainerClientCoordsCache(),qb.matchCanvasSize(qb.container),qb.redrawHint("eles",!0),qb.redrawHint("drag",!0)),qb.prevPxRatio=Ub);!Ka&&qb.motionBlurTimeout&&clearTimeout(qb.motionBlurTimeout);
G&&(null==qb.mbFrames&&(qb.mbFrames=0),qb.mbFrames++,3>qb.mbFrames&&(yb=!1),qb.mbFrames>qb.minMbLowQualFrames&&(qb.motionBlurPxRatio=qb.mbPxRBlurry));qb.clearingMotionBlur&&(qb.motionBlurPxRatio=1);qb.textureDrawLastFrame&&!Q&&(n[qb.NODE]=!0,n[qb.SELECT_BOX]=!0);var Kb=Zb.style(),ic=Zb.zoom(),Bc=void 0!==rb?rb:ic,Lc=Zb.pan(),gd={x:Lc.x,y:Lc.y};hb={zoom:ic,pan:{x:Lc.x,y:Lc.y}};var Dd=qb.prevViewport;void 0===Dd||hb.zoom!==Dd.zoom||hb.pan.x!==Dd.pan.x||hb.pan.y!==Dd.pan.y||Oa&&!pa||(qb.motionBlurPxRatio=
1);Fb&&(gd=Fb);Bc*=Ub;gd.x*=Ub;gd.y*=Ub;Dd=qb.getCachedZSortedEles();Q||(qb.textureDrawLastFrame=!1);if(Q){qb.textureDrawLastFrame=!0;qb.textureCache||(qb.textureCache={},qb.textureCache.bb=Zb.mutableElements().boundingBox(),qb.textureCache.texture=qb.data.bufferCanvases[qb.TEXTURE_BUFFER],hb=qb.data.bufferContexts[qb.TEXTURE_BUFFER],hb.setTransform(1,0,0,1,0,0),hb.clearRect(0,0,qb.canvasWidth*qb.textureMult,qb.canvasHeight*qb.textureMult),qb.render({forcedContext:hb,drawOnlyNodeLayer:!0,forcedPxRatio:Ub*
qb.textureMult}),hb=qb.textureCache.viewport={zoom:Zb.zoom(),pan:Zb.pan(),width:qb.canvasWidth,height:qb.canvasHeight},hb.mpan={x:(0-hb.pan.x)/hb.zoom,y:(0-hb.pan.y)/hb.zoom});n[qb.DRAG]=!1;n[qb.NODE]=!1;Oa=Ec.contexts[qb.NODE];pa=qb.textureCache.texture;hb=qb.textureCache.viewport;Oa.setTransform(1,0,0,1,0,0);G?ca(Oa,0,0,hb.width,hb.height):Oa.clearRect(0,0,hb.width,hb.height);var Jd=Kb.core("outside-texture-bg-color").value,se=Kb.core("outside-texture-bg-opacity").value;qb.colorFillStyle(Oa,Jd[0],
Jd[1],Jd[2],se);Oa.fillRect(0,0,hb.width,hb.height);ic=Zb.zoom();ya(Oa,!1);Oa.clearRect(hb.mpan.x,hb.mpan.y,hb.width/hb.zoom/Ub,hb.height/hb.zoom/Ub);Oa.drawImage(pa,hb.mpan.x,hb.mpan.y,hb.width/hb.zoom/Ub,hb.height/hb.zoom/Ub)}else qb.textureOnViewport&&!Ka&&(qb.textureCache=null);Jd=Zb.extent();pa=qb.pinching||qb.hoverData.dragging||qb.swipePanning||qb.data.wheelZooming||qb.hoverData.draggingEles||qb.cy.animated();se=qb.hideEdgesOnViewport&&pa;pa=[];pa[qb.NODE]=!n[qb.NODE]&&G&&!qb.clearedForMotionBlur[qb.NODE]||
qb.clearingMotionBlur;pa[qb.NODE]&&(qb.clearedForMotionBlur[qb.NODE]=!0);pa[qb.DRAG]=!n[qb.DRAG]&&G&&!qb.clearedForMotionBlur[qb.DRAG]||qb.clearingMotionBlur;pa[qb.DRAG]&&(qb.clearedForMotionBlur[qb.DRAG]=!0);if(n[qb.NODE]||ab||ob||pa[qb.NODE]){var cf=G&&!pa[qb.NODE]&&1!==ta;Oa=Ka||(cf?qb.data.bufferContexts[qb.MOTIONBLUR_BUFFER_NODE]:Ec.contexts[qb.NODE]);ya(Oa,G&&!cf?"motionBlur":void 0);se?qb.drawCachedNodes(Oa,Dd.nondrag,Ub,Jd):qb.drawLayeredElements(Oa,Dd.nondrag,Ub,Jd);qb.debug&&qb.drawDebugPoints(Oa,
Dd.nondrag);ab||G||(n[qb.NODE]=!1)}!ob&&(n[qb.DRAG]||ab||pa[qb.DRAG])&&(cf=G&&!pa[qb.DRAG]&&1!==ta,Oa=Ka||(cf?qb.data.bufferContexts[qb.MOTIONBLUR_BUFFER_DRAG]:Ec.contexts[qb.DRAG]),ya(Oa,G&&!cf?"motionBlur":void 0),se?qb.drawCachedNodes(Oa,Dd.drag,Ub,Jd):qb.drawCachedElements(Oa,Dd.drag,Ub,Jd),qb.debug&&qb.drawDebugPoints(Oa,Dd.drag),ab||G||(n[qb.DRAG]=!1));if(qb.showFps||!ob&&n[qb.SELECT_BOX]&&!ab)Oa=Ka||Ec.contexts[qb.SELECT_BOX],ya(Oa),1==qb.selection[4]&&(qb.hoverData.selecting||qb.touchData.selecting)&&
(ic=qb.cy.zoom(),ob=Kb.core("selection-box-border-width").value/ic,Oa.lineWidth=ob,Oa.fillStyle="rgba("+Kb.core("selection-box-color").value[0]+","+Kb.core("selection-box-color").value[1]+","+Kb.core("selection-box-color").value[2]+","+Kb.core("selection-box-opacity").value+")",Oa.fillRect(qb.selection[0],qb.selection[1],qb.selection[2]-qb.selection[0],qb.selection[3]-qb.selection[1]),0<ob&&(Oa.strokeStyle="rgba("+Kb.core("selection-box-border-color").value[0]+","+Kb.core("selection-box-border-color").value[1]+
","+Kb.core("selection-box-border-color").value[2]+","+Kb.core("selection-box-opacity").value+")",Oa.strokeRect(qb.selection[0],qb.selection[1],qb.selection[2]-qb.selection[0],qb.selection[3]-qb.selection[1]))),Ec.bgActivePosistion&&!qb.hoverData.selecting&&(ic=qb.cy.zoom(),ob=Ec.bgActivePosistion,Oa.fillStyle="rgba("+Kb.core("active-bg-color").value[0]+","+Kb.core("active-bg-color").value[1]+","+Kb.core("active-bg-color").value[2]+","+Kb.core("active-bg-opacity").value+")",Oa.beginPath(),Oa.arc(ob.x,
ob.y,Kb.core("active-bg-size").pfValue/ic,0,2*Math.PI),Oa.fill()),ob=qb.lastRedrawTime,qb.showFps&&ob&&(ob=Math.round(ob),Ub=Math.round(1E3/ob),Oa.setTransform(1,0,0,1,0,0),Oa.fillStyle="rgba(255, 0, 0, 0.75)",Oa.strokeStyle="rgba(255, 0, 0, 0.75)",Oa.lineWidth=1,Oa.fillText("1 frame \x3d "+ob+" ms \x3d "+Ub+" fps",0,20),Oa.strokeRect(0,30,250,20),Oa.fillRect(0,30,250*Math.min(Ub/60,1),20)),ab||(n[qb.SELECT_BOX]=!1);if(G&&1!==ta){ob=Ec.contexts[qb.NODE];Ub=qb.data.bufferCanvases[qb.MOTIONBLUR_BUFFER_NODE];
Kb=Ec.contexts[qb.DRAG];Oa=qb.data.bufferCanvases[qb.MOTIONBLUR_BUFFER_DRAG];Dd=function(lf,Hf,ff){lf.setTransform(1,0,0,1,0,0);ff||!yb?lf.clearRect(0,0,qb.canvasWidth,qb.canvasHeight):ca(lf,0,0,qb.canvasWidth,qb.canvasHeight);ff=ta;lf.drawImage(Hf,0,0,qb.canvasWidth*ff,qb.canvasHeight*ff,0,0,qb.canvasWidth,qb.canvasHeight)};if(n[qb.NODE]||pa[qb.NODE])Dd(ob,Ub,pa[qb.NODE]),n[qb.NODE]=!1;if(n[qb.DRAG]||pa[qb.DRAG])Dd(Kb,Oa,pa[qb.DRAG]),n[qb.DRAG]=!1}qb.prevViewport=hb;qb.clearingMotionBlur&&(qb.clearingMotionBlur=
!1,qb.motionBlurCleared=!0,qb.motionBlur=!0);G&&(qb.motionBlurTimeout=setTimeout(function(){qb.motionBlurTimeout=null;qb.clearedForMotionBlur[qb.NODE]=!1;qb.clearedForMotionBlur[qb.DRAG]=!1;qb.motionBlur=!1;qb.clearingMotionBlur=!Q;qb.mbFrames=0;n[qb.NODE]=!0;n[qb.DRAG]=!0;qb.redraw()},100));Ka||Zb.emit("render")}},ik,{createBuffer:function(G,ca){var ya=document.createElement("canvas");ya.width=G;ya.height=ca;return[ya,ya.getContext("2d")]},bufferCanvasImage:function(G){var ca=this.cy,ya=ca.mutableElements().boundingBox(),
Ka=this.findContainerClientCoords(),ab=G.full?Math.ceil(ya.w):Ka[2];Ka=G.full?Math.ceil(ya.h):Ka[3];var ob=Rc(G.maxWidth)||Rc(G.maxHeight),rb=this.getPixelRatio(),Fb=1;if(void 0!==G.scale)ab*=G.scale,Ka*=G.scale,Fb=G.scale;else if(ob){var qb=Infinity,Ub=Infinity;Rc(G.maxWidth)&&(qb=Fb*G.maxWidth/ab);Rc(G.maxHeight)&&(Ub=Fb*G.maxHeight/Ka);Fb=Math.min(qb,Ub);ab*=Fb;Ka*=Fb}ob||(ab*=rb,Ka*=rb,Fb*=rb);ob=document.createElement("canvas");ob.width=ab;ob.height=Ka;ob.style.width=ab+"px";ob.style.height=
Ka+"px";rb=ob.getContext("2d");0<ab&&0<Ka&&(rb.clearRect(0,0,ab,Ka),rb.globalCompositeOperation="source-over",qb=this.getCachedZSortedEles(),G.full?(rb.translate(-ya.x1*Fb,-ya.y1*Fb),rb.scale(Fb,Fb),this.drawElements(rb,qb),rb.scale(1/Fb,1/Fb),rb.translate(ya.x1*Fb,ya.y1*Fb)):(Ub=ca.pan(),ya=Ub.x*Fb,Ub=Ub.y*Fb,Fb*=ca.zoom(),rb.translate(ya,Ub),rb.scale(Fb,Fb),this.drawElements(rb,qb),rb.scale(1/Fb,1/Fb),rb.translate(-ya,-Ub)),G.bg&&(rb.globalCompositeOperation="destination-over",rb.fillStyle=G.bg,
rb.rect(0,0,ab,Ka),rb.fill()));return ob},png:function(G){return cb(G,this.bufferCanvasImage(G),"image/png")},jpg:function(G){return cb(G,this.bufferCanvasImage(G),"image/jpeg")}},{nodeShapeImpl:function(G,ca,ya,Ka,ab,ob,rb){switch(G){case "ellipse":return this.drawEllipsePath(ca,ya,Ka,ab,ob);case "polygon":return this.drawPolygonPath(ca,ya,Ka,ab,ob,rb);case "round-polygon":return this.drawRoundPolygonPath(ca,ya,Ka,ab,ob,rb);case "roundrectangle":case "round-rectangle":return this.drawRoundRectanglePath(ca,
ya,Ka,ab,ob);case "cutrectangle":case "cut-rectangle":return this.drawCutRectanglePath(ca,ya,Ka,ab,ob);case "bottomroundrectangle":case "bottom-round-rectangle":return this.drawBottomRoundRectanglePath(ca,ya,Ka,ab,ob);case "barrel":return this.drawBarrelPath(ca,ya,Ka,ab,ob)}}}].forEach(function(G){Dc(Wf,G)});var Dk=[{type:"layout",extensions:Yj},{type:"renderer",extensions:[{name:"null",impl:Va},{name:"base",impl:aj},{name:"canvas",impl:Mb}]}],Ci={},Hi={},wk=function(){if(2===arguments.length)return Wb.apply(null,
arguments);if(3===arguments.length)return Gb.apply(null,arguments);if(4===arguments.length)return ra.apply(null,arguments);if(5===arguments.length)return sa.apply(null,arguments);cd("Invalid extension access syntax")};dj.prototype.extension=wk;Dk.forEach(function(G){G.extensions.forEach(function(ca){Gb(G.type,ca.name,ca.impl)})});var Di=function ca(){if(!(this instanceof ca))return new ca;this.length=0},Dh=Di.prototype;Dh.instanceString=function(){return"stylesheet"};Dh.selector=function(ca){this[this.length++]=
{selector:ca,properties:[]};return this};Dh.css=function(ca,ya){var Ka=this.length-1;if(bc(ca))this[Ka].properties.push({name:ca,value:ya});else if(ub(ca)){ya=Object.keys(ca);for(var ab=0;ab<ya.length;ab++){var ob=ya[ab],rb=ca[ob];null!=rb&&(ob=ki.properties[ob]||ki.properties[Ee(ob)],null!=ob&&this[Ka].properties.push({name:ob.name,value:rb}))}}return this};Dh.style=Dh.css;Dh.generateStyle=function(ca){ca=new ki(ca);return this.appendToStyle(ca)};Dh.appendToStyle=function(ca){for(var ya=0;ya<this.length;ya++){var Ka=
this[ya],ab=Ka.properties;ca.selector(Ka.selector);for(Ka=0;Ka<ab.length;Ka++){var ob=ab[Ka];ca.css(ob.name,ob.value)}}return ca};var bi=function(ca){void 0===ca&&(ca={});if(ub(ca))return new dj(ca);if(bc(ca))return wk.apply(wk,arguments)};bi.use=function(ca){var ya=Array.prototype.slice.call(arguments,1);ya.unshift(bi);ca.apply(null,ya);return this};bi.warnings=function(ca){return Ie(ca)};bi.version="3.20.0";bi.stylesheet=bi.Stylesheet=Di;gb.exports=bi};
shadow$provide[152]=function(Pa,da,gb,oa){(function(k,f){"object"===typeof oa&&"object"===typeof gb?gb.exports=f():"function"===typeof define&&define.amd?define([],f):"object"===typeof oa?oa.layoutBase=f():k.layoutBase=f()})(this,function(){return function(k){function f(l){if(h[l])return h[l].exports;var u=h[l]={i:l,l:!1,exports:{}};k[l].call(u.exports,u,u.exports,f);u.l=!0;return u.exports}var h={};f.m=k;f.c=h;f.i=function(l){return l};f.d=function(l,u,q){f.o(l,u)||Object.defineProperty(l,u,{configurable:!1,
enumerable:!0,get:q})};f.n=function(l){var u=l&&l.__esModule?function(){return l["default"]}:function(){return l};f.d(u,"a",u);return u};f.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)};f.p="";return f(f.s=26)}([function(k,f,h){function l(){}l.QUALITY=1;l.DEFAULT_CREATE_BENDS_AS_NEEDED=!1;l.DEFAULT_INCREMENTAL=!1;l.DEFAULT_ANIMATION_ON_LAYOUT=!0;l.DEFAULT_ANIMATION_DURING_LAYOUT=!1;l.DEFAULT_ANIMATION_PERIOD=50;l.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1;l.DEFAULT_GRAPH_MARGIN=15;l.NODE_DIMENSIONS_INCLUDE_LABELS=
!1;l.SIMPLE_NODE_SIZE=40;l.SIMPLE_NODE_HALF_SIZE=l.SIMPLE_NODE_SIZE/2;l.EMPTY_COMPOUND_NODE_SIZE=40;l.MIN_EDGE_LENGTH=1;l.WORLD_BOUNDARY=1E6;l.INITIAL_WORLD_BOUNDARY=l.WORLD_BOUNDARY/1E3;l.WORLD_CENTER_X=1200;l.WORLD_CENTER_Y=900;k.exports=l},function(k,f,h){function l(aa,X,S){u.call(this,S);this.isOverlapingSourceAndTarget=!1;this.vGraphObject=S;this.bendpoints=[];this.source=aa;this.target=X}var u=h(2),q=h(8),D=h(9);l.prototype=Object.create(u.prototype);for(var U in u)l[U]=u[U];l.prototype.getSource=
function(){return this.source};l.prototype.getTarget=function(){return this.target};l.prototype.isInterGraph=function(){return this.isInterGraph};l.prototype.getLength=function(){return this.length};l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget};l.prototype.getBendpoints=function(){return this.bendpoints};l.prototype.getLca=function(){return this.lca};l.prototype.getSourceInLca=function(){return this.sourceInLca};l.prototype.getTargetInLca=function(){return this.targetInLca};
l.prototype.getOtherEnd=function(aa){if(this.source===aa)return this.target;if(this.target===aa)return this.source;throw"Node is not incident with this edge";};l.prototype.getOtherEndInGraph=function(aa,X){aa=this.getOtherEnd(aa);for(var S=X.getGraphManager().getRoot();;){if(aa.getOwner()==X)return aa;if(aa.getOwner()==S)break;aa=aa.getOwner().getParent()}return null};l.prototype.updateLength=function(){var aa=Array(4);this.isOverlapingSourceAndTarget=q.getIntersection(this.target.getRect(),this.source.getRect(),
aa);this.isOverlapingSourceAndTarget||(this.lengthX=aa[0]-aa[2],this.lengthY=aa[1]-aa[3],1>Math.abs(this.lengthX)&&(this.lengthX=D.sign(this.lengthX)),1>Math.abs(this.lengthY)&&(this.lengthY=D.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))};l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX();this.lengthY=this.target.getCenterY()-this.source.getCenterY();1>Math.abs(this.lengthX)&&(this.lengthX=D.sign(this.lengthX));
1>Math.abs(this.lengthY)&&(this.lengthY=D.sign(this.lengthY));this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)};k.exports=l},function(k,f,h){k.exports=function(l){this.vGraphObject=l}},function(k,f,h){function l(V,F,t,w){null==t&&null==w&&(w=F);u.call(this,w);null!=V.graphManager&&(V=V.graphManager);this.estimatedSize=q.MIN_VALUE;this.inclusionTreeDepth=q.MAX_VALUE;this.vGraphObject=w;this.edges=[];this.graphManager=V;this.rect=null!=t&&null!=F?new D(F.x,F.y,t.width,t.height):
new D}var u=h(2),q=h(10),D=h(13),U=h(0),aa=h(16),X=h(4);l.prototype=Object.create(u.prototype);for(var S in u)l[S]=u[S];l.prototype.getEdges=function(){return this.edges};l.prototype.getChild=function(){return this.child};l.prototype.getOwner=function(){return this.owner};l.prototype.getWidth=function(){return this.rect.width};l.prototype.setWidth=function(V){this.rect.width=V};l.prototype.getHeight=function(){return this.rect.height};l.prototype.setHeight=function(V){this.rect.height=V};l.prototype.getCenterX=
function(){return this.rect.x+this.rect.width/2};l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2};l.prototype.getCenter=function(){return new X(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)};l.prototype.getLocation=function(){return new X(this.rect.x,this.rect.y)};l.prototype.getRect=function(){return this.rect};l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)};l.prototype.getHalfTheDiagonal=
function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2};l.prototype.setRect=function(V,F){this.rect.x=V.x;this.rect.y=V.y;this.rect.width=F.width;this.rect.height=F.height};l.prototype.setCenter=function(V,F){this.rect.x=V-this.rect.width/2;this.rect.y=F-this.rect.height/2};l.prototype.setLocation=function(V,F){this.rect.x=V;this.rect.y=F};l.prototype.moveBy=function(V,F){this.rect.x+=V;this.rect.y+=F};l.prototype.getEdgeListToNode=function(V){var F=[],t=
this;t.edges.forEach(function(w){if(w.target==V){if(w.source!=t)throw"Incorrect edge source!";F.push(w)}});return F};l.prototype.getEdgesBetween=function(V){var F=[],t=this;t.edges.forEach(function(w){if(w.source!=t&&w.target!=t)throw"Incorrect edge source and/or target";w.target!=V&&w.source!=V||F.push(w)});return F};l.prototype.getNeighborsList=function(){var V=new Set,F=this;F.edges.forEach(function(t){if(t.source==F)V.add(t.target);else{if(t.target!=F)throw"Incorrect incidency!";V.add(t.source)}});
return V};l.prototype.withChildren=function(){var V=new Set;V.add(this);if(null!=this.child)for(var F=this.child.getNodes(),t=0;t<F.length;t++){var w=F[t];w=w.withChildren();w.forEach(function(x){V.add(x)})}return V};l.prototype.getNoOfChildren=function(){var V=0;if(null==this.child)V=1;else for(var F=this.child.getNodes(),t=0;t<F.length;t++){var w=F[t];V+=w.getNoOfChildren()}0==V&&(V=1);return V};l.prototype.getEstimatedSize=function(){if(this.estimatedSize==q.MIN_VALUE)throw"assert failed";return this.estimatedSize};
l.prototype.calcEstimatedSize=function(){if(null==this.child)return this.estimatedSize=(this.rect.width+this.rect.height)/2;this.estimatedSize=this.child.calcEstimatedSize();this.rect.width=this.estimatedSize;return this.rect.height=this.estimatedSize};l.prototype.scatter=function(){var V=-U.INITIAL_WORLD_BOUNDARY;var F=U.INITIAL_WORLD_BOUNDARY;V=U.WORLD_CENTER_X+aa.nextDouble()*(F-V)+V;F=-U.INITIAL_WORLD_BOUNDARY;var t=U.INITIAL_WORLD_BOUNDARY;F=U.WORLD_CENTER_Y+aa.nextDouble()*(t-F)+F;this.rect.x=
V;this.rect.y=F};l.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var V=this.getChild();V.updateBounds(!0);this.rect.x=V.getLeft();this.rect.y=V.getTop();this.setWidth(V.getRight()-V.getLeft());this.setHeight(V.getBottom()-V.getTop());if(U.NODE_DIMENSIONS_INCLUDE_LABELS){var F=V.getRight()-V.getLeft();V=V.getBottom()-V.getTop();this.labelWidth>F&&(this.rect.x-=(this.labelWidth-F)/2,this.setWidth(this.labelWidth));this.labelHeight>
V&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-V)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-V),this.setHeight(this.labelHeight))}}};l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==q.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth};l.prototype.transform=function(V){var F=this.rect.x;F>U.WORLD_BOUNDARY?F=U.WORLD_BOUNDARY:F<-U.WORLD_BOUNDARY&&(F=-U.WORLD_BOUNDARY);var t=this.rect.y;t>U.WORLD_BOUNDARY?t=U.WORLD_BOUNDARY:t<-U.WORLD_BOUNDARY&&
(t=-U.WORLD_BOUNDARY);F=new X(F,t);V=V.inverseTransformPoint(F);this.setLocation(V.x,V.y)};l.prototype.getLeft=function(){return this.rect.x};l.prototype.getRight=function(){return this.rect.x+this.rect.width};l.prototype.getTop=function(){return this.rect.y};l.prototype.getBottom=function(){return this.rect.y+this.rect.height};l.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()};k.exports=l},function(k,f,h){function l(u,q){null==u&&null==q?this.y=this.x=0:(this.x=
u,this.y=q)}l.prototype.getX=function(){return this.x};l.prototype.getY=function(){return this.y};l.prototype.setX=function(u){this.x=u};l.prototype.setY=function(u){this.y=u};l.prototype.getDifference=function(u){return new DimensionD(this.x-u.x,this.y-u.y)};l.prototype.getCopy=function(){return new l(this.x,this.y)};l.prototype.translate=function(u){this.x+=u.width;this.y+=u.height;return this};k.exports=l},function(k,f,h){function l(w,x,I){u.call(this,I);this.estimatedSize=q.MIN_VALUE;this.margin=
D.DEFAULT_GRAPH_MARGIN;this.edges=[];this.nodes=[];this.isConnected=!1;this.parent=w;null!=x&&x instanceof U?this.graphManager=x:null!=x&&x instanceof Layout&&(this.graphManager=x.graphManager)}var u=h(2),q=h(10),D=h(0),U=h(6),aa=h(3),X=h(1),S=h(13),V=h(12),F=h(11);l.prototype=Object.create(u.prototype);for(var t in u)l[t]=u[t];l.prototype.getNodes=function(){return this.nodes};l.prototype.getEdges=function(){return this.edges};l.prototype.getGraphManager=function(){return this.graphManager};l.prototype.getParent=
function(){return this.parent};l.prototype.getLeft=function(){return this.left};l.prototype.getRight=function(){return this.right};l.prototype.getTop=function(){return this.top};l.prototype.getBottom=function(){return this.bottom};l.prototype.isConnected=function(){return this.isConnected};l.prototype.add=function(w,x,I){if(null==x&&null==I){if(null==this.graphManager)throw"Graph has no graph mgr!";if(-1<this.getNodes().indexOf(w))throw"Node already in graph!";w.owner=this;this.getNodes().push(w)}else{if(!(-1<
this.getNodes().indexOf(x)&&-1<this.getNodes().indexOf(I)))throw"Source or target not in graph!";if(x.owner!=I.owner||x.owner!=this)throw"Both owners must be this graph!";if(x.owner!=I.owner)return null;w.source=x;w.target=I;w.isInterGraph=!1;this.getEdges().push(w);x.edges.push(w);I!=x&&I.edges.push(w)}return w};l.prototype.remove=function(w){if(w instanceof aa){if(null==w)throw"Node is null!";if(null==w.owner||w.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";
for(var x=w.edges.slice(),I,R=x.length,B=0;B<R;B++)I=x[B],I.isInterGraph?this.graphManager.remove(I):I.source.owner.remove(I);w=this.nodes.indexOf(w);if(-1==w)throw"Node not in owner node list!";this.nodes.splice(w,1)}else if(w instanceof X){I=w;if(null==I)throw"Edge is null!";if(null==I.source||null==I.target)throw"Source and/or target is null!";if(null==I.source.owner||null==I.target.owner||I.source.owner!=this||I.target.owner!=this)throw"Source and/or target owner is invalid!";w=I.source.edges.indexOf(I);
x=I.target.edges.indexOf(I);if(!(-1<w&&-1<x))throw"Source and/or target doesn't know this edge!";I.source.edges.splice(w,1);I.target!=I.source&&I.target.edges.splice(x,1);w=I.source.owner.getEdges().indexOf(I);if(-1==w)throw"Not in owner's edge list!";I.source.owner.getEdges().splice(w,1)}};l.prototype.updateLeftTop=function(){for(var w=q.MAX_VALUE,x=q.MAX_VALUE,I,R,B=this.getNodes(),v=B.length,O=0;O<v;O++)R=B[O],I=R.getTop(),R=R.getLeft(),w>I&&(w=I),x>R&&(x=R);if(w==q.MAX_VALUE)return null;I=void 0!=
B[0].getParent().paddingLeft?B[0].getParent().paddingLeft:this.margin;this.left=x-I;this.top=w-I;return new V(this.left,this.top)};l.prototype.updateBounds=function(w){for(var x=q.MAX_VALUE,I=-q.MAX_VALUE,R=q.MAX_VALUE,B=-q.MAX_VALUE,v,O,N,A,J=this.nodes,T=J.length,z=0;z<T;z++)A=J[z],w&&null!=A.child&&A.updateBounds(),v=A.getLeft(),O=A.getRight(),N=A.getTop(),A=A.getBottom(),x>v&&(x=v),I<O&&(I=O),R>N&&(R=N),B<A&&(B=A);w=new S(x,R,I-x,B-R);x==q.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=
this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom());x=void 0!=J[0].getParent().paddingLeft?J[0].getParent().paddingLeft:this.margin;this.left=w.x-x;this.right=w.x+w.width+x;this.top=w.y-x;this.bottom=w.y+w.height+x};l.calculateBounds=function(w){for(var x=q.MAX_VALUE,I=-q.MAX_VALUE,R=q.MAX_VALUE,B=-q.MAX_VALUE,v,O,N,A,J=w.length,T=0;T<J;T++)A=w[T],v=A.getLeft(),O=A.getRight(),N=A.getTop(),A=A.getBottom(),x>v&&(x=v),I<O&&(I=O),R>N&&(R=N),B<A&&(B=A);return new S(x,
R,I-x,B-R)};l.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()};l.prototype.getEstimatedSize=function(){if(this.estimatedSize==q.MIN_VALUE)throw"assert failed";return this.estimatedSize};l.prototype.calcEstimatedSize=function(){for(var w=0,x=this.nodes,I=x.length,R=0;R<I;R++)w+=x[R].calcEstimatedSize();return this.estimatedSize=0==w?D.EMPTY_COMPOUND_NODE_SIZE:w/Math.sqrt(this.nodes.length)};l.prototype.updateConnected=function(){var w=
this;if(0==this.nodes.length)this.isConnected=!0;else{var x=new F,I=new Set,R=this.nodes[0];for(R.withChildren().forEach(function(J){x.push(J);I.add(J)});0!==x.length;){R=x.shift();var B=R.getEdges();for(var v=B.length,O=0;O<v;O++){var N=B[O].getOtherEndInGraph(R,this);null==N||I.has(N)||N.withChildren().forEach(function(J){x.push(J);I.add(J)})}}this.isConnected=!1;if(I.size>=this.nodes.length){var A=0;I.forEach(function(J){J.owner==w&&A++});A==this.nodes.length&&(this.isConnected=!0)}}};k.exports=
l},function(k,f,h){function l(D){u=h(5);this.layout=D;this.graphs=[];this.edges=[]}var u,q=h(1);l.prototype.addRoot=function(){var D=this.layout.newGraph(),U=this.layout.newNode(null);D=this.add(D,U);this.setRootGraph(D);return this.rootGraph};l.prototype.add=function(D,U,aa,X,S){if(null==aa&&null==X&&null==S){if(null==D)throw"Graph is null!";if(null==U)throw"Parent node is null!";if(-1<this.graphs.indexOf(D))throw"Graph already in this graph mgr!";this.graphs.push(D);if(null!=D.parent)throw"Already has a parent!";
if(null!=U.child)throw"Already has a child!";D.parent=U;return U.child=D}S=aa;X=U;aa=D;D=X.getOwner();U=S.getOwner();if(null==D||D.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==U||U.getGraphManager()!=this)throw"Target not in this graph mgr!";if(D==U)return aa.isInterGraph=!1,D.add(aa,X,S);aa.isInterGraph=!0;aa.source=X;aa.target=S;if(-1<this.edges.indexOf(aa))throw"Edge already in inter-graph edge list!";this.edges.push(aa);if(null==aa.source||null==aa.target)throw"Edge source and/or target is null!";
if(-1!=aa.source.edges.indexOf(aa)||-1!=aa.target.edges.indexOf(aa))throw"Edge already in source and/or target incidency list!";aa.source.edges.push(aa);aa.target.edges.push(aa);return aa};l.prototype.remove=function(D){if(D instanceof u){if(D.getGraphManager()!=this)throw"Graph not in this graph mgr";if(D!=this.rootGraph&&(null==D.parent||D.parent.graphManager!=this))throw"Invalid parent node!";var U=[];U=U.concat(D.getEdges());for(var aa,X=U.length,S=0;S<X;S++)aa=U[S],D.remove(aa);aa=[];aa=aa.concat(D.getNodes());
X=aa.length;for(S=0;S<X;S++)U=aa[S],D.remove(U);D==this.rootGraph&&this.setRootGraph(null);X=this.graphs.indexOf(D);this.graphs.splice(X,1);D.parent=null}else if(D instanceof q){aa=D;if(null==aa)throw"Edge is null!";if(!aa.isInterGraph)throw"Not an inter-graph edge!";if(null==aa.source||null==aa.target)throw"Source and/or target is null!";if(-1==aa.source.edges.indexOf(aa)||-1==aa.target.edges.indexOf(aa))throw"Source and/or target doesn't know this edge!";X=aa.source.edges.indexOf(aa);aa.source.edges.splice(X,
1);X=aa.target.edges.indexOf(aa);aa.target.edges.splice(X,1);if(null==aa.source.owner||null==aa.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==aa.source.owner.getGraphManager().edges.indexOf(aa))throw"Not in owner graph manager's edge list!";X=aa.source.owner.getGraphManager().edges.indexOf(aa);aa.source.owner.getGraphManager().edges.splice(X,1)}};l.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)};l.prototype.getGraphs=function(){return this.graphs};
l.prototype.getAllNodes=function(){if(null==this.allNodes){for(var D=[],U=this.getGraphs(),aa=U.length,X=0;X<aa;X++)D=D.concat(U[X].getNodes());this.allNodes=D}return this.allNodes};l.prototype.resetAllNodes=function(){this.allNodes=null};l.prototype.resetAllEdges=function(){this.allEdges=null};l.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null};l.prototype.getAllEdges=function(){if(null==this.allEdges){for(var D=[],U=this.getGraphs(),aa=0;aa<U.length;aa++)D=
D.concat(U[aa].getEdges());this.allEdges=D=D.concat(this.edges)}return this.allEdges};l.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation};l.prototype.setAllNodesToApplyGravitation=function(D){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=D};l.prototype.getRoot=function(){return this.rootGraph};l.prototype.setRootGraph=function(D){if(D.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=D;
null==D.parent&&(D.parent=this.layout.newNode("Root node"))};l.prototype.getLayout=function(){return this.layout};l.prototype.isOneAncestorOfOther=function(D,U){if(null==D||null==U)throw"assert failed";if(D==U)return!0;var aa=D.getOwner();do{aa=aa.getParent();if(null==aa)break;if(aa==U)return!0;aa=aa.getOwner();if(null==aa)break}while(1);aa=U.getOwner();do{aa=aa.getParent();if(null==aa)break;if(aa==D)return!0;aa=aa.getOwner();if(null==aa)break}while(1);return!1};l.prototype.calcLowestCommonAncestors=
function(){for(var D,U,aa,X,S=this.getAllEdges(),V=S.length,F=0;F<V;F++)if(D=S[F],U=D.source,aa=D.target,D.lca=null,D.sourceInLca=U,D.targetInLca=aa,U==aa)D.lca=U.getOwner();else{for(U=U.getOwner();null==D.lca;){D.targetInLca=aa;for(X=aa.getOwner();null==D.lca;){if(X==U){D.lca=X;break}if(X==this.rootGraph)break;if(null!=D.lca)throw"assert failed";D.targetInLca=X.getParent();X=D.targetInLca.getOwner()}if(U==this.rootGraph)break;null==D.lca&&(D.sourceInLca=U.getParent(),U=D.sourceInLca.getOwner())}if(null==
D.lca)throw"assert failed";}};l.prototype.calcLowestCommonAncestor=function(D,U){if(D==U)return D.getOwner();D=D.getOwner();do{if(null==D)break;var aa=U.getOwner();do{if(null==aa)break;if(aa==D)return aa;aa=aa.getParent().getOwner()}while(1);D=D.getParent().getOwner()}while(1);return D};l.prototype.calcInclusionTreeDepths=function(D,U){null==D&&null==U&&(D=this.rootGraph,U=1);for(var aa=D.getNodes(),X=aa.length,S=0;S<X;S++)D=aa[S],D.inclusionTreeDepth=U,null!=D.child&&this.calcInclusionTreeDepths(D.child,
U+1)};l.prototype.includesInvalidEdge=function(){for(var D,U=this.edges.length,aa=0;aa<U;aa++)if(D=this.edges[aa],this.isOneAncestorOfOther(D.source,D.target))return!0;return!1};k.exports=l},function(k,f,h){function l(){}f=h(0);for(var u in f)l[u]=f[u];l.MAX_ITERATIONS=2500;l.DEFAULT_EDGE_LENGTH=50;l.DEFAULT_SPRING_STRENGTH=.45;l.DEFAULT_REPULSION_STRENGTH=4500;l.DEFAULT_GRAVITY_STRENGTH=.4;l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1;l.DEFAULT_GRAVITY_RANGE_FACTOR=3.8;l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=
1.5;l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0;l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0;l.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3;l.COOLING_ADAPTATION_FACTOR=.33;l.ADAPTATION_LOWER_NODE_LIMIT=1E3;l.ADAPTATION_UPPER_NODE_LIMIT=5E3;l.MAX_NODE_DISPLACEMENT_INCREMENTAL=100;l.MAX_NODE_DISPLACEMENT=3*l.MAX_NODE_DISPLACEMENT_INCREMENTAL;l.MIN_REPULSION_DIST=l.DEFAULT_EDGE_LENGTH/10;l.CONVERGENCE_CHECK_PERIOD=100;l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1;l.MIN_EDGE_LENGTH=1;l.GRID_CALCULATION_CHECK_PERIOD=
10;k.exports=l},function(k,f,h){function l(){}var u=h(12);l.calcSeparationAmount=function(q,D,U,aa){if(!q.intersects(D))throw"assert failed";var X=Array(2);this.decideDirectionsForOverlappingNodes(q,D,X);U[0]=Math.min(q.getRight(),D.getRight())-Math.max(q.x,D.x);U[1]=Math.min(q.getBottom(),D.getBottom())-Math.max(q.y,D.y);q.getX()<=D.getX()&&q.getRight()>=D.getRight()?U[0]+=Math.min(D.getX()-q.getX(),q.getRight()-D.getRight()):D.getX()<=q.getX()&&D.getRight()>=q.getRight()&&(U[0]+=Math.min(q.getX()-
D.getX(),D.getRight()-q.getRight()));q.getY()<=D.getY()&&q.getBottom()>=D.getBottom()?U[1]+=Math.min(D.getY()-q.getY(),q.getBottom()-D.getBottom()):D.getY()<=q.getY()&&D.getBottom()>=q.getBottom()&&(U[1]+=Math.min(q.getY()-D.getY(),D.getBottom()-q.getBottom()));var S=Math.abs((D.getCenterY()-q.getCenterY())/(D.getCenterX()-q.getCenterX()));D.getCenterY()===q.getCenterY()&&D.getCenterX()===q.getCenterX()&&(S=1);q=S*U[0];S=U[1]/S;U[0]<S?S=U[0]:q=U[1];U[0]=-1*X[0]*(S/2+aa);U[1]=-1*X[1]*(q/2+aa)};l.decideDirectionsForOverlappingNodes=
function(q,D,U){q.getCenterX()<D.getCenterX()?U[0]=-1:U[0]=1;q.getCenterY()<D.getCenterY()?U[1]=-1:U[1]=1};l.getIntersection2=function(q,D,U){var aa=q.getCenterX(),X=q.getCenterY(),S=D.getCenterX(),V=D.getCenterY();if(q.intersects(D))return U[0]=aa,U[1]=X,U[2]=S,U[3]=V,!0;var F=q.getX(),t=q.getY(),w=q.getRight(),x=q.getX(),I=q.getBottom(),R=q.getRight(),B=q.getWidthHalf(),v=q.getHeightHalf(),O=D.getX(),N=D.getY(),A=D.getRight(),J=D.getX(),T=D.getBottom(),z=D.getRight(),ba=D.getWidthHalf(),K=D.getHeightHalf(),
r=!1,Y=!1;if(aa===S)X>V?(U[0]=aa,U[1]=t,U[2]=S,U[3]=T):X<V&&(U[0]=aa,U[1]=I,U[2]=S,U[3]=N);else if(X===V)aa>S?(U[0]=F,U[1]=X,U[2]=A,U[3]=V):aa<S&&(U[0]=w,U[1]=X,U[2]=O,U[3]=V);else{q=q.height/q.width;var Z=D.height/D.width;D=(V-X)/(S-aa);-q===D?(aa>S?(U[0]=x,U[1]=I):(U[0]=w,U[1]=t),r=!0):q===D&&(aa>S?(U[0]=F,U[1]=t):(U[0]=R,U[1]=I),r=!0);-Z===D?(S>aa?(U[2]=J,U[3]=T):(U[2]=A,U[3]=N),Y=!0):Z===D&&(S>aa?(U[2]=O,U[3]=N):(U[2]=z,U[3]=T),Y=!0);if(r&&Y)return!1;aa>S?X>V?(F=this.getCardinalDirection(q,D,
4),w=this.getCardinalDirection(Z,D,2)):(F=this.getCardinalDirection(-q,D,3),w=this.getCardinalDirection(-Z,D,1)):X>V?(F=this.getCardinalDirection(-q,D,1),w=this.getCardinalDirection(-Z,D,3)):(F=this.getCardinalDirection(q,D,2),w=this.getCardinalDirection(Z,D,4));if(!r)switch(F){case 1:U[0]=aa+-v/D;U[1]=t;break;case 2:U[0]=R;U[1]=X+B*D;break;case 3:U[0]=aa+v/D;U[1]=I;break;case 4:U[0]=x,U[1]=X+-B*D}if(!Y)switch(w){case 1:U[2]=S+-K/D;U[3]=N;break;case 2:U[2]=z;U[3]=V+ba*D;break;case 3:U[2]=S+K/D;U[3]=
T;break;case 4:U[2]=J,U[3]=V+-ba*D}}return!1};l.getCardinalDirection=function(q,D,U){return q>D?U:1+U%4};l.getIntersection=function(q,D,U,aa){if(null==aa)return this.getIntersection2(q,D,U);var X=q.x,S=q.y,V=D.x,F=D.y;D=U.x;q=U.y;var t=aa.x,w=aa.y;aa=F-S;U=X-V;V=V*S-X*F;X=w-q;S=D-t;D=t*q-D*w;q=aa*S-X*U;return 0===q?null:new u((U*D-S*V)/q,(X*V-aa*D)/q)};l.angleOfVector=function(q,D,U,aa){if(q!==U){var X=Math.atan((aa-D)/(U-q));U<q?X+=Math.PI:aa<D&&(X+=this.TWO_PI)}else X=aa<D?this.ONE_AND_HALF_PI:
this.HALF_PI;return X};l.doIntersect=function(q,D,U,aa){var X=q.x;q=q.y;var S=D.x;D=D.y;var V=U.x,F=U.y;U=aa.x;aa=aa.y;var t=(S-X)*(aa-F)-(U-V)*(D-q);if(0===t)return!1;V=((aa-F)*(U-X)+(V-U)*(aa-q))/t;X=((q-D)*(U-X)+(S-X)*(aa-q))/t;return 0<V&&1>V&&0<X&&1>X};l.HALF_PI=.5*Math.PI;l.ONE_AND_HALF_PI=1.5*Math.PI;l.TWO_PI=2*Math.PI;l.THREE_PI=3*Math.PI;k.exports=l},function(k,f,h){function l(){}l.sign=function(u){return 0<u?1:0>u?-1:0};l.floor=function(u){return 0>u?Math.ceil(u):Math.floor(u)};l.ceil=function(u){return 0>
u?Math.floor(u):Math.ceil(u)};k.exports=l},function(k,f,h){function l(){}l.MAX_VALUE=2147483647;l.MIN_VALUE=-2147483648;k.exports=l},function(k,f,h){var l=function(){function U(aa,X){for(var S=0;S<X.length;S++){var V=X[S];V.enumerable=V.enumerable||!1;V.configurable=!0;"value"in V&&(V.writable=!0);Object.defineProperty(aa,V.key,V)}}return function(aa,X,S){X&&U(aa.prototype,X);S&&U(aa,S);return aa}}(),u=function(U){return{value:U,next:null,prev:null}},q=function(U,aa,X,S){null!==U?U.next=aa:S.head=
aa;null!==X?X.prev=aa:S.tail=aa;aa.prev=U;aa.next=X;S.length++;return aa},D=function(U,aa){var X=U.prev,S=U.next;null!==X?X.next=S:aa.head=S;null!==S?S.prev=X:aa.tail=X;U.prev=U.next=null;aa.length--;return U};f=function(){function U(aa){var X=this;if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");this.length=0;this.tail=this.head=null;null!=aa&&aa.forEach(function(S){return X.push(S)})}l(U,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(aa,
X){return q(X.prev,u(aa),X,this)}},{key:"insertAfter",value:function(aa,X){return q(X,u(aa),X.next,this)}},{key:"insertNodeBefore",value:function(aa,X){return q(X.prev,aa,X,this)}},{key:"insertNodeAfter",value:function(aa,X){return q(X,aa,X.next,this)}},{key:"push",value:function(aa){return q(this.tail,u(aa),null,this)}},{key:"unshift",value:function(aa){return q(null,u(aa),this.head,this)}},{key:"remove",value:function(aa){return D(aa,this)}},{key:"pop",value:function(){return D(this.tail,this).value}},
{key:"popNode",value:function(){return D(this.tail,this)}},{key:"shift",value:function(){return D(this.head,this).value}},{key:"shiftNode",value:function(){return D(this.head,this)}},{key:"get_object_at",value:function(aa){if(aa<=this.length()){for(var X=1,S=this.head;X<aa;)S=S.next,X++;return S.value}}},{key:"set_object_at",value:function(aa,X){if(aa<=this.length()){for(var S=1,V=this.head;S<aa;)V=V.next,S++;V.value=X}}}]);return U}();k.exports=f},function(k,f,h){function l(u,q,D){this.y=this.x=
null;null==u&&null==q&&null==D?this.y=this.x=0:"number"==typeof u&&"number"==typeof q&&null==D?(this.x=u,this.y=q):"Point"==u.constructor.name&&null==q&&null==D&&(D=u,this.x=D.x,this.y=D.y)}l.prototype.getX=function(){return this.x};l.prototype.getY=function(){return this.y};l.prototype.getLocation=function(){return new l(this.x,this.y)};l.prototype.setLocation=function(u,q,D){"Point"==u.constructor.name&&null==q&&null==D?(D=u,this.setLocation(D.x,D.y)):"number"==typeof u&&"number"==typeof q&&null==
D&&(parseInt(u)==u&&parseInt(q)==q?this.move(u,q):(this.x=Math.floor(u+.5),this.y=Math.floor(q+.5)))};l.prototype.move=function(u,q){this.x=u;this.y=q};l.prototype.translate=function(u,q){this.x+=u;this.y+=q};l.prototype.equals=function(u){return"Point"==u.constructor.name?this.x==u.x&&this.y==u.y:this==u};l.prototype.toString=function(){return(new l).constructor.name+"[x\x3d"+this.x+",y\x3d"+this.y+"]"};k.exports=l},function(k,f,h){function l(u,q,D,U){this.height=this.width=this.y=this.x=0;null!=
u&&null!=q&&null!=D&&null!=U&&(this.x=u,this.y=q,this.width=D,this.height=U)}l.prototype.getX=function(){return this.x};l.prototype.setX=function(u){this.x=u};l.prototype.getY=function(){return this.y};l.prototype.setY=function(u){this.y=u};l.prototype.getWidth=function(){return this.width};l.prototype.setWidth=function(u){this.width=u};l.prototype.getHeight=function(){return this.height};l.prototype.setHeight=function(u){this.height=u};l.prototype.getRight=function(){return this.x+this.width};l.prototype.getBottom=
function(){return this.y+this.height};l.prototype.intersects=function(u){return this.getRight()<u.x||this.getBottom()<u.y||u.getRight()<this.x||u.getBottom()<this.y?!1:!0};l.prototype.getCenterX=function(){return this.x+this.width/2};l.prototype.getMinX=function(){return this.getX()};l.prototype.getMaxX=function(){return this.getX()+this.width};l.prototype.getCenterY=function(){return this.y+this.height/2};l.prototype.getMinY=function(){return this.getY()};l.prototype.getMaxY=function(){return this.getY()+
this.height};l.prototype.getWidthHalf=function(){return this.width/2};l.prototype.getHeightHalf=function(){return this.height/2};k.exports=l},function(k,f,h){function l(){}var u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"===typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};l.lastID=0;l.createID=function(q){if(l.isPrimitive(q))return q;if(null!=q.uniqueID)return q.uniqueID;q.uniqueID=l.getString();
l.lastID++;return q.uniqueID};l.getString=function(q){null==q&&(q=l.lastID);return"Object#"+q};l.isPrimitive=function(q){var D="undefined"===typeof q?"undefined":u(q);return null==q||"object"!=D&&"function"!=D};k.exports=l},function(k,f,h){function l(t){if(Array.isArray(t)){for(var w=0,x=Array(t.length);w<t.length;w++)x[w]=t[w];return x}return Array.from(t)}function u(t){F.call(this);this.layoutQuality=q.QUALITY;this.createBendsAsNeeded=q.DEFAULT_CREATE_BENDS_AS_NEEDED;this.incremental=q.DEFAULT_INCREMENTAL;
this.animationOnLayout=q.DEFAULT_ANIMATION_ON_LAYOUT;this.animationDuringLayout=q.DEFAULT_ANIMATION_DURING_LAYOUT;this.animationPeriod=q.DEFAULT_ANIMATION_PERIOD;this.uniformLeafNodeSizes=q.DEFAULT_UNIFORM_LEAF_NODE_SIZES;this.edgeToDummyNodes=new Map;this.graphManager=new D(this);this.isRemoteUse=this.isSubLayout=this.isLayoutFinished=!1;null!=t&&(this.isRemoteUse=t)}var q=h(0),D=h(6),U=h(3),aa=h(1),X=h(5),S=h(4),V=h(17),F=h(27);u.RANDOM_SEED=1;u.prototype=Object.create(F.prototype);u.prototype.getGraphManager=
function(){return this.graphManager};u.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()};u.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()};u.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()};u.prototype.newGraphManager=function(){var t=new D(this);return this.graphManager=t};u.prototype.newGraph=function(t){return new X(null,this.graphManager,t)};u.prototype.newNode=function(t){return new U(this.graphManager,
t)};u.prototype.newEdge=function(t){return new aa(null,null,t)};u.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()};u.prototype.runLayout=function(){this.isLayoutFinished=!1;this.tilingPreLayout&&this.tilingPreLayout();this.initParameters();var t=this.checkLayoutSuccess()?!1:this.layout();if("during"===q.ANIMATE)return!1;t&&(this.isSubLayout||this.doPostLayout());this.tilingPostLayout&&
this.tilingPostLayout();this.isLayoutFinished=!0;return t};u.prototype.doPostLayout=function(){this.incremental||this.transform();this.update()};u.prototype.update2=function(){this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges());if(!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),w=0;w<t.length;w++);t=this.graphManager.getRoot().getNodes();for(w=0;w<t.length;w++);this.update(this.graphManager.getRoot())}};u.prototype.update=function(t){if(null==
t)this.update2();else if(t instanceof U){if(null!=t.getChild())for(var w=t.getChild().getNodes(),x=0;x<w.length;x++)update(w[x]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else t instanceof aa?null!=t.vGraphObject&&t.vGraphObject.update(t):t instanceof X&&null!=t.vGraphObject&&t.vGraphObject.update(t)};u.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=q.QUALITY,this.animationDuringLayout=q.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=q.DEFAULT_ANIMATION_PERIOD,
this.animationOnLayout=q.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=q.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=q.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=q.DEFAULT_UNIFORM_LEAF_NODE_SIZES);this.animationDuringLayout&&(this.animationOnLayout=!1)};u.prototype.transform=function(t){if(void 0==t)this.transform(new S(0,0));else{var w=new V,x=this.graphManager.getRoot().updateLeftTop();if(null!=x){w.setWorldOrgX(t.x);w.setWorldOrgY(t.y);w.setDeviceOrgX(x.x);w.setDeviceOrgY(x.y);t=
this.getAllNodes();for(var I=0;I<t.length;I++)x=t[I],x.transform(w)}}};u.prototype.positionNodesRandomly=function(t){if(void 0==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var w,x=t.getNodes(),I=0;I<x.length;I++)t=x[I],w=t.getChild(),null==w?t.scatter():0==w.getNodes().length?t.scatter():(this.positionNodesRandomly(w),t.updateBounds())};u.prototype.getFlatForest=function(){for(var t=[],w=!0,x=this.graphManager.getRoot().getNodes(),
I=!0,R=0;R<x.length;R++)null!=x[R].getChild()&&(I=!1);if(!I)return t;var B=new Set;I=[];var v=new Map,O=[];for(O=O.concat(x);0<O.length&&w;){for(I.push(O[0]);0<I.length&&w;){x=I[0];I.splice(0,1);B.add(x);var N=x.getEdges();for(R=0;R<N.length;R++){var A=N[R].getOtherEnd(x);if(v.get(x)!=A)if(B.has(A)){w=!1;break}else I.push(A),v.set(A,x)}}if(w){B=[].concat(l(B));t.push(B);for(R=0;R<B.length;R++)v=O.indexOf(B[R]),-1<v&&O.splice(v,1);B=new Set;v=new Map}else t=[]}return t};u.prototype.createDummyNodesForBendpoints=
function(t){for(var w=[],x=t.source,I=this.graphManager.calcLowestCommonAncestor(t.source,t.target),R=0;R<t.bendpoints.length;R++){var B=this.newNode(null);B.setRect(new Point(0,0),new Dimension(1,1));I.add(B);var v=this.newEdge(null);this.graphManager.add(v,x,B);w.add(B);x=B}v=this.newEdge(null);this.graphManager.add(v,x,t.target);this.edgeToDummyNodes.set(t,w);t.isInterGraph()?this.graphManager.remove(t):I.remove(t);return w};u.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());
t=[].concat(l(this.edgeToDummyNodes.keys())).concat(t);for(var w=0;w<t.length;w++){var x=t[w];if(0<x.bendpoints.length){for(var I=this.edgeToDummyNodes.get(x),R=0;R<I.length;R++){var B=I[R],v=new S(B.getCenterX(),B.getCenterY()),O=x.bendpoints.get(R);O.x=v.x;O.y=v.y;B.getOwner().remove(B)}this.graphManager.add(x,x.source,x.target)}}};u.transform=function(t,w,x,I){if(void 0!=x&&void 0!=I){var R=w;return 50>=t?R-(w-w/x)/50*(50-t):R+(w*I-w)/50*(t-50)}50>=t?(x=9*w/500,w/=10):(x=9*w/50,w*=-8);return x*
t+w};u.findCenterOfTree=function(t){var w=[];w=w.concat(t);var x=[],I=new Map;t=!1;var R=null;if(1==w.length||2==w.length)t=!0,R=w[0];for(var B=0;B<w.length;B++){var v=w[B],O=v.getNeighborsList().size;I.set(v,v.getNeighborsList().size);1==O&&x.push(v)}var N=[];for(N=N.concat(x);!t;){B=[];B=B.concat(N);N=[];for(B=0;B<w.length;B++)v=w[B],O=w.indexOf(v),0<=O&&w.splice(O,1),v.getNeighborsList().forEach(function(A){if(0>x.indexOf(A)){var J=I.get(A)-1;1==J&&N.push(A);I.set(A,J)}});x=x.concat(N);if(1==w.length||
2==w.length)t=!0,R=w[0]}return R};u.prototype.setGraphManager=function(t){this.graphManager=t};k.exports=u},function(k,f,h){function l(){}l.seed=1;l.x=0;l.nextDouble=function(){l.x=1E4*Math.sin(l.seed++);return l.x-Math.floor(l.x)};k.exports=l},function(k,f,h){function l(q,D){this.ldeviceOrgY=this.ldeviceOrgX=this.lworldOrgY=this.lworldOrgX=0;this.ldeviceExtY=this.ldeviceExtX=this.lworldExtY=this.lworldExtX=1}var u=h(4);l.prototype.getWorldOrgX=function(){return this.lworldOrgX};l.prototype.setWorldOrgX=
function(q){this.lworldOrgX=q};l.prototype.getWorldOrgY=function(){return this.lworldOrgY};l.prototype.setWorldOrgY=function(q){this.lworldOrgY=q};l.prototype.getWorldExtX=function(){return this.lworldExtX};l.prototype.setWorldExtX=function(q){this.lworldExtX=q};l.prototype.getWorldExtY=function(){return this.lworldExtY};l.prototype.setWorldExtY=function(q){this.lworldExtY=q};l.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX};l.prototype.setDeviceOrgX=function(q){this.ldeviceOrgX=q};l.prototype.getDeviceOrgY=
function(){return this.ldeviceOrgY};l.prototype.setDeviceOrgY=function(q){this.ldeviceOrgY=q};l.prototype.getDeviceExtX=function(){return this.ldeviceExtX};l.prototype.setDeviceExtX=function(q){this.ldeviceExtX=q};l.prototype.getDeviceExtY=function(){return this.ldeviceExtY};l.prototype.setDeviceExtY=function(q){this.ldeviceExtY=q};l.prototype.transformX=function(q){var D=0,U=this.lworldExtX;0!=U&&(D=this.ldeviceOrgX+(q-this.lworldOrgX)*this.ldeviceExtX/U);return D};l.prototype.transformY=function(q){var D=
0,U=this.lworldExtY;0!=U&&(D=this.ldeviceOrgY+(q-this.lworldOrgY)*this.ldeviceExtY/U);return D};l.prototype.inverseTransformX=function(q){var D=0,U=this.ldeviceExtX;0!=U&&(D=this.lworldOrgX+(q-this.ldeviceOrgX)*this.lworldExtX/U);return D};l.prototype.inverseTransformY=function(q){var D=0,U=this.ldeviceExtY;0!=U&&(D=this.lworldOrgY+(q-this.ldeviceOrgY)*this.lworldExtY/U);return D};l.prototype.inverseTransformPoint=function(q){return new u(this.inverseTransformX(q.x),this.inverseTransformY(q.y))};
k.exports=l},function(k,f,h){function l(){u.call(this);this.useSmartIdealEdgeLengthCalculation=q.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;this.idealEdgeLength=q.DEFAULT_EDGE_LENGTH;this.springConstant=q.DEFAULT_SPRING_STRENGTH;this.repulsionConstant=q.DEFAULT_REPULSION_STRENGTH;this.gravityConstant=q.DEFAULT_GRAVITY_STRENGTH;this.compoundGravityConstant=q.DEFAULT_COMPOUND_GRAVITY_STRENGTH;this.gravityRangeFactor=q.DEFAULT_GRAVITY_RANGE_FACTOR;this.compoundGravityRangeFactor=q.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;
this.displacementThresholdPerNode=3*q.DEFAULT_EDGE_LENGTH/100;this.initialCoolingFactor=this.coolingFactor=q.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.oldTotalDisplacement=this.totalDisplacement=0;this.maxIterations=q.MAX_ITERATIONS}var u=h(15),q=h(7),D=h(0),U=h(8),aa=h(9);l.prototype=Object.create(u.prototype);for(var X in u)l[X]=u[X];l.prototype.initParameters=function(){u.prototype.initParameters.call(this,arguments);this.notAnimatedIterations=this.totalIterations=0;this.useFRGridVariant=q.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION;
this.grid=[]};l.prototype.calcIdealEdgeLengths=function(){for(var S,V,F,t,w,x=this.getGraphManager().getAllEdges(),I=0;I<x.length;I++)S=x[I],S.idealLength=this.idealEdgeLength,S.isInterGraph&&(F=S.getSource(),t=S.getTarget(),V=S.getSourceInLca().getEstimatedSize(),w=S.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(S.idealLength+=V+w-2*D.SIMPLE_NODE_SIZE),V=S.getLca().getInclusionTreeDepth(),S.idealLength+=q.DEFAULT_EDGE_LENGTH*q.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(F.getInclusionTreeDepth()+
t.getInclusionTreeDepth()-2*V))};l.prototype.initSpringEmbedder=function(){var S=this.getAllNodes().length;this.incremental?(S>q.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*q.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(S-q.ADAPTATION_LOWER_NODE_LIMIT)/(q.ADAPTATION_UPPER_NODE_LIMIT-q.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-q.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=q.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.initialCoolingFactor=this.coolingFactor=
S>q.ADAPTATION_LOWER_NODE_LIMIT?Math.max(q.COOLING_ADAPTATION_FACTOR,1-(S-q.ADAPTATION_LOWER_NODE_LIMIT)/(q.ADAPTATION_UPPER_NODE_LIMIT-q.ADAPTATION_LOWER_NODE_LIMIT)*(1-q.COOLING_ADAPTATION_FACTOR)):1,this.maxNodeDisplacement=q.MAX_NODE_DISPLACEMENT);this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations);this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length;this.repulsionRange=this.calcRepulsionRange()};l.prototype.calcSpringForces=function(){for(var S=
this.getAllEdges(),V,F=0;F<S.length;F++)V=S[F],this.calcSpringForce(V,V.idealLength)};l.prototype.calcRepulsionForces=function(){var S=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,V=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,F,t=this.getAllNodes();if(this.useFRGridVariant){1==this.totalIterations%q.GRID_CALCULATION_CHECK_PERIOD&&S&&this.updateGrid();var w=new Set;for(F=0;F<t.length;F++){var x=t[F];this.calculateRepulsionForceOfANode(x,w,S,V);w.add(x)}}else for(F=0;F<t.length;F++)for(x=
t[F],S=F+1;S<t.length;S++)V=t[S],x.getOwner()==V.getOwner()&&this.calcRepulsionForce(x,V)};l.prototype.calcGravitationalForces=function(){for(var S,V=this.getAllNodesToApplyGravitation(),F=0;F<V.length;F++)S=V[F],this.calcGravitationalForce(S)};l.prototype.moveNodes=function(){for(var S=this.getAllNodes(),V,F=0;F<S.length;F++)V=S[F],V.move()};l.prototype.calcSpringForce=function(S,V){var F=S.getSource(),t=S.getTarget();if(this.uniformLeafNodeSizes&&null==F.getChild()&&null==t.getChild())S.updateLengthSimple();
else if(S.updateLength(),S.isOverlapingSourceAndTarget)return;var w=S.getLength();if(0!=w){var x=this.springConstant*(w-V);V=S.lengthX/w*x;S=S.lengthY/w*x;F.springForceX+=V;F.springForceY+=S;t.springForceX-=V;t.springForceY-=S}};l.prototype.calcRepulsionForce=function(S,V){var F=S.getRect(),t=V.getRect(),w=Array(2),x=Array(4);if(F.intersects(t)){U.calcSeparationAmount(F,t,w,q.DEFAULT_EDGE_LENGTH/2);var I=2*w[0];F=2*w[1];t=S.noOfChildren*V.noOfChildren/(S.noOfChildren+V.noOfChildren);S.repulsionForceX-=
t*I;S.repulsionForceY-=t*F;V.repulsionForceX+=t*I;V.repulsionForceY+=t*F}else this.uniformLeafNodeSizes&&null==S.getChild()&&null==V.getChild()?(I=t.getCenterX()-F.getCenterX(),F=t.getCenterY()-F.getCenterY()):(U.getIntersection(F,t,x),I=x[2]-x[0],F=x[3]-x[1]),Math.abs(I)<q.MIN_REPULSION_DIST&&(I=aa.sign(I)*q.MIN_REPULSION_DIST),Math.abs(F)<q.MIN_REPULSION_DIST&&(F=aa.sign(F)*q.MIN_REPULSION_DIST),w=I*I+F*F,t=Math.sqrt(w),w=this.repulsionConstant*S.noOfChildren*V.noOfChildren/w,I=w*I/t,F=w*F/t,S.repulsionForceX-=
I,S.repulsionForceY-=F,V.repulsionForceX+=I,V.repulsionForceY+=F};l.prototype.calcGravitationalForce=function(S){var V=S.getOwner();var F=(V.getRight()+V.getLeft())/2;var t=(V.getTop()+V.getBottom())/2;F=S.getCenterX()-F;t=S.getCenterY()-t;var w=Math.abs(F)+S.getWidth()/2;var x=Math.abs(t)+S.getHeight()/2;if(S.getOwner()==this.graphManager.getRoot()){if(V=V.getEstimatedSize()*this.gravityRangeFactor,w>V||x>V)S.gravitationForceX=-this.gravityConstant*F,S.gravitationForceY=-this.gravityConstant*t}else if(V=
V.getEstimatedSize()*this.compoundGravityRangeFactor,w>V||x>V)S.gravitationForceX=-this.gravityConstant*F*this.compoundGravityConstant,S.gravitationForceY=-this.gravityConstant*t*this.compoundGravityConstant};l.prototype.isConverged=function(){var S=!1;this.totalIterations>this.maxIterations/3&&(S=2>Math.abs(this.totalDisplacement-this.oldTotalDisplacement));var V=this.totalDisplacement<this.totalDisplacementThreshold;this.oldTotalDisplacement=this.totalDisplacement;return V||S};l.prototype.animate=
function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)};l.prototype.calcNoOfChildrenForAllNodes=function(){for(var S,V=this.graphManager.getAllNodes(),F=0;F<V.length;F++)S=V[F],S.noOfChildren=S.getNoOfChildren()};l.prototype.calcGrid=function(S){var V=parseInt(Math.ceil((S.getRight()-S.getLeft())/this.repulsionRange));S=parseInt(Math.ceil((S.getBottom()-S.getTop())/this.repulsionRange));
for(var F=Array(V),t=0;t<V;t++)F[t]=Array(S);for(t=0;t<V;t++)for(var w=0;w<S;w++)F[t][w]=[];return F};l.prototype.addNodeToGrid=function(S,V,F){var t=parseInt(Math.floor((S.getRect().x-V)/this.repulsionRange));V=parseInt(Math.floor((S.getRect().width+S.getRect().x-V)/this.repulsionRange));var w=parseInt(Math.floor((S.getRect().y-F)/this.repulsionRange));F=parseInt(Math.floor((S.getRect().height+S.getRect().y-F)/this.repulsionRange));for(var x=t;x<=V;x++)for(var I=w;I<=F;I++)this.grid[x][I].push(S),
S.setGridCoordinates(t,V,w,F)};l.prototype.updateGrid=function(){var S,V=this.getAllNodes();this.grid=this.calcGrid(this.graphManager.getRoot());for(S=0;S<V.length;S++){var F=V[S];this.addNodeToGrid(F,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())}};l.prototype.calculateRepulsionForceOfANode=function(S,V,F,t){if(1==this.totalIterations%q.GRID_CALCULATION_CHECK_PERIOD&&F||t){F=new Set;S.surrounding=[];for(var w=this.grid,x=S.startX-1;x<S.finishX+2;x++)for(var I=S.startY-
1;I<S.finishY+2;I++)if(!(0>x||0>I||x>=w.length||I>=w[0].length))for(var R=0;R<w[x][I].length;R++)if(t=w[x][I][R],S.getOwner()==t.getOwner()&&S!=t&&!V.has(t)&&!F.has(t)){var B=Math.abs(S.getCenterX()-t.getCenterX())-(S.getWidth()/2+t.getWidth()/2),v=Math.abs(S.getCenterY()-t.getCenterY())-(S.getHeight()/2+t.getHeight()/2);B<=this.repulsionRange&&v<=this.repulsionRange&&F.add(t)}V=[];t=V.concat;if(Array.isArray(F)){w=0;for(x=Array(F.length);w<F.length;w++)x[w]=F[w];F=x}else F=Array.from(F);S.surrounding=
t.call(V,F)}for(x=0;x<S.surrounding.length;x++)this.calcRepulsionForce(S,S.surrounding[x])};l.prototype.calcRepulsionRange=function(){return 0};k.exports=l},function(k,f,h){function l(U,aa,X){u.call(this,U,aa,X);this.idealLength=q.DEFAULT_EDGE_LENGTH}var u=h(1),q=h(7);l.prototype=Object.create(u.prototype);for(var D in u)l[D]=u[D];k.exports=l},function(k,f,h){function l(D,U,aa,X){u.call(this,D,U,aa,X);this.finishY=this.startY=this.finishX=this.startX=this.displacementY=this.displacementX=this.gravitationForceY=
this.gravitationForceX=this.repulsionForceY=this.repulsionForceX=this.springForceY=this.springForceX=0;this.surrounding=[]}var u=h(3);l.prototype=Object.create(u.prototype);for(var q in u)l[q]=u[q];l.prototype.setGridCoordinates=function(D,U,aa,X){this.startX=D;this.finishX=U;this.startY=aa;this.finishY=X};k.exports=l},function(k,f,h){function l(u,q){this.height=this.width=0;null!==u&&null!==q&&(this.height=q,this.width=u)}l.prototype.getWidth=function(){return this.width};l.prototype.setWidth=function(u){this.width=
u};l.prototype.getHeight=function(){return this.height};l.prototype.setHeight=function(u){this.height=u};k.exports=l},function(k,f,h){function l(){this.map={};this.keys=[]}var u=h(14);l.prototype.put=function(q,D){var U=u.createID(q);this.contains(U)||(this.map[U]=D,this.keys.push(q))};l.prototype.contains=function(q){u.createID(q);return null!=this.map[q]};l.prototype.get=function(q){q=u.createID(q);return this.map[q]};l.prototype.keySet=function(){return this.keys};k.exports=l},function(k,f,h){function l(){this.set=
{}}var u=h(14);l.prototype.add=function(q){var D=u.createID(q);this.contains(D)||(this.set[D]=q)};l.prototype.remove=function(q){delete this.set[u.createID(q)]};l.prototype.clear=function(){this.set={}};l.prototype.contains=function(q){return this.set[u.createID(q)]==q};l.prototype.isEmpty=function(){return 0===this.size()};l.prototype.size=function(){return Object.keys(this.set).length};l.prototype.addAllTo=function(q){for(var D=Object.keys(this.set),U=D.length,aa=0;aa<U;aa++)q.push(this.set[D[aa]])};
l.prototype.size=function(){return Object.keys(this.set).length};l.prototype.addAll=function(q){for(var D=q.length,U=0;U<D;U++)this.add(q[U])};k.exports=l},function(k,f,h){var l=function(){function q(D,U){for(var aa=0;aa<U.length;aa++){var X=U[aa];X.enumerable=X.enumerable||!1;X.configurable=!0;"value"in X&&(X.writable=!0);Object.defineProperty(D,X.key,X)}}return function(D,U,aa){U&&q(D.prototype,U);aa&&q(D,aa);return D}}(),u=h(11);f=function(){function q(D,U){if(!(this instanceof q))throw new TypeError("Cannot call a class as a function");
if(null!==U||void 0!==U)this.compareFunction=this._defaultCompareFunction;U=D instanceof u?D.size():D.length;this._quicksort(D,0,U-1)}l(q,[{key:"_quicksort",value:function(D,U,aa){if(U<aa){var X=this._partition(D,U,aa);this._quicksort(D,U,X);this._quicksort(D,X+1,aa)}}},{key:"_partition",value:function(D,U,aa){for(var X=this._get(D,U);;){for(;this.compareFunction(X,this._get(D,aa));)aa--;for(;this.compareFunction(this._get(D,U),X);)U++;if(U<aa)this._swap(D,U,aa),U++,aa--;else return aa}}},{key:"_get",
value:function(D,U){return D instanceof u?D.get_object_at(U):D[U]}},{key:"_set",value:function(D,U,aa){D instanceof u?D.set_object_at(U,aa):D[U]=aa}},{key:"_swap",value:function(D,U,aa){var X=this._get(D,U);this._set(D,U,this._get(D,aa));this._set(D,aa,X)}},{key:"_defaultCompareFunction",value:function(D,U){return U>D}}]);return q}();k.exports=f},function(k,f,h){var l=function(){function u(q,D){for(var U=0;U<D.length;U++){var aa=D[U];aa.enumerable=aa.enumerable||!1;aa.configurable=!0;"value"in aa&&
(aa.writable=!0);Object.defineProperty(q,aa.key,aa)}}return function(q,D,U){D&&u(q.prototype,D);U&&u(q,U);return q}}();f=function(){function u(q,D){var U=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,aa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,X=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.sequence1=q;this.sequence2=D;this.match_score=U;this.mismatch_penalty=aa;this.gap_penalty=
X;this.iMax=q.length+1;this.jMax=D.length+1;this.grid=Array(this.iMax);for(U=0;U<this.iMax;U++)for(this.grid[U]=Array(this.jMax),aa=0;aa<this.jMax;aa++)this.grid[U][aa]=0;this.tracebackGrid=Array(this.iMax);for(U=0;U<this.iMax;U++)for(this.tracebackGrid[U]=Array(this.jMax),aa=0;aa<this.jMax;aa++)this.tracebackGrid[U][aa]=[null,null,null];this.alignments=[];this.score=-1;this.computeGrids()}l(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},
{key:"computeGrids",value:function(){for(var q=1;q<this.jMax;q++)this.grid[0][q]=this.grid[0][q-1]+this.gap_penalty,this.tracebackGrid[0][q]=[!1,!1,!0];for(q=1;q<this.iMax;q++)this.grid[q][0]=this.grid[q-1][0]+this.gap_penalty,this.tracebackGrid[q][0]=[!1,!0,!1];for(q=1;q<this.iMax;q++)for(var D=1;D<this.jMax;D++){var U=[this.sequence1[q-1]===this.sequence2[D-1]?this.grid[q-1][D-1]+this.match_score:this.grid[q-1][D-1]+this.mismatch_penalty,this.grid[q-1][D]+this.gap_penalty,this.grid[q][D-1]+this.gap_penalty],
aa=this.arrayAllMaxIndexes(U);this.grid[q][D]=U[aa[0]];this.tracebackGrid[q][D]=[aa.includes(0),aa.includes(1),aa.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var q=[];for(q.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});q[0];){var D=q[0],U=this.tracebackGrid[D.pos[0]][D.pos[1]];U[0]&&q.push({pos:[D.pos[0]-1,D.pos[1]-1],seq1:this.sequence1[D.pos[0]-1]+D.seq1,seq2:this.sequence2[D.pos[1]-1]+D.seq2});U[1]&&q.push({pos:[D.pos[0]-
1,D.pos[1]],seq1:this.sequence1[D.pos[0]-1]+D.seq1,seq2:"-"+D.seq2});U[2]&&q.push({pos:[D.pos[0],D.pos[1]-1],seq1:"-"+D.seq1,seq2:this.sequence2[D.pos[1]-1]+D.seq2});0===D.pos[0]&&0===D.pos[1]&&this.alignments.push({sequence1:D.seq1,sequence2:D.seq2});q.shift()}return this.alignments}},{key:"getAllIndexes",value:function(q,D){for(var U=[],aa=-1;-1!==(aa=q.indexOf(D,aa+1));)U.push(aa);return U}},{key:"arrayAllMaxIndexes",value:function(q){return this.getAllIndexes(q,Math.max.apply(null,q))}}]);return u}();
k.exports=f},function(k,f,h){f=function(){};f.FDLayout=h(18);f.FDLayoutConstants=h(7);f.FDLayoutEdge=h(19);f.FDLayoutNode=h(20);f.DimensionD=h(21);f.HashMap=h(22);f.HashSet=h(23);f.IGeometry=h(8);f.IMath=h(9);f.Integer=h(10);f.Point=h(12);f.PointD=h(4);f.RandomSeed=h(16);f.RectangleD=h(13);f.Transform=h(17);f.UniqueIDGeneretor=h(14);f.Quicksort=h(24);f.LinkedList=h(11);f.LGraphObject=h(2);f.LGraph=h(5);f.LEdge=h(1);f.LGraphManager=h(6);f.LNode=h(3);f.Layout=h(15);f.LayoutConstants=h(0);f.NeedlemanWunsch=
h(25);k.exports=f},function(k,f,h){function l(){this.listeners=[]}f=l.prototype;f.addListener=function(u,q){this.listeners.push({event:u,callback:q})};f.removeListener=function(u,q){for(var D=this.listeners.length;0<=D;D--){var U=this.listeners[D];U.event===u&&U.callback===q&&this.listeners.splice(D,1)}};f.emit=function(u,q){for(var D=0;D<this.listeners.length;D++){var U=this.listeners[D];u===U.event&&U.callback(q)}};k.exports=l}])})};
shadow$provide[153]=function(Pa,da,gb,oa){(function(k,f){"object"===typeof oa&&"object"===typeof gb?gb.exports=f(da(152)):"function"===typeof define&&define.amd?define(["layout-base"],f):"object"===typeof oa?oa.coseBase=f(da(152)):k.coseBase=f(k.layoutBase)})(this,function(k){return function(f){function h(u){if(l[u])return l[u].exports;var q=l[u]={i:u,l:!1,exports:{}};f[u].call(q.exports,q,q.exports,h);q.l=!0;return q.exports}var l={};h.m=f;h.c=l;h.i=function(u){return u};h.d=function(u,q,D){h.o(u,
q)||Object.defineProperty(u,q,{configurable:!1,enumerable:!0,get:D})};h.n=function(u){var q=u&&u.__esModule?function(){return u["default"]}:function(){return u};h.d(q,"a",q);return q};h.o=function(u,q){return Object.prototype.hasOwnProperty.call(u,q)};h.p="";return h(h.s=7)}([function(f,h){f.exports=k},function(f,h,l){function u(){}h=l(0).FDLayoutConstants;for(var q in h)u[q]=h[q];u.DEFAULT_USE_MULTI_LEVEL_SCALING=!1;u.DEFAULT_RADIAL_SEPARATION=h.DEFAULT_EDGE_LENGTH;u.DEFAULT_COMPONENT_SEPERATION=
60;u.TILE=!0;u.TILING_PADDING_VERTICAL=10;u.TILING_PADDING_HORIZONTAL=10;u.TREE_REDUCTION_ON_INCREMENTAL=!1;f.exports=u},function(f,h,l){function u(U,aa,X){q.call(this,U,aa,X)}var q=l(0).FDLayoutEdge;u.prototype=Object.create(q.prototype);for(var D in q)u[D]=q[D];f.exports=u},function(f,h,l){function u(U,aa,X){q.call(this,U,aa,X)}var q=l(0).LGraph;u.prototype=Object.create(q.prototype);for(var D in q)u[D]=q[D];f.exports=u},function(f,h,l){function u(U){q.call(this,U)}var q=l(0).LGraphManager;u.prototype=
Object.create(q.prototype);for(var D in q)u[D]=q[D];f.exports=u},function(f,h,l){function u(aa,X,S,V){q.call(this,aa,X,S,V)}var q=l(0).FDLayoutNode,D=l(0).IMath;u.prototype=Object.create(q.prototype);for(var U in q)u[U]=q[U];u.prototype.move=function(){var aa=this.graphManager.getLayout();this.displacementX=aa.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren;this.displacementY=aa.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/
this.noOfChildren;Math.abs(this.displacementX)>aa.coolingFactor*aa.maxNodeDisplacement&&(this.displacementX=aa.coolingFactor*aa.maxNodeDisplacement*D.sign(this.displacementX));Math.abs(this.displacementY)>aa.coolingFactor*aa.maxNodeDisplacement&&(this.displacementY=aa.coolingFactor*aa.maxNodeDisplacement*D.sign(this.displacementY));null==this.child?this.moveBy(this.displacementX,this.displacementY):0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,
this.displacementY);aa.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY);this.displacementY=this.displacementX=this.gravitationForceY=this.gravitationForceX=this.repulsionForceY=this.repulsionForceX=this.springForceY=this.springForceX=0};u.prototype.propogateDisplacementToChildren=function(aa,X){for(var S=this.getChild().getNodes(),V,F=0;F<S.length;F++)V=S[F],null==V.getChild()?(V.moveBy(aa,X),V.displacementX+=aa,V.displacementY+=X):V.propogateDisplacementToChildren(aa,
X)};u.prototype.setPred1=function(aa){this.pred1=aa};u.prototype.getPred1=function(){return pred1};u.prototype.getPred2=function(){return pred2};u.prototype.setNext=function(aa){this.next=aa};u.prototype.getNext=function(){return next};u.prototype.setProcessed=function(aa){this.processed=aa};u.prototype.isProcessed=function(){return processed};f.exports=u},function(f,h,l){function u(){q.call(this);this.toBeTiled={}}var q=l(0).FDLayout,D=l(4),U=l(3),aa=l(5),X=l(2),S=l(1),V=l(0).FDLayoutConstants,F=
l(0).LayoutConstants,t=l(0).Point,w=l(0).PointD,x=l(0).Layout,I=l(0).Integer,R=l(0).IGeometry,B=l(0).LGraph,v=l(0).Transform;u.prototype=Object.create(q.prototype);for(var O in q)u[O]=q[O];u.prototype.newGraphManager=function(){var N=new D(this);return this.graphManager=N};u.prototype.newGraph=function(N){return new U(null,this.graphManager,N)};u.prototype.newNode=function(N){return new aa(this.graphManager,N)};u.prototype.newEdge=function(N){return new X(null,null,N)};u.prototype.initParameters=
function(){q.prototype.initParameters.call(this,arguments);this.isSubLayout||(this.idealEdgeLength=10>S.DEFAULT_EDGE_LENGTH?10:S.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=S.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=V.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=V.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=V.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=V.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=V.DEFAULT_GRAVITY_RANGE_FACTOR,
this.compoundGravityRangeFactor=V.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.afterGrowthIterations=this.growTreeIterations=0,this.isGrowthFinished=this.isTreeGrowing=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/V.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=V.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)};u.prototype.layout=function(){F.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges());this.level=
0;return this.classicLayout()};u.prototype.classicLayout=function(){this.nodesWithGravity=this.calculateNodesToApplyGravitationTo();this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity);this.calcNoOfChildrenForAllNodes();this.graphManager.calcLowestCommonAncestors();this.graphManager.calcInclusionTreeDepths();this.graphManager.getRoot().calcEstimatedSize();this.calcIdealEdgeLengths();if(this.incremental)S.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),
A=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(J){return A.has(J)}),this.graphManager.setAllNodesToApplyGravitation(N));else{var N=this.getFlatForest();if(0<N.length)this.positionNodesRadially(N);else{this.reduceTrees();this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes());N=this.nodesWithGravity.filter(function(J){return A.has(J)});this.graphManager.setAllNodesToApplyGravitation(N);this.positionNodesRandomly()}}this.initSpringEmbedder();this.runSpringEmbedder();
return!0};u.prototype.tick=function(){this.totalIterations++;if(this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(0<this.prunedNodesAll.length)this.isTreeGrowing=!0;else return!0;if(0==this.totalIterations%V.CONVERGENCE_CHECK_PERIOD&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(0<this.prunedNodesAll.length)this.isTreeGrowing=!0;else return!0;this.coolingCycle++;0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&
(this.coolingAdjuster=this.coolingCycle/3);this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature);this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(0==this.growTreeIterations%10)if(0<this.prunedNodesAll.length){this.graphManager.updateBounds();this.updateGrid();this.growTree(this.prunedNodesAll);
this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(T){return N.has(T)});this.graphManager.setAllNodesToApplyGravitation(A);this.graphManager.updateBounds();this.updateGrid();this.coolingFactor=V.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;0==this.afterGrowthIterations%10&&(this.graphManager.updateBounds(),
this.updateGrid());this.coolingFactor=(100-this.afterGrowthIterations)/100*V.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.afterGrowthIterations++}A=!this.isTreeGrowing&&!this.isGrowthFinished;var J=1==this.growTreeIterations%10&&this.isTreeGrowing||1==this.afterGrowthIterations%10&&this.isGrowthFinished;this.totalDisplacement=0;this.graphManager.updateBounds();this.calcSpringForces();this.calcRepulsionForces(A,J);this.calcGravitationalForces();this.moveNodes();this.animate();return!1};u.prototype.getPositionsData=
function(){for(var N=this.graphManager.getAllNodes(),A={},J=0;J<N.length;J++){var T=N[J].rect,z=N[J].id;A[z]={id:z,x:T.getCenterX(),y:T.getCenterY(),w:T.width,h:T.height}}return A};u.prototype.runSpringEmbedder=function(){this.animationPeriod=this.initialAnimationPeriod=25;var N=!1;if("during"===V.ANIMATE)this.emit("layoutstarted");else{for(;!N;)N=this.tick();this.graphManager.updateBounds()}};u.prototype.calculateNodesToApplyGravitationTo=function(){var N=[],A=this.graphManager.getGraphs(),J=A.length,
T;for(T=0;T<J;T++){var z=A[T];z.updateConnected();z.isConnected||(N=N.concat(z.getNodes()))}return N};u.prototype.createBendpoints=function(){var N=[];N=N.concat(this.graphManager.getAllEdges());var A=new Set,J;for(J=0;J<N.length;J++){var T=N[J];if(!A.has(T)){var z=T.getSource(),ba=T.getTarget();if(z==ba)T.getBendpoints().push(new w),T.getBendpoints().push(new w),this.createDummyNodesForBendpoints(T),A.add(T);else if(T=[],T=T.concat(z.getEdgeListToNode(ba)),T=T.concat(ba.getEdgeListToNode(z)),!A.has(T[0])){if(1<
T.length)for(z=0;z<T.length;z++)ba=T[z],ba.getBendpoints().push(new w),this.createDummyNodesForBendpoints(ba);T.forEach(function(K){A.add(K)})}}if(A.size==N.length)break}};u.prototype.positionNodesRadially=function(N){for(var A=new t(0,0),J=Math.ceil(Math.sqrt(N.length)),T=0,z=0,ba=0,K=new w(0,0),r=0;r<N.length;r++){0==r%J&&(ba=0,z=T,0!=r&&(z+=S.DEFAULT_COMPONENT_SEPERATION),T=0);K=N[r];var Y=x.findCenterOfTree(K);A.x=ba;A.y=z;K=u.radialLayout(K,Y,A);K.y>T&&(T=Math.floor(K.y));ba=Math.floor(K.x+S.DEFAULT_COMPONENT_SEPERATION)}this.transform(new w(F.WORLD_CENTER_X-
K.x/2,F.WORLD_CENTER_Y-K.y/2))};u.radialLayout=function(N,A,J){var T=Math.max(this.maxDiagonalInTree(N),S.DEFAULT_RADIAL_SEPARATION);u.branchRadialLayout(A,null,0,359,0,T);T=B.calculateBounds(N);A=new v;A.setDeviceOrgX(T.getMinX());A.setDeviceOrgY(T.getMinY());A.setWorldOrgX(J.x);A.setWorldOrgY(J.y);for(J=0;J<N.length;J++)N[J].transform(A);N=new w(T.getMaxX(),T.getMaxY());return A.inverseTransformPoint(N)};u.branchRadialLayout=function(N,A,J,T,z,ba){var K=(T-J+1)/2;0>K&&(K+=180);K=(K+J)%360*R.TWO_PI/
360;N.setCenter(z*Math.cos(K),z*Math.sin(K));K=[];K=K.concat(N.getEdges());var r=K.length;null!=A&&r--;var Y=0,Z=K.length,E;for(E=N.getEdgesBetween(A);1<E.length;){var C=E[0];E.splice(0,1);C=K.indexOf(C);0<=C&&K.splice(C,1);Z--;r--}E=null!=A?(K.indexOf(E[0])+1)%Z:0;for(T=Math.abs(T-J)/r;Y!=r;E=++E%Z)if(C=K[E].getOtherEnd(N),C!=A){var W=(J+Y*T)%360;u.branchRadialLayout(C,N,W,(W+T)%360,z+ba,ba);Y++}};u.maxDiagonalInTree=function(N){for(var A=I.MIN_VALUE,J=0;J<N.length;J++){var T=N[J].getDiagonal();
T>A&&(A=T)}return A};u.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength};u.prototype.groupZeroDegreeMembers=function(){var N=this,A={};this.memberGroups={};this.idToDummyNode={};for(var J=[],T=this.graphManager.getAllNodes(),z=0;z<T.length;z++){var ba=T[z],K=ba.getParent();0!==this.getNodeDegreeWithChildren(ba)||void 0!=K.id&&this.getToBeTiled(K)||J.push(ba)}for(z=0;z<J.length;z++)ba=J[z],T=ba.getParent().id,"undefined"===typeof A[T]&&(A[T]=[]),A[T]=A[T].concat(ba);
Object.keys(A).forEach(function(r){if(1<A[r].length){var Y="DummyCompound_"+r;N.memberGroups[Y]=A[r];var Z=A[r][0].getParent(),E=new aa(N.graphManager);E.id=Y;E.paddingLeft=Z.paddingLeft||0;E.paddingRight=Z.paddingRight||0;E.paddingBottom=Z.paddingBottom||0;E.paddingTop=Z.paddingTop||0;N.idToDummyNode[Y]=E;Y=N.getGraphManager().add(N.newGraph(),E);Z=Z.getChild();Z.add(E);for(E=0;E<A[r].length;E++){var C=A[r][E];Z.remove(C);Y.add(C)}}})};u.prototype.clearCompounds=function(){var N={},A={};this.performDFSOnCompounds();
for(var J=0;J<this.compoundOrder.length;J++)A[this.compoundOrder[J].id]=this.compoundOrder[J],N[this.compoundOrder[J].id]=[].concat(this.compoundOrder[J].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[J].getChild()),this.compoundOrder[J].child=null;this.graphManager.resetAllNodes();this.tileCompoundMembers(N,A)};u.prototype.clearZeroDegreeMembers=function(){var N=this,A=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(J){var T=N.idToDummyNode[J];A[J]=
N.tileNodes(N.memberGroups[J],T.paddingLeft+T.paddingRight);T.rect.width=A[J].width;T.rect.height=A[J].height})};u.prototype.repopulateCompounds=function(){for(var N=this.compoundOrder.length-1;0<=N;N--){var A=this.compoundOrder[N];this.adjustLocations(this.tiledMemberPack[A.id],A.rect.x,A.rect.y,A.paddingLeft,A.paddingTop)}};u.prototype.repopulateZeroDegreeMembers=function(){var N=this,A=this.tiledZeroDegreePack;Object.keys(A).forEach(function(J){var T=N.idToDummyNode[J];N.adjustLocations(A[J],T.rect.x,
T.rect.y,T.paddingLeft,T.paddingTop)})};u.prototype.getToBeTiled=function(N){var A=N.id;if(null!=this.toBeTiled[A])return this.toBeTiled[A];N=N.getChild();if(null==N)return this.toBeTiled[A]=!1;N=N.getNodes();for(var J=0;J<N.length;J++){var T=N[J];if(0<this.getNodeDegree(T))return this.toBeTiled[A]=!1;if(null==T.getChild())this.toBeTiled[T.id]=!1;else if(!this.getToBeTiled(T))return this.toBeTiled[A]=!1}return this.toBeTiled[A]=!0};u.prototype.getNodeDegree=function(N){N=N.getEdges();for(var A=0,
J=0;J<N.length;J++){var T=N[J];T.getSource().id!==T.getTarget().id&&(A+=1)}return A};u.prototype.getNodeDegreeWithChildren=function(N){var A=this.getNodeDegree(N);if(null==N.getChild())return A;N=N.getChild().getNodes();for(var J=0;J<N.length;J++)A+=this.getNodeDegreeWithChildren(N[J]);return A};u.prototype.performDFSOnCompounds=function(){this.compoundOrder=[];this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())};u.prototype.fillCompexOrderByDFS=function(N){for(var A=0;A<N.length;A++){var J=
N[A];null!=J.getChild()&&this.fillCompexOrderByDFS(J.getChild().getNodes());this.getToBeTiled(J)&&this.compoundOrder.push(J)}};u.prototype.adjustLocations=function(N,A,J,T,z){J+=z;T=A+T;for(z=0;z<N.rows.length;z++){var ba=N.rows[z];A=T;for(var K=0,r=0;r<ba.length;r++){var Y=ba[r];Y.rect.x=A;Y.rect.y=J;A+=Y.rect.width+N.horizontalPadding;Y.rect.height>K&&(K=Y.rect.height)}J+=K+N.verticalPadding}};u.prototype.tileCompoundMembers=function(N,A){var J=this;this.tiledMemberPack=[];Object.keys(N).forEach(function(T){var z=
A[T];J.tiledMemberPack[T]=J.tileNodes(N[T],z.paddingLeft+z.paddingRight);z.rect.width=J.tiledMemberPack[T].width;z.rect.height=J.tiledMemberPack[T].height})};u.prototype.tileNodes=function(N,A){var J={rows:[],rowWidth:[],rowHeight:[],width:0,height:A,verticalPadding:S.TILING_PADDING_VERTICAL,horizontalPadding:S.TILING_PADDING_HORIZONTAL};N.sort(function(ba,K){return ba.rect.width*ba.rect.height>K.rect.width*K.rect.height?-1:ba.rect.width*ba.rect.height<K.rect.width*K.rect.height?1:0});for(var T=0;T<
N.length;T++){var z=N[T];0==J.rows.length?this.insertNodeToRow(J,z,0,A):this.canAddHorizontal(J,z.rect.width,z.rect.height)?this.insertNodeToRow(J,z,this.getShortestRowIndex(J),A):this.insertNodeToRow(J,z,J.rows.length,A);this.shiftToLastRow(J)}return J};u.prototype.insertNodeToRow=function(N,A,J,T){J==N.rows.length&&(N.rows.push([]),N.rowWidth.push(T),N.rowHeight.push(0));T=N.rowWidth[J]+A.rect.width;0<N.rows[J].length&&(T+=N.horizontalPadding);N.rowWidth[J]=T;N.width<T&&(N.width=T);T=A.rect.height;
0<J&&(T+=N.verticalPadding);var z=0;T>N.rowHeight[J]&&(z=N.rowHeight[J],N.rowHeight[J]=T,z=N.rowHeight[J]-z);N.height+=z;N.rows[J].push(A)};u.prototype.getShortestRowIndex=function(N){for(var A=-1,J=Number.MAX_VALUE,T=0;T<N.rows.length;T++)N.rowWidth[T]<J&&(A=T,J=N.rowWidth[T]);return A};u.prototype.getLongestRowIndex=function(N){for(var A=-1,J=Number.MIN_VALUE,T=0;T<N.rows.length;T++)N.rowWidth[T]>J&&(A=T,J=N.rowWidth[T]);return A};u.prototype.canAddHorizontal=function(N,A,J){var T=this.getShortestRowIndex(N);
if(0>T)return!0;var z=N.rowWidth[T];if(z+N.horizontalPadding+A<=N.width)return!0;var ba=0;N.rowHeight[T]<J&&0<T&&(ba=J+N.verticalPadding-N.rowHeight[T]);T=N.width-z>=A+N.horizontalPadding?(N.height+ba)/(z+A+N.horizontalPadding):(N.height+ba)/N.width;ba=J+N.verticalPadding;N=N.width<A?(N.height+ba)/A:(N.height+ba)/N.width;1>N&&(N=1/N);1>T&&(T=1/T);return T<N};u.prototype.shiftToLastRow=function(N){var A=this.getLongestRowIndex(N),J=N.rowWidth.length-1,T=N.rows[A],z=T[T.length-1],ba=z.width+N.horizontalPadding;
if(N.width-N.rowWidth[J]>ba&&A!=J){T.splice(-1,1);N.rows[J].push(z);N.rowWidth[A]-=ba;N.rowWidth[J]+=ba;N.width=N.rowWidth[instance.getLongestRowIndex(N)];ba=Number.MIN_VALUE;for(var K=0;K<T.length;K++)T[K].height>ba&&(ba=T[K].height);0<A&&(ba+=N.verticalPadding);T=N.rowHeight[A]+N.rowHeight[J];N.rowHeight[A]=ba;N.rowHeight[J]<z.height+N.verticalPadding&&(N.rowHeight[J]=z.height+N.verticalPadding);N.height+=N.rowHeight[A]+N.rowHeight[J]-T;this.shiftToLastRow(N)}};u.prototype.tilingPreLayout=function(){S.TILE&&
(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())};u.prototype.tilingPostLayout=function(){S.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())};u.prototype.reduceTrees=function(){for(var N=[],A=!0,J;A;){var T=this.graphManager.getAllNodes(),z=[];A=!1;for(var ba=0;ba<T.length;ba++)J=T[ba],1!=J.getEdges().length||J.getEdges()[0].isInterGraph||null!=J.getChild()||(z.push([J,J.getEdges()[0],J.getOwner()]),A=!0);if(1==A){J=[];for(T=0;T<z.length;T++)1==
z[T][0].getEdges().length&&(J.push(z[T]),z[T][0].getOwner().remove(z[T][0]));N.push(J);this.graphManager.resetAllNodes();this.graphManager.resetAllEdges()}}this.prunedNodesAll=N};u.prototype.growTree=function(N){for(var A=N[N.length-1],J,T=0;T<A.length;T++)J=A[T],this.findPlaceforPrunedNode(J),J[2].add(J[0]),J[2].add(J[1],J[1].source,J[1].target);N.splice(N.length-1,1);this.graphManager.resetAllNodes();this.graphManager.resetAllEdges()};u.prototype.findPlaceforPrunedNode=function(N){var A,J=N[0];
N=J==N[1].source?N[1].target:N[1].source;var T=N.startX,z=N.finishX,ba=N.startY,K=N.finishY,r=[0,0,0,0];if(0<ba)for(var Y=T;Y<=z;Y++)r[0]+=this.grid[Y][ba-1].length+this.grid[Y][ba].length-1;if(z<this.grid.length-1)for(Y=ba;Y<=K;Y++)r[1]+=this.grid[z+1][Y].length+this.grid[z][Y].length-1;if(K<this.grid[0].length-1)for(Y=T;Y<=z;Y++)r[2]+=this.grid[Y][K+1].length+this.grid[Y][K].length-1;if(0<T)for(Y=ba;Y<=K;Y++)r[3]+=this.grid[T-1][Y].length+this.grid[T][Y].length-1;T=I.MAX_VALUE;for(z=0;z<r.length;z++)if(r[z]<
T){T=r[z];var Z=1;var E=z}else r[z]==T&&Z++;3==Z&&0==T?0==r[0]&&0==r[1]&&0==r[2]?A=1:0==r[0]&&0==r[1]&&0==r[3]?A=0:0==r[0]&&0==r[2]&&0==r[3]?A=3:0==r[1]&&0==r[2]&&0==r[3]&&(A=2):2==Z&&0==T?(A=Math.floor(2*Math.random()),A=0==r[0]&&0==r[1]?0==A?0:1:0==r[0]&&0==r[2]?0==A?0:2:0==r[0]&&0==r[3]?0==A?0:3:0==r[1]&&0==r[2]?0==A?1:2:0==r[1]&&0==r[3]?0==A?1:3:0==A?2:3):A=4==Z&&0==T?Math.floor(4*Math.random()):E;0==A?J.setCenter(N.getCenterX(),N.getCenterY()-N.getHeight()/2-V.DEFAULT_EDGE_LENGTH-J.getHeight()/
2):1==A?J.setCenter(N.getCenterX()+N.getWidth()/2+V.DEFAULT_EDGE_LENGTH+J.getWidth()/2,N.getCenterY()):2==A?J.setCenter(N.getCenterX(),N.getCenterY()+N.getHeight()/2+V.DEFAULT_EDGE_LENGTH+J.getHeight()/2):J.setCenter(N.getCenterX()-N.getWidth()/2-V.DEFAULT_EDGE_LENGTH-J.getWidth()/2,N.getCenterY())};f.exports=u},function(f,h,l){h={};h.layoutBase=l(0);h.CoSEConstants=l(1);h.CoSEEdge=l(2);h.CoSEGraph=l(3);h.CoSEGraphManager=l(4);h.CoSELayout=l(6);h.CoSENode=l(5);f.exports=h}])})};
shadow$provide[154]=function(Pa,da,gb,oa){(function(k,f){"object"===typeof oa&&"object"===typeof gb?gb.exports=f(da(153)):"function"===typeof define&&define.amd?define(["cose-base"],f):"object"===typeof oa?oa.cytoscapeCoseBilkent=f(da(153)):k.cytoscapeCoseBilkent=f(k.coseBase)})(this,function(k){return function(f){function h(u){if(l[u])return l[u].exports;var q=l[u]={i:u,l:!1,exports:{}};f[u].call(q.exports,q,q.exports,h);q.l=!0;return q.exports}var l={};h.m=f;h.c=l;h.i=function(u){return u};h.d=
function(u,q,D){h.o(u,q)||Object.defineProperty(u,q,{configurable:!1,enumerable:!0,get:D})};h.n=function(u){var q=u&&u.__esModule?function(){return u["default"]}:function(){return u};h.d(q,"a",q);return q};h.o=function(u,q){return Object.prototype.hasOwnProperty.call(u,q)};h.p="";return h(h.s=1)}([function(f,h){f.exports=k},function(f,h,l){function u(t){var w=F,x={},I;for(I in w)x[I]=w[I];for(I in t)x[I]=t[I];t=this.options=x;null!=t.nodeRepulsion&&(U.DEFAULT_REPULSION_STRENGTH=D.DEFAULT_REPULSION_STRENGTH=
t.nodeRepulsion);null!=t.idealEdgeLength&&(U.DEFAULT_EDGE_LENGTH=D.DEFAULT_EDGE_LENGTH=t.idealEdgeLength);null!=t.edgeElasticity&&(U.DEFAULT_SPRING_STRENGTH=D.DEFAULT_SPRING_STRENGTH=t.edgeElasticity);null!=t.nestingFactor&&(U.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=D.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor);null!=t.gravity&&(U.DEFAULT_GRAVITY_STRENGTH=D.DEFAULT_GRAVITY_STRENGTH=t.gravity);null!=t.numIter&&(U.MAX_ITERATIONS=D.MAX_ITERATIONS=t.numIter);null!=t.gravityRange&&(U.DEFAULT_GRAVITY_RANGE_FACTOR=
D.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange);null!=t.gravityCompound&&(U.DEFAULT_COMPOUND_GRAVITY_STRENGTH=D.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound);null!=t.gravityRangeCompound&&(U.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=D.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound);null!=t.initialEnergyOnIncremental&&(U.DEFAULT_COOLING_FACTOR_INCREMENTAL=D.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental);q.QUALITY="draft"==t.quality?0:"proof"==t.quality?2:1;U.NODE_DIMENSIONS_INCLUDE_LABELS=
D.NODE_DIMENSIONS_INCLUDE_LABELS=q.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels;U.DEFAULT_INCREMENTAL=D.DEFAULT_INCREMENTAL=q.DEFAULT_INCREMENTAL=!t.randomize;U.ANIMATE=D.ANIMATE=q.ANIMATE=t.animate;U.TILE=t.tile;U.TILING_PADDING_VERTICAL="function"===typeof t.tilingPaddingVertical?t.tilingPaddingVertical.call():t.tilingPaddingVertical;U.TILING_PADDING_HORIZONTAL="function"===typeof t.tilingPaddingHorizontal?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal}var q=l(0).layoutBase.LayoutConstants,
D=l(0).layoutBase.FDLayoutConstants,U=l(0).CoSEConstants,aa=l(0).CoSELayout,X=l(0).CoSENode,S=l(0).layoutBase.PointD,V=l(0).layoutBase.DimensionD,F={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,
gravityRange:3.8,initialEnergyOnIncremental:.5};u.prototype.run=function(){var t,w=this.options;this.idToLNode={};var x=this.layout=new aa,I=this;I.stopped=!1;this.cy=this.options.cy;this.cy.trigger({type:"layoutstart",layout:this});var R=x.newGraphManager();this.gm=R;var B=this.options.eles.nodes(),v=this.options.eles.edges();this.root=R.addRoot();this.processChildrenList(this.root,this.getTopMostNodes(B),x);for(B=0;B<v.length;B++){var O=v[B],N=this.idToLNode[O.data("source")],A=this.idToLNode[O.data("target")];
N!==A&&0==N.getEdgesBetween(A).length&&(R.add(x.newEdge(),N,A).id=O.id())}var J=function(ba,K){"number"===typeof ba&&(ba=K);ba=ba.data("id");ba=I.idToLNode[ba];return{x:ba.getRect().getCenterX(),y:ba.getRect().getCenterY()}},T=function K(){for(var r=function(){w.fit&&w.cy.fit(w.eles,w.padding);z||(z=!0,I.cy.one("layoutready",w.ready),I.cy.trigger({type:"layoutready",layout:I}))},Y=I.options.refresh,Z,E=0;E<Y&&!Z;E++)Z=I.stopped||I.layout.tick();if(Z)x.checkLayoutSuccess()&&!x.isSubLayout&&x.doPostLayout(),
x.tilingPostLayout&&x.tilingPostLayout(),x.isLayoutFinished=!0,I.options.eles.nodes().positions(J),r(),I.cy.one("layoutstop",I.options.stop),I.cy.trigger({type:"layoutstop",layout:I}),t&&cancelAnimationFrame(t),z=!1;else{var C=I.layout.getPositionsData();w.eles.nodes().positions(function(W,fa){"number"===typeof W&&(W=fa);if(!W.isParent()){fa=W.id();for(var ja=C[fa],Ba=W;null==ja&&(ja=C[Ba.data("parent")]||C["DummyCompound_"+Ba.data("parent")],C[fa]=ja,Ba=Ba.parent()[0],void 0!=Ba););return null!=
ja?{x:ja.x,y:ja.y}:{x:W.position("x"),y:W.position("y")}}});r();t=requestAnimationFrame(K)}};x.addListener("layoutstarted",function(){"during"===I.options.animate&&(t=requestAnimationFrame(T))});x.runLayout();if("during"!==this.options.animate){I.options.eles.nodes().not(":parent").layoutPositions(I,I.options,J);var z=!1}return this};u.prototype.getTopMostNodes=function(t){for(var w={},x=0;x<t.length;x++)w[t[x].id()]=!0;return t.filter(function(I,R){"number"===typeof I&&(I=R);for(I=I.parent()[0];null!=
I;){if(w[I.id()])return!1;I=I.parent()[0]}return!0})};u.prototype.processChildrenList=function(t,w,x){for(var I=w.length,R=0;R<I;R++){var B=w[R],v=B.children();var O=B.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});O=null!=B.outerWidth()&&null!=B.outerHeight()?t.add(new X(x.graphManager,new S(B.position("x")-O.w/2,B.position("y")-O.h/2),new V(parseFloat(O.w),parseFloat(O.h)))):t.add(new X(this.graphManager));O.id=B.data("id");O.paddingLeft=parseInt(B.css("padding"));
O.paddingTop=parseInt(B.css("padding"));O.paddingRight=parseInt(B.css("padding"));O.paddingBottom=parseInt(B.css("padding"));if(this.options.nodeDimensionsIncludeLabels&&B.isParent()){var N=B.boundingBox({includeLabels:!0,includeNodes:!1}).w,A=B.boundingBox({includeLabels:!0,includeNodes:!1}).h,J=B.css("text-halign");O.labelWidth=N;O.labelHeight=A;O.labelPos=J}this.idToLNode[B.data("id")]=O;isNaN(O.rect.x)&&(O.rect.x=0);isNaN(O.rect.y)&&(O.rect.y=0);null!=v&&0<v.length&&(B=x.getGraphManager().add(x.newGraph(),
O),this.processChildrenList(B,v,x))}};u.prototype.stop=function(){this.stopped=!0;return this};h=function(t){t("layout","cose-bilkent",u)};"undefined"!==typeof cytoscape&&h(cytoscape);f.exports=h}])})};
shadow$provide[155]=function(Pa,da,gb,oa){gb.exports=function(){this.__data__=[];this.size=0}};
shadow$provide[156]=function(Pa,da,gb,oa){gb.exports=function(k,f){return k===f||k!==k&&f!==f}};
shadow$provide[157]=function(Pa,da,gb,oa){var k=da(156);gb.exports=function(f,h){for(var l=f.length;l--;)if(k(f[l][0],h))return l;return-1}};
shadow$provide[158]=function(Pa,da,gb,oa){var k=da(157),f=Array.prototype.splice;gb.exports=function(h){var l=this.__data__;h=k(l,h);if(0>h)return!1;h==l.length-1?l.pop():f.call(l,h,1);--this.size;return!0}};
shadow$provide[159]=function(Pa,da,gb,oa){var k=da(157);gb.exports=function(f){var h=this.__data__;f=k(h,f);return 0>f?void 0:h[f][1]}};
shadow$provide[160]=function(Pa,da,gb,oa){var k=da(157);gb.exports=function(f){return-1<k(this.__data__,f)}};
shadow$provide[161]=function(Pa,da,gb,oa){var k=da(157);gb.exports=function(f,h){var l=this.__data__,u=k(l,f);0>u?(++this.size,l.push([f,h])):l[u][1]=h;return this}};
shadow$provide[162]=function(Pa,da,gb,oa){function k(l){var u=-1,q=null==l?0:l.length;for(this.clear();++u<q;){var D=l[u];this.set(D[0],D[1])}}Pa=da(155);oa=da(158);var f=da(159),h=da(160);da=da(161);k.prototype.clear=Pa;k.prototype["delete"]=oa;k.prototype.get=f;k.prototype.has=h;k.prototype.set=da;gb.exports=k};
shadow$provide[163]=function(Pa,da,gb,oa){var k=da(162);gb.exports=function(){this.__data__=new k;this.size=0}};
shadow$provide[164]=function(Pa,da,gb,oa){gb.exports=function(k){var f=this.__data__;k=f["delete"](k);this.size=f.size;return k}};
shadow$provide[165]=function(Pa,da,gb,oa){gb.exports=function(k){return this.__data__.get(k)}};
shadow$provide[166]=function(Pa,da,gb,oa){gb.exports=function(k){return this.__data__.has(k)}};
shadow$provide[167]=function(Pa,da,gb,oa){gb.exports="object"==typeof Pa&&Pa&&Pa.Object===Object&&Pa};
shadow$provide[168]=function(Pa,da,gb,oa){Pa=da(167);da="object"==typeof self&&self&&self.Object===Object&&self;Pa=Pa||da||Function("return this")();gb.exports=Pa};
shadow$provide[169]=function(Pa,da,gb,oa){Pa=da(168).Symbol;gb.exports=Pa};
shadow$provide[170]=function(Pa,da,gb,oa){Pa=da(169);da=Object.prototype;var k=da.hasOwnProperty,f=da.toString,h=Pa?Pa.toStringTag:void 0;gb.exports=function(l){var u=k.call(l,h),q=l[h];try{l[h]=void 0;var D=!0}catch(aa){}var U=f.call(l);D&&(u?l[h]=q:delete l[h]);return U}};
shadow$provide[171]=function(Pa,da,gb,oa){var k=Object.prototype.toString;gb.exports=function(f){return k.call(f)}};
shadow$provide[172]=function(Pa,da,gb,oa){Pa=da(169);var k=da(170),f=da(171),h=Pa?Pa.toStringTag:void 0;gb.exports=function(l){return null==l?void 0===l?"[object Undefined]":"[object Null]":h&&h in Object(l)?k(l):f(l)}};
shadow$provide[173]=function(Pa,da,gb,oa){gb.exports=function(k){var f=typeof k;return null!=k&&("object"==f||"function"==f)}};
shadow$provide[174]=function(Pa,da,gb,oa){var k=da(172),f=da(173);gb.exports=function(h){if(!f(h))return!1;h=k(h);return"[object Function]"==h||"[object GeneratorFunction]"==h||"[object AsyncFunction]"==h||"[object Proxy]"==h}};
shadow$provide[175]=function(Pa,da,gb,oa){Pa=da(168)["__core-js_shared__"];gb.exports=Pa};
shadow$provide[176]=function(Pa,da,gb,oa){var k=da(175),f=function(){var h=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}();gb.exports=function(h){return!!f&&f in h}};
shadow$provide[177]=function(Pa,da,gb,oa){var k=Function.prototype.toString;gb.exports=function(f){if(null!=f){try{return k.call(f)}catch(h){}return f+""}return""}};
shadow$provide[178]=function(Pa,da,gb,oa){var k=da(174),f=da(176),h=da(173),l=da(177),u=/^\[object .+?Constructor\]$/,q=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");gb.exports=function(D){return!h(D)||f(D)?!1:(k(D)?q:u).test(l(D))}};
shadow$provide[179]=function(Pa,da,gb,oa){gb.exports=function(k,f){return null==k?void 0:k[f]}};
shadow$provide[180]=function(Pa,da,gb,oa){var k=da(178),f=da(179);gb.exports=function(h,l){h=f(h,l);return k(h)?h:void 0}};
shadow$provide[181]=function(Pa,da,gb,oa){Pa=da(180);da=da(168);da=Pa(da,"Map");gb.exports=da};
shadow$provide[182]=function(Pa,da,gb,oa){Pa=da(180)(Object,"create");gb.exports=Pa};
shadow$provide[183]=function(Pa,da,gb,oa){var k=da(182);gb.exports=function(){this.__data__=k?k(null):{};this.size=0}};
shadow$provide[184]=function(Pa,da,gb,oa){gb.exports=function(k){k=this.has(k)&&delete this.__data__[k];this.size-=k?1:0;return k}};
shadow$provide[185]=function(Pa,da,gb,oa){var k=da(182),f=Object.prototype.hasOwnProperty;gb.exports=function(h){var l=this.__data__;return k?(h=l[h],"__lodash_hash_undefined__"===h?void 0:h):f.call(l,h)?l[h]:void 0}};
shadow$provide[186]=function(Pa,da,gb,oa){var k=da(182),f=Object.prototype.hasOwnProperty;gb.exports=function(h){var l=this.__data__;return k?void 0!==l[h]:f.call(l,h)}};
shadow$provide[187]=function(Pa,da,gb,oa){var k=da(182);gb.exports=function(f,h){var l=this.__data__;this.size+=this.has(f)?0:1;l[f]=k&&void 0===h?"__lodash_hash_undefined__":h;return this}};
shadow$provide[188]=function(Pa,da,gb,oa){function k(l){var u=-1,q=null==l?0:l.length;for(this.clear();++u<q;){var D=l[u];this.set(D[0],D[1])}}Pa=da(183);oa=da(184);var f=da(185),h=da(186);da=da(187);k.prototype.clear=Pa;k.prototype["delete"]=oa;k.prototype.get=f;k.prototype.has=h;k.prototype.set=da;gb.exports=k};
shadow$provide[189]=function(Pa,da,gb,oa){var k=da(188),f=da(162),h=da(181);gb.exports=function(){this.size=0;this.__data__={hash:new k,map:new (h||f),string:new k}}};
shadow$provide[190]=function(Pa,da,gb,oa){gb.exports=function(k){var f=typeof k;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==k:null===k}};
shadow$provide[191]=function(Pa,da,gb,oa){var k=da(190);gb.exports=function(f,h){f=f.__data__;return k(h)?f["string"==typeof h?"string":"hash"]:f.map}};
shadow$provide[192]=function(Pa,da,gb,oa){var k=da(191);gb.exports=function(f){f=k(this,f)["delete"](f);this.size-=f?1:0;return f}};
shadow$provide[193]=function(Pa,da,gb,oa){var k=da(191);gb.exports=function(f){return k(this,f).get(f)}};
shadow$provide[194]=function(Pa,da,gb,oa){var k=da(191);gb.exports=function(f){return k(this,f).has(f)}};
shadow$provide[195]=function(Pa,da,gb,oa){var k=da(191);gb.exports=function(f,h){var l=k(this,f),u=l.size;l.set(f,h);this.size+=l.size==u?0:1;return this}};
shadow$provide[196]=function(Pa,da,gb,oa){function k(l){var u=-1,q=null==l?0:l.length;for(this.clear();++u<q;){var D=l[u];this.set(D[0],D[1])}}Pa=da(189);oa=da(192);var f=da(193),h=da(194);da=da(195);k.prototype.clear=Pa;k.prototype["delete"]=oa;k.prototype.get=f;k.prototype.has=h;k.prototype.set=da;gb.exports=k};
shadow$provide[197]=function(Pa,da,gb,oa){var k=da(162),f=da(181),h=da(196);gb.exports=function(l,u){var q=this.__data__;if(q instanceof k){var D=q.__data__;if(!f||199>D.length)return D.push([l,u]),this.size=++q.size,this;q=this.__data__=new h(D)}q.set(l,u);this.size=q.size;return this}};
shadow$provide[198]=function(Pa,da,gb,oa){function k(u){this.size=(this.__data__=new f(u)).size}var f=da(162);Pa=da(163);oa=da(164);var h=da(165),l=da(166);da=da(197);k.prototype.clear=Pa;k.prototype["delete"]=oa;k.prototype.get=h;k.prototype.has=l;k.prototype.set=da;gb.exports=k};
shadow$provide[199]=function(Pa,da,gb,oa){gb.exports=function(k,f){for(var h=-1,l=null==k?0:k.length;++h<l&&!1!==f(k[h],h,k););return k}};
shadow$provide[200]=function(Pa,da,gb,oa){Pa=da(180);a:{try{var k=Pa(Object,"defineProperty");k({},"",{});var f=k;break a}catch(h){}f=void 0}gb.exports=f};
shadow$provide[201]=function(Pa,da,gb,oa){var k=da(200);gb.exports=function(f,h,l){"__proto__"==h&&k?k(f,h,{configurable:!0,enumerable:!0,value:l,writable:!0}):f[h]=l}};
shadow$provide[202]=function(Pa,da,gb,oa){var k=da(201),f=da(156),h=Object.prototype.hasOwnProperty;gb.exports=function(l,u,q){var D=l[u];h.call(l,u)&&f(D,q)&&(void 0!==q||u in l)||k(l,u,q)}};
shadow$provide[203]=function(Pa,da,gb,oa){var k=da(202),f=da(201);gb.exports=function(h,l,u,q){var D=!u;u||(u={});for(var U=-1,aa=l.length;++U<aa;){var X=l[U],S=q?q(u[X],h[X],X,u,h):void 0;void 0===S&&(S=h[X]);D?f(u,X,S):k(u,X,S)}return u}};
shadow$provide[204]=function(Pa,da,gb,oa){gb.exports=function(k,f){for(var h=-1,l=Array(k);++h<k;)l[h]=f(h);return l}};
shadow$provide[205]=function(Pa,da,gb,oa){gb.exports=function(k){return null!=k&&"object"==typeof k}};
shadow$provide[206]=function(Pa,da,gb,oa){var k=da(172),f=da(205);gb.exports=function(h){return f(h)&&"[object Arguments]"==k(h)}};
shadow$provide[207]=function(Pa,da,gb,oa){Pa=da(206);var k=da(205);da=Object.prototype;var f=da.hasOwnProperty,h=da.propertyIsEnumerable;da=Pa(function(){return arguments}())?Pa:function(l){return k(l)&&f.call(l,"callee")&&!h.call(l,"callee")};gb.exports=da};
shadow$provide[208]=function(Pa,da,gb,oa){gb.exports=Array.isArray};
shadow$provide[209]=function(Pa,da,gb,oa){gb.exports=function(){return!1}};
shadow$provide[210]=function(Pa,da,gb,oa){Pa=da(168);da=da(209);var k=(oa="object"==typeof oa&&oa&&!oa.nodeType&&oa)&&"object"==typeof gb&&gb&&!gb.nodeType&&gb;Pa=k&&k.exports===oa?Pa.Buffer:void 0;gb.exports=(Pa?Pa.isBuffer:void 0)||da};
shadow$provide[211]=function(Pa,da,gb,oa){var k=/^(?:0|[1-9]\d*)$/;gb.exports=function(f,h){var l=typeof f;h=null==h?9007199254740991:h;return!!h&&("number"==l||"symbol"!=l&&k.test(f))&&-1<f&&0==f%1&&f<h}};
shadow$provide[212]=function(Pa,da,gb,oa){gb.exports=function(k){return"number"==typeof k&&-1<k&&0==k%1&&9007199254740991>=k}};
shadow$provide[213]=function(Pa,da,gb,oa){var k=da(172),f=da(212),h=da(205),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0;l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=
l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;gb.exports=function(u){return h(u)&&f(u.length)&&!!l[k(u)]}};
shadow$provide[214]=function(Pa,da,gb,oa){gb.exports=function(k){return function(f){return k(f)}}};
shadow$provide[215]=function(Pa,da,gb,oa){Pa=da(167);Pa=(oa=(da="object"==typeof oa&&oa&&!oa.nodeType&&oa)&&"object"==typeof gb&&gb&&!gb.nodeType&&gb)&&oa.exports===da&&Pa.process;a:{try{var k=oa&&oa.require&&oa.require("util").types;if(k){var f=k;break a}f=Pa&&Pa.binding&&Pa.binding("util");break a}catch(h){}f=void 0}gb.exports=f};
shadow$provide[216]=function(Pa,da,gb,oa){Pa=da(213);oa=da(214);da=(da=(da=da(215))&&da.isTypedArray)?oa(da):Pa;gb.exports=da};
shadow$provide[217]=function(Pa,da,gb,oa){var k=da(204),f=da(207),h=da(208),l=da(210),u=da(211),q=da(216),D=Object.prototype.hasOwnProperty;gb.exports=function(U,aa){var X=h(U),S=!X&&f(U),V=!X&&!S&&l(U),F=!X&&!S&&!V&&q(U);S=(X=X||S||V||F)?k(U.length,String):[];var t=S.length,w;for(w in U)!aa&&!D.call(U,w)||X&&("length"==w||V&&("offset"==w||"parent"==w)||F&&("buffer"==w||"byteLength"==w||"byteOffset"==w)||u(w,t))||S.push(w);return S}};
shadow$provide[218]=function(Pa,da,gb,oa){var k=Object.prototype;gb.exports=function(f){var h=f&&f.constructor;return f===("function"==typeof h&&h.prototype||k)}};
shadow$provide[219]=function(Pa,da,gb,oa){gb.exports=function(k,f){return function(h){return k(f(h))}}};
shadow$provide[220]=function(Pa,da,gb,oa){Pa=da(219)(Object.keys,Object);gb.exports=Pa};
shadow$provide[221]=function(Pa,da,gb,oa){var k=da(218),f=da(220),h=Object.prototype.hasOwnProperty;gb.exports=function(l){if(!k(l))return f(l);var u=[],q;for(q in Object(l))h.call(l,q)&&"constructor"!=q&&u.push(q);return u}};
shadow$provide[222]=function(Pa,da,gb,oa){var k=da(174),f=da(212);gb.exports=function(h){return null!=h&&f(h.length)&&!k(h)}};
shadow$provide[223]=function(Pa,da,gb,oa){var k=da(217),f=da(221),h=da(222);gb.exports=function(l){return h(l)?k(l):f(l)}};
shadow$provide[224]=function(Pa,da,gb,oa){var k=da(203),f=da(223);gb.exports=function(h,l){return h&&k(l,f(l),h)}};
shadow$provide[225]=function(Pa,da,gb,oa){gb.exports=function(k){var f=[];if(null!=k)for(var h in Object(k))f.push(h);return f}};
shadow$provide[226]=function(Pa,da,gb,oa){var k=da(173),f=da(218),h=da(225),l=Object.prototype.hasOwnProperty;gb.exports=function(u){if(!k(u))return h(u);var q=f(u),D=[],U;for(U in u)("constructor"!=U||!q&&l.call(u,U))&&D.push(U);return D}};
shadow$provide[227]=function(Pa,da,gb,oa){var k=da(217),f=da(226),h=da(222);gb.exports=function(l){return h(l)?k(l,!0):f(l)}};
shadow$provide[228]=function(Pa,da,gb,oa){var k=da(203),f=da(227);gb.exports=function(h,l){return h&&k(l,f(l),h)}};
shadow$provide[229]=function(Pa,da,gb,oa){Pa=da(168);var k=(oa=(da=(oa="object"==typeof oa&&oa&&!oa.nodeType&&oa)&&"object"==typeof gb&&gb&&!gb.nodeType&&gb)&&da.exports===oa?Pa.Buffer:void 0)?oa.allocUnsafe:void 0;gb.exports=function(f,h){if(h)return f.slice();h=f.length;h=k?k(h):new f.constructor(h);f.copy(h);return h}};
shadow$provide[230]=function(Pa,da,gb,oa){gb.exports=function(k,f){var h=-1,l=k.length;for(f||(f=Array(l));++h<l;)f[h]=k[h];return f}};
shadow$provide[231]=function(Pa,da,gb,oa){gb.exports=function(k,f){for(var h=-1,l=null==k?0:k.length,u=0,q=[];++h<l;){var D=k[h];f(D,h,k)&&(q[u++]=D)}return q}};
shadow$provide[232]=function(Pa,da,gb,oa){gb.exports=function(){return[]}};
shadow$provide[233]=function(Pa,da,gb,oa){var k=da(231);Pa=da(232);var f=Object.prototype.propertyIsEnumerable,h=Object.getOwnPropertySymbols;gb.exports=h?function(l){if(null==l)return[];l=Object(l);return k(h(l),function(u){return f.call(l,u)})}:Pa};
shadow$provide[234]=function(Pa,da,gb,oa){var k=da(203),f=da(233);gb.exports=function(h,l){return k(h,f(h),l)}};
shadow$provide[235]=function(Pa,da,gb,oa){gb.exports=function(k,f){for(var h=-1,l=f.length,u=k.length;++h<l;)k[u+h]=f[h];return k}};
shadow$provide[236]=function(Pa,da,gb,oa){Pa=da(219)(Object.getPrototypeOf,Object);gb.exports=Pa};
shadow$provide[237]=function(Pa,da,gb,oa){var k=da(235),f=da(236),h=da(233);Pa=da(232);gb.exports=Object.getOwnPropertySymbols?function(l){for(var u=[];l;)k(u,h(l)),l=f(l);return u}:Pa};
shadow$provide[238]=function(Pa,da,gb,oa){var k=da(203),f=da(237);gb.exports=function(h,l){return k(h,f(h),l)}};
shadow$provide[239]=function(Pa,da,gb,oa){var k=da(235),f=da(208);gb.exports=function(h,l,u){l=l(h);return f(h)?l:k(l,u(h))}};
shadow$provide[240]=function(Pa,da,gb,oa){var k=da(239),f=da(233),h=da(223);gb.exports=function(l){return k(l,h,f)}};
shadow$provide[241]=function(Pa,da,gb,oa){var k=da(239),f=da(237),h=da(227);gb.exports=function(l){return k(l,h,f)}};
shadow$provide[242]=function(Pa,da,gb,oa){Pa=da(180);da=da(168);da=Pa(da,"DataView");gb.exports=da};
shadow$provide[243]=function(Pa,da,gb,oa){Pa=da(180);da=da(168);da=Pa(da,"Promise");gb.exports=da};
shadow$provide[244]=function(Pa,da,gb,oa){Pa=da(180);da=da(168);da=Pa(da,"Set");gb.exports=da};
shadow$provide[245]=function(Pa,da,gb,oa){Pa=da(180);da=da(168);da=Pa(da,"WeakMap");gb.exports=da};
shadow$provide[246]=function(Pa,da,gb,oa){Pa=da(242);oa=da(181);var k=da(243),f=da(244),h=da(245),l=da(172),u=da(177),q=u(Pa),D=u(oa),U=u(k),aa=u(f),X=u(h);da=l;if(Pa&&"[object DataView]"!=da(new Pa(new ArrayBuffer(1)))||oa&&"[object Map]"!=da(new oa)||k&&"[object Promise]"!=da(k.resolve())||f&&"[object Set]"!=da(new f)||h&&"[object WeakMap]"!=da(new h))da=function(S){var V=l(S);if(S=(S="[object Object]"==V?S.constructor:void 0)?u(S):"")switch(S){case q:return"[object DataView]";case D:return"[object Map]";
case U:return"[object Promise]";case aa:return"[object Set]";case X:return"[object WeakMap]"}return V};gb.exports=da};
shadow$provide[247]=function(Pa,da,gb,oa){var k=Object.prototype.hasOwnProperty;gb.exports=function(f){var h=f.length,l=new f.constructor(h);h&&"string"==typeof f[0]&&k.call(f,"index")&&(l.index=f.index,l.input=f.input);return l}};
shadow$provide[248]=function(Pa,da,gb,oa){Pa=da(168).Uint8Array;gb.exports=Pa};
shadow$provide[249]=function(Pa,da,gb,oa){var k=da(248);gb.exports=function(f){var h=new f.constructor(f.byteLength);(new k(h)).set(new k(f));return h}};
shadow$provide[250]=function(Pa,da,gb,oa){var k=da(249);gb.exports=function(f,h){h=h?k(f.buffer):f.buffer;return new f.constructor(h,f.byteOffset,f.byteLength)}};
shadow$provide[251]=function(Pa,da,gb,oa){var k=/\w*$/;gb.exports=function(f){var h=new f.constructor(f.source,k.exec(f));h.lastIndex=f.lastIndex;return h}};
shadow$provide[252]=function(Pa,da,gb,oa){var k=(Pa=(Pa=da(169))?Pa.prototype:void 0)?Pa.valueOf:void 0;gb.exports=function(f){return k?Object(k.call(f)):{}}};
shadow$provide[253]=function(Pa,da,gb,oa){var k=da(249);gb.exports=function(f,h){h=h?k(f.buffer):f.buffer;return new f.constructor(h,f.byteOffset,f.length)}};
shadow$provide[254]=function(Pa,da,gb,oa){var k=da(249),f=da(250),h=da(251),l=da(252),u=da(253);gb.exports=function(q,D,U){var aa=q.constructor;switch(D){case "[object ArrayBuffer]":return k(q);case "[object Boolean]":case "[object Date]":return new aa(+q);case "[object DataView]":return f(q,U);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return u(q,
U);case "[object Map]":return new aa;case "[object Number]":case "[object String]":return new aa(q);case "[object RegExp]":return h(q);case "[object Set]":return new aa;case "[object Symbol]":return l(q)}}};
shadow$provide[255]=function(Pa,da,gb,oa){var k=da(173),f=Object.create;Pa=function(){function h(){}return function(l){if(!k(l))return{};if(f)return f(l);h.prototype=l;l=new h;h.prototype=void 0;return l}}();gb.exports=Pa};
shadow$provide[256]=function(Pa,da,gb,oa){var k=da(255),f=da(236),h=da(218);gb.exports=function(l){return"function"!=typeof l.constructor||h(l)?{}:k(f(l))}};
shadow$provide[257]=function(Pa,da,gb,oa){var k=da(246),f=da(205);gb.exports=function(h){return f(h)&&"[object Map]"==k(h)}};
shadow$provide[258]=function(Pa,da,gb,oa){Pa=da(257);oa=da(214);da=(da=(da=da(215))&&da.isMap)?oa(da):Pa;gb.exports=da};
shadow$provide[259]=function(Pa,da,gb,oa){var k=da(246),f=da(205);gb.exports=function(h){return f(h)&&"[object Set]"==k(h)}};
shadow$provide[260]=function(Pa,da,gb,oa){Pa=da(259);oa=da(214);da=(da=(da=da(215))&&da.isSet)?oa(da):Pa;gb.exports=da};
shadow$provide[261]=function(Pa,da,gb,oa){function k(T,z,ba,K,r,Y){var Z,E=z&1,C=z&2,W=z&4;ba&&(Z=r?ba(T,K,r,Y):ba(T));if(void 0!==Z)return Z;if(!v(T))return T;if(K=I(T)){if(Z=t(T),!E)return U(T,Z)}else{var fa=F(T),ja="[object Function]"==fa||"[object GeneratorFunction]"==fa;if(R(T))return D(T,E);if("[object Object]"==fa||"[object Arguments]"==fa||ja&&!r){if(Z=C||ja?{}:x(T),!E)return C?X(T,q(Z,T)):aa(T,u(Z,T))}else{if(!J[fa])return r?T:{};Z=w(T,fa,E)}}Y||(Y=new f);if(r=Y.get(T))return r;Y.set(T,Z);
O(T)?T.forEach(function(Ga){Z.add(k(Ga,z,ba,Ga,T,Y))}):B(T)&&T.forEach(function(Ga,ua){Z.set(ua,k(Ga,z,ba,ua,T,Y))});C=W?C?V:S:C?A:N;var Ba=K?void 0:C(T);h(Ba||T,function(Ga,ua){Ba&&(ua=Ga,Ga=T[ua]);l(Z,ua,k(Ga,z,ba,ua,T,Y))});return Z}var f=da(198),h=da(199),l=da(202),u=da(224),q=da(228),D=da(229),U=da(230),aa=da(234),X=da(238),S=da(240),V=da(241),F=da(246),t=da(247),w=da(254),x=da(256),I=da(208),R=da(210),B=da(258),v=da(173),O=da(260),N=da(223),A=da(227),J={};J["[object Arguments]"]=J["[object Array]"]=
J["[object ArrayBuffer]"]=J["[object DataView]"]=J["[object Boolean]"]=J["[object Date]"]=J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Map]"]=J["[object Number]"]=J["[object Object]"]=J["[object RegExp]"]=J["[object Set]"]=J["[object String]"]=J["[object Symbol]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0;J["[object Error]"]=J["[object Function]"]=
J["[object WeakMap]"]=!1;gb.exports=k};
shadow$provide[262]=function(Pa,da,gb,oa){var k=da(261);gb.exports=function(f){return k(f,4)}};
shadow$provide[263]=function(Pa,da,gb,oa){gb.exports=function(k){return function(){return k}}};
shadow$provide[264]=function(Pa,da,gb,oa){gb.exports=function(k){return function(f,h,l){var u=-1,q=Object(f);l=l(f);for(var D=l.length;D--;){var U=l[k?D:++u];if(!1===h(q[U],U,q))break}return f}}};
shadow$provide[265]=function(Pa,da,gb,oa){Pa=da(264)();gb.exports=Pa};
shadow$provide[266]=function(Pa,da,gb,oa){var k=da(265),f=da(223);gb.exports=function(h,l){return h&&k(h,l,f)}};
shadow$provide[267]=function(Pa,da,gb,oa){var k=da(222);gb.exports=function(f,h){return function(l,u){if(null==l)return l;if(!k(l))return f(l,u);for(var q=l.length,D=h?q:-1,U=Object(l);(h?D--:++D<q)&&!1!==u(U[D],D,U););return l}}};
shadow$provide[268]=function(Pa,da,gb,oa){Pa=da(266);da=da(267)(Pa);gb.exports=da};
shadow$provide[269]=function(Pa,da,gb,oa){gb.exports=function(k){return k}};
shadow$provide[270]=function(Pa,da,gb,oa){var k=da(269);gb.exports=function(f){return"function"==typeof f?f:k}};
shadow$provide[271]=function(Pa,da,gb,oa){var k=da(199),f=da(268),h=da(270),l=da(208);gb.exports=function(u,q){return(l(u)?k:f)(u,h(q))}};
shadow$provide[272]=function(Pa,da,gb,oa){gb.exports=da(271)};
shadow$provide[273]=function(Pa,da,gb,oa){var k=da(268);gb.exports=function(f,h){var l=[];k(f,function(u,q,D){h(u,q,D)&&l.push(u)});return l}};
shadow$provide[274]=function(Pa,da,gb,oa){gb.exports=function(k){this.__data__.set(k,"__lodash_hash_undefined__");return this}};
shadow$provide[275]=function(Pa,da,gb,oa){gb.exports=function(k){return this.__data__.has(k)}};
shadow$provide[276]=function(Pa,da,gb,oa){function k(h){var l=-1,u=null==h?0:h.length;for(this.__data__=new f;++l<u;)this.add(h[l])}var f=da(196);Pa=da(274);da=da(275);k.prototype.add=k.prototype.push=Pa;k.prototype.has=da;gb.exports=k};
shadow$provide[277]=function(Pa,da,gb,oa){gb.exports=function(k,f){for(var h=-1,l=null==k?0:k.length;++h<l;)if(f(k[h],h,k))return!0;return!1}};
shadow$provide[278]=function(Pa,da,gb,oa){gb.exports=function(k,f){return k.has(f)}};
shadow$provide[279]=function(Pa,da,gb,oa){var k=da(276),f=da(277),h=da(278);gb.exports=function(l,u,q,D,U,aa){var X=q&1,S=l.length,V=u.length;if(S!=V&&!(X&&V>S))return!1;V=aa.get(l);var F=aa.get(u);if(V&&F)return V==u&&F==l;V=-1;F=!0;var t=q&2?new k:void 0;aa.set(l,u);for(aa.set(u,l);++V<S;){var w=l[V],x=u[V];if(D)var I=X?D(x,w,V,u,l,aa):D(w,x,V,l,u,aa);if(void 0!==I){if(I)continue;F=!1;break}if(t){if(!f(u,function(R,B){if(!h(t,B)&&(w===R||U(w,R,q,D,aa)))return t.push(B)})){F=!1;break}}else if(w!==
x&&!U(w,x,q,D,aa)){F=!1;break}}aa["delete"](l);aa["delete"](u);return F}};
shadow$provide[280]=function(Pa,da,gb,oa){gb.exports=function(k){var f=-1,h=Array(k.size);k.forEach(function(l,u){h[++f]=[u,l]});return h}};
shadow$provide[281]=function(Pa,da,gb,oa){gb.exports=function(k){var f=-1,h=Array(k.size);k.forEach(function(l){h[++f]=l});return h}};
shadow$provide[282]=function(Pa,da,gb,oa){Pa=da(169);var k=da(248),f=da(156),h=da(279),l=da(280),u=da(281),q=(da=Pa?Pa.prototype:void 0)?da.valueOf:void 0;gb.exports=function(D,U,aa,X,S,V,F){switch(aa){case "[object DataView]":if(D.byteLength!=U.byteLength||D.byteOffset!=U.byteOffset)break;D=D.buffer;U=U.buffer;case "[object ArrayBuffer]":if(D.byteLength!=U.byteLength||!V(new k(D),new k(U)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return f(+D,+U);case "[object Error]":return D.name==
U.name&&D.message==U.message;case "[object RegExp]":case "[object String]":return D==U+"";case "[object Map]":var t=l;case "[object Set]":t||(t=u);if(D.size!=U.size&&!(X&1))break;if(aa=F.get(D))return aa==U;X|=2;F.set(D,U);U=h(t(D),t(U),X,S,V,F);F["delete"](D);return U;case "[object Symbol]":if(q)return q.call(D)==q.call(U)}return!1}};
shadow$provide[283]=function(Pa,da,gb,oa){var k=da(240),f=Object.prototype.hasOwnProperty;gb.exports=function(h,l,u,q,D,U){var aa=u&1,X=k(h),S=X.length,V=k(l).length;if(S!=V&&!aa)return!1;for(V=S;V--;){var F=X[V];if(!(aa?F in l:f.call(l,F)))return!1}var t=U.get(h);F=U.get(l);if(t&&F)return t==l&&F==h;t=!0;U.set(h,l);U.set(l,h);for(var w=aa;++V<S;){F=X[V];var x=h[F],I=l[F];if(q)var R=aa?q(I,x,F,l,h,U):q(x,I,F,h,l,U);if(void 0===R?x!==I&&!D(x,I,u,q,U):!R){t=!1;break}w||(w="constructor"==F)}t&&!w&&(u=
h.constructor,q=l.constructor,u!=q&&"constructor"in h&&"constructor"in l&&!("function"==typeof u&&u instanceof u&&"function"==typeof q&&q instanceof q)&&(t=!1));U["delete"](h);U["delete"](l);return t}};
shadow$provide[284]=function(Pa,da,gb,oa){var k=da(198),f=da(279),h=da(282),l=da(283),u=da(246),q=da(208),D=da(210),U=da(216),aa=Object.prototype.hasOwnProperty;gb.exports=function(X,S,V,F,t,w){var x=q(X),I=q(S),R=x?"[object Array]":u(X),B=I?"[object Array]":u(S);R="[object Arguments]"==R?"[object Object]":R;B="[object Arguments]"==B?"[object Object]":B;var v="[object Object]"==R;I="[object Object]"==B;if((B=R==B)&&D(X)){if(!D(S))return!1;x=!0;v=!1}if(B&&!v)return w||(w=new k),x||U(X)?f(X,S,V,F,t,
w):h(X,S,R,V,F,t,w);if(!(V&1)&&(x=v&&aa.call(X,"__wrapped__"),R=I&&aa.call(S,"__wrapped__"),x||R))return X=x?X.value():X,S=R?S.value():S,w||(w=new k),t(X,S,V,F,w);if(!B)return!1;w||(w=new k);return l(X,S,V,F,t,w)}};
shadow$provide[285]=function(Pa,da,gb,oa){function k(l,u,q,D,U){return l===u?!0:null==l||null==u||!h(l)&&!h(u)?l!==l&&u!==u:f(l,u,q,D,k,U)}var f=da(284),h=da(205);gb.exports=k};
shadow$provide[286]=function(Pa,da,gb,oa){var k=da(198),f=da(285);gb.exports=function(h,l,u,q){var D=u.length,U=D,aa=!q;if(null==h)return!U;for(h=Object(h);D--;){var X=u[D];if(aa&&X[2]?X[1]!==h[X[0]]:!(X[0]in h))return!1}for(;++D<U;){X=u[D];var S=X[0],V=h[S],F=X[1];if(aa&&X[2]){if(void 0===V&&!(S in h))return!1}else{X=new k;if(q)var t=q(V,F,S,h,l,X);if(void 0===t?!f(F,V,3,q,X):!t)return!1}}return!0}};
shadow$provide[287]=function(Pa,da,gb,oa){var k=da(173);gb.exports=function(f){return f===f&&!k(f)}};
shadow$provide[288]=function(Pa,da,gb,oa){var k=da(287),f=da(223);gb.exports=function(h){for(var l=f(h),u=l.length;u--;){var q=l[u],D=h[q];l[u]=[q,D,k(D)]}return l}};
shadow$provide[289]=function(Pa,da,gb,oa){gb.exports=function(k,f){return function(h){return null==h?!1:h[k]===f&&(void 0!==f||k in Object(h))}}};
shadow$provide[290]=function(Pa,da,gb,oa){var k=da(286),f=da(288),h=da(289);gb.exports=function(l){var u=f(l);return 1==u.length&&u[0][2]?h(u[0][0],u[0][1]):function(q){return q===l||k(q,l,u)}}};
shadow$provide[291]=function(Pa,da,gb,oa){var k=da(172),f=da(205);gb.exports=function(h){return"symbol"==typeof h||f(h)&&"[object Symbol]"==k(h)}};
shadow$provide[292]=function(Pa,da,gb,oa){var k=da(208),f=da(291),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;gb.exports=function(u,q){if(k(u))return!1;var D=typeof u;return"number"==D||"symbol"==D||"boolean"==D||null==u||f(u)?!0:l.test(u)||!h.test(u)||null!=q&&u in Object(q)}};
shadow$provide[293]=function(Pa,da,gb,oa){function k(h,l){if("function"!=typeof h||null!=l&&"function"!=typeof l)throw new TypeError("Expected a function");var u=function(){var q=arguments,D=l?l.apply(this,q):q[0],U=u.cache;if(U.has(D))return U.get(D);q=h.apply(this,q);u.cache=U.set(D,q)||U;return q};u.cache=new (k.Cache||f);return u}var f=da(196);k.Cache=f;gb.exports=k};
shadow$provide[294]=function(Pa,da,gb,oa){var k=da(293);gb.exports=function(f){f=k(f,function(l){500===h.size&&h.clear();return l});var h=f.cache;return f}};
shadow$provide[295]=function(Pa,da,gb,oa){var k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g;Pa=da(294)(function(h){var l=[];46===h.charCodeAt(0)&&l.push("");h.replace(k,function(u,q,D,U){l.push(D?U.replace(f,"$1"):q||u)});return l});gb.exports=Pa};
shadow$provide[296]=function(Pa,da,gb,oa){gb.exports=function(k,f){for(var h=-1,l=null==k?0:k.length,u=Array(l);++h<l;)u[h]=f(k[h],h,k);return u}};
shadow$provide[297]=function(Pa,da,gb,oa){function k(D){if("string"==typeof D)return D;if(h(D))return f(D,k)+"";if(l(D))return q?q.call(D):"";var U=D+"";return"0"==U&&1/D==-u?"-0":U}Pa=da(169);var f=da(296),h=da(208),l=da(291),u=1/0,q=(da=Pa?Pa.prototype:void 0)?da.toString:void 0;gb.exports=k};
shadow$provide[298]=function(Pa,da,gb,oa){var k=da(297);gb.exports=function(f){return null==f?"":k(f)}};
shadow$provide[299]=function(Pa,da,gb,oa){var k=da(208),f=da(292),h=da(295),l=da(298);gb.exports=function(u,q){return k(u)?u:f(u,q)?[u]:h(l(u))}};
shadow$provide[300]=function(Pa,da,gb,oa){var k=da(291),f=1/0;gb.exports=function(h){if("string"==typeof h||k(h))return h;var l=h+"";return"0"==l&&1/h==-f?"-0":l}};
shadow$provide[301]=function(Pa,da,gb,oa){var k=da(299),f=da(300);gb.exports=function(h,l){l=k(l,h);for(var u=0,q=l.length;null!=h&&u<q;)h=h[f(l[u++])];return u&&u==q?h:void 0}};
shadow$provide[302]=function(Pa,da,gb,oa){var k=da(301);gb.exports=function(f,h,l){f=null==f?void 0:k(f,h);return void 0===f?l:f}};
shadow$provide[303]=function(Pa,da,gb,oa){gb.exports=function(k,f){return null!=k&&f in Object(k)}};
shadow$provide[304]=function(Pa,da,gb,oa){var k=da(299),f=da(207),h=da(208),l=da(211),u=da(212),q=da(300);gb.exports=function(D,U,aa){U=k(U,D);for(var X=-1,S=U.length,V=!1;++X<S;){var F=q(U[X]);if(!(V=null!=D&&aa(D,F)))break;D=D[F]}if(V||++X!=S)return V;S=null==D?0:D.length;return!!S&&u(S)&&l(F,S)&&(h(D)||f(D))}};
shadow$provide[305]=function(Pa,da,gb,oa){var k=da(303),f=da(304);gb.exports=function(h,l){return null!=h&&f(h,l,k)}};
shadow$provide[306]=function(Pa,da,gb,oa){var k=da(285),f=da(302),h=da(305),l=da(292),u=da(287),q=da(289),D=da(300);gb.exports=function(U,aa){return l(U)&&u(aa)?q(D(U),aa):function(X){var S=f(X,U);return void 0===S&&S===aa?h(X,U):k(aa,S,3)}}};
shadow$provide[307]=function(Pa,da,gb,oa){gb.exports=function(k){return function(f){return null==f?void 0:f[k]}}};
shadow$provide[308]=function(Pa,da,gb,oa){var k=da(301);gb.exports=function(f){return function(h){return k(h,f)}}};
shadow$provide[309]=function(Pa,da,gb,oa){var k=da(307),f=da(308),h=da(292),l=da(300);gb.exports=function(u){return h(u)?k(l(u)):f(u)}};
shadow$provide[310]=function(Pa,da,gb,oa){var k=da(290),f=da(306),h=da(269),l=da(208),u=da(309);gb.exports=function(q){return"function"==typeof q?q:null==q?h:"object"==typeof q?l(q)?f(q[0],q[1]):k(q):u(q)}};
shadow$provide[311]=function(Pa,da,gb,oa){var k=da(231),f=da(273),h=da(310),l=da(208);gb.exports=function(u,q){return(l(u)?k:f)(u,h(q,3))}};
shadow$provide[312]=function(Pa,da,gb,oa){var k=Object.prototype.hasOwnProperty;gb.exports=function(f,h){return null!=f&&k.call(f,h)}};
shadow$provide[313]=function(Pa,da,gb,oa){var k=da(312),f=da(304);gb.exports=function(h,l){return null!=h&&f(h,l,k)}};
shadow$provide[314]=function(Pa,da,gb,oa){var k=da(221),f=da(246),h=da(207),l=da(208),u=da(222),q=da(210),D=da(218),U=da(216),aa=Object.prototype.hasOwnProperty;gb.exports=function(X){if(null==X)return!0;if(u(X)&&(l(X)||"string"==typeof X||"function"==typeof X.splice||q(X)||U(X)||h(X)))return!X.length;var S=f(X);if("[object Map]"==S||"[object Set]"==S)return!X.size;if(D(X))return!k(X).length;for(var V in X)if(aa.call(X,V))return!1;return!0}};
shadow$provide[315]=function(Pa,da,gb,oa){gb.exports=function(k){return void 0===k}};
shadow$provide[316]=function(Pa,da,gb,oa){var k=da(268),f=da(222);gb.exports=function(h,l){var u=-1,q=f(h)?Array(h.length):[];k(h,function(D,U,aa){q[++u]=l(D,U,aa)});return q}};
shadow$provide[317]=function(Pa,da,gb,oa){var k=da(296),f=da(310),h=da(316),l=da(208);gb.exports=function(u,q){return(l(u)?k:h)(u,f(q,3))}};
shadow$provide[318]=function(Pa,da,gb,oa){gb.exports=function(k,f,h,l){var u=-1,q=null==k?0:k.length;for(l&&q&&(h=k[++u]);++u<q;)h=f(h,k[u],u,k);return h}};
shadow$provide[319]=function(Pa,da,gb,oa){gb.exports=function(k,f,h,l,u){u(k,function(q,D,U){h=l?(l=!1,q):f(h,q,D,U)});return h}};
shadow$provide[320]=function(Pa,da,gb,oa){var k=da(318),f=da(268),h=da(310),l=da(319),u=da(208);gb.exports=function(q,D,U){var aa=u(q)?k:l,X=3>arguments.length;return aa(q,h(D,4),U,X,f)}};
shadow$provide[321]=function(Pa,da,gb,oa){var k=da(172),f=da(208),h=da(205);gb.exports=function(l){return"string"==typeof l||!f(l)&&h(l)&&"[object String]"==k(l)}};
shadow$provide[322]=function(Pa,da,gb,oa){Pa=da(307)("length");gb.exports=Pa};
shadow$provide[323]=function(Pa,da,gb,oa){var k=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/;gb.exports=function(f){return k.test(f)}};
shadow$provide[324]=function(Pa,da,gb,oa){var k=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;
gb.exports=function(f){for(var h=k.lastIndex=0;k.test(f);)++h;return h}};
shadow$provide[325]=function(Pa,da,gb,oa){var k=da(322),f=da(323),h=da(324);gb.exports=function(l){return f(l)?h(l):k(l)}};
shadow$provide[326]=function(Pa,da,gb,oa){var k=da(221),f=da(246),h=da(222),l=da(321),u=da(325);gb.exports=function(q){if(null==q)return 0;if(h(q))return l(q)?u(q):q.length;var D=f(q);return"[object Map]"==D||"[object Set]"==D?q.size:k(q).length}};
shadow$provide[327]=function(Pa,da,gb,oa){var k=da(199),f=da(255),h=da(266),l=da(310),u=da(236),q=da(208),D=da(210),U=da(174),aa=da(173),X=da(216);gb.exports=function(S,V,F){var t=q(S),w=t||D(S)||X(S);V=l(V,4);if(null==F){var x=S&&S.constructor;F=w?t?new x:[]:aa(S)?U(x)?f(u(S)):{}:{}}(w?k:h)(S,function(I,R,B){return V(F,I,R,B)});return F}};
shadow$provide[328]=function(Pa,da,gb,oa){Pa=da(169);var k=da(207),f=da(208),h=Pa?Pa.isConcatSpreadable:void 0;gb.exports=function(l){return f(l)||k(l)||!!(h&&l&&l[h])}};
shadow$provide[329]=function(Pa,da,gb,oa){function k(l,u,q,D,U){var aa=-1,X=l.length;q||(q=h);for(U||(U=[]);++aa<X;){var S=l[aa];0<u&&q(S)?1<u?k(S,u-1,q,D,U):f(U,S):D||(U[U.length]=S)}return U}var f=da(235),h=da(328);gb.exports=k};
shadow$provide[330]=function(Pa,da,gb,oa){gb.exports=function(k,f,h){switch(h.length){case 0:return k.call(f);case 1:return k.call(f,h[0]);case 2:return k.call(f,h[0],h[1]);case 3:return k.call(f,h[0],h[1],h[2])}return k.apply(f,h)}};
shadow$provide[331]=function(Pa,da,gb,oa){var k=da(330),f=Math.max;gb.exports=function(h,l,u){l=f(void 0===l?h.length-1:l,0);return function(){for(var q=arguments,D=-1,U=f(q.length-l,0),aa=Array(U);++D<U;)aa[D]=q[l+D];D=-1;for(U=Array(l+1);++D<l;)U[D]=q[D];U[l]=u(aa);return k(h,this,U)}}};
shadow$provide[332]=function(Pa,da,gb,oa){var k=da(263),f=da(200);Pa=da(269);gb.exports=f?function(h,l){return f(h,"toString",{configurable:!0,enumerable:!1,value:k(l),writable:!0})}:Pa};
shadow$provide[333]=function(Pa,da,gb,oa){var k=Date.now;gb.exports=function(f){var h=0,l=0;return function(){var u=k(),q=16-(u-l);l=u;if(0<q){if(800<=++h)return arguments[0]}else h=0;return f.apply(void 0,arguments)}}};
shadow$provide[334]=function(Pa,da,gb,oa){Pa=da(332);da=da(333)(Pa);gb.exports=da};
shadow$provide[335]=function(Pa,da,gb,oa){var k=da(269),f=da(331),h=da(334);gb.exports=function(l,u){return h(f(l,u,k),l+"")}};
shadow$provide[336]=function(Pa,da,gb,oa){gb.exports=function(k,f,h,l){var u=k.length;for(h+=l?1:-1;l?h--:++h<u;)if(f(k[h],h,k))return h;return-1}};
shadow$provide[337]=function(Pa,da,gb,oa){gb.exports=function(k){return k!==k}};
shadow$provide[338]=function(Pa,da,gb,oa){gb.exports=function(k,f,h){--h;for(var l=k.length;++h<l;)if(k[h]===f)return h;return-1}};
shadow$provide[339]=function(Pa,da,gb,oa){var k=da(336),f=da(337),h=da(338);gb.exports=function(l,u,q){return u===u?h(l,u,q):k(l,f,q)}};
shadow$provide[340]=function(Pa,da,gb,oa){var k=da(339);gb.exports=function(f,h){return!(null==f||!f.length)&&-1<k(f,h,0)}};
shadow$provide[341]=function(Pa,da,gb,oa){gb.exports=function(k,f,h){for(var l=-1,u=null==k?0:k.length;++l<u;)if(h(f,k[l]))return!0;return!1}};
shadow$provide[342]=function(Pa,da,gb,oa){gb.exports=function(){}};
shadow$provide[343]=function(Pa,da,gb,oa){var k=da(244);Pa=da(342);da=da(281);oa=1/0;da=k&&1/da(new k([,-0]))[1]==oa?function(f){return new k(f)}:Pa;gb.exports=da};
shadow$provide[344]=function(Pa,da,gb,oa){var k=da(276),f=da(340),h=da(341),l=da(278),u=da(343),q=da(281);gb.exports=function(D,U,aa){var X=-1,S=f,V=D.length,F=!0,t=[],w=t;if(aa)F=!1,S=h;else if(200<=V){if(S=U?null:u(D))return q(S);F=!1;S=l;w=new k}else w=U?[]:t;a:for(;++X<V;){var x=D[X],I=U?U(x):x;x=aa||0!==x?x:0;if(F&&I===I){for(var R=w.length;R--;)if(w[R]===I)continue a;U&&w.push(I);t.push(x)}else S(w,I,aa)||(w!==t&&w.push(I),t.push(x))}return t}};
shadow$provide[345]=function(Pa,da,gb,oa){var k=da(222),f=da(205);gb.exports=function(h){return f(h)&&k(h)}};
shadow$provide[346]=function(Pa,da,gb,oa){var k=da(329);Pa=da(335);var f=da(344),h=da(345);da=Pa(function(l){return f(k(l,1,h,!0))});gb.exports=da};
shadow$provide[347]=function(Pa,da,gb,oa){var k=da(296);gb.exports=function(f,h){return k(h,function(l){return f[l]})}};
shadow$provide[348]=function(Pa,da,gb,oa){var k=da(347),f=da(223);gb.exports=function(h){return null==h?[]:k(h,f(h))}};
shadow$provide[349]=function(Pa,da,gb,oa){if("function"===typeof da)try{var k={clone:da(262),constant:da(263),each:da(272),filter:da(311),has:da(313),isArray:da(208),isEmpty:da(314),isFunction:da(174),isUndefined:da(315),keys:da(223),map:da(317),reduce:da(320),size:da(326),transform:da(327),union:da(346),values:da(348)}}catch(f){}k||(k=window._);gb.exports=k};
shadow$provide[350]=function(Pa,da,gb,oa){function k(q){this._isDirected=l.has(q,"directed")?q.directed:!0;this._isMultigraph=l.has(q,"multigraph")?q.multigraph:!1;this._isCompound=l.has(q,"compound")?q.compound:!1;this._label=void 0;this._defaultNodeLabelFn=l.constant(void 0);this._defaultEdgeLabelFn=l.constant(void 0);this._nodes={};this._isCompound&&(this._parent={},this._children={},this._children[u]={});this._in={};this._preds={};this._out={};this._sucs={};this._edgeObjs={};this._edgeLabels=
{}}function f(q,D,U,aa){D=""+D;U=""+U;!q&&D>U&&(q=D,D=U,U=q);return D+""+U+""+(l.isUndefined(aa)?"\x00":aa)}function h(q,D){return f(q,D.v,D.w,D.name)}var l=da(349);gb.exports=k;var u="\x00";k.prototype._nodeCount=0;k.prototype._edgeCount=0;k.prototype.isDirected=function(){return this._isDirected};k.prototype.isMultigraph=function(){return this._isMultigraph};k.prototype.isCompound=function(){return this._isCompound};k.prototype.setGraph=function(q){this._label=q;return this};k.prototype.graph=
function(){return this._label};k.prototype.setDefaultNodeLabel=function(q){l.isFunction(q)||(q=l.constant(q));this._defaultNodeLabelFn=q;return this};k.prototype.nodeCount=function(){return this._nodeCount};k.prototype.nodes=function(){return l.keys(this._nodes)};k.prototype.sources=function(){var q=this;return l.filter(this.nodes(),function(D){return l.isEmpty(q._in[D])})};k.prototype.sinks=function(){var q=this;return l.filter(this.nodes(),function(D){return l.isEmpty(q._out[D])})};k.prototype.setNodes=
function(q,D){var U=arguments,aa=this;l.each(q,function(X){1<U.length?aa.setNode(X,D):aa.setNode(X)});return this};k.prototype.setNode=function(q,D){if(l.has(this._nodes,q))return 1<arguments.length&&(this._nodes[q]=D),this;this._nodes[q]=1<arguments.length?D:this._defaultNodeLabelFn(q);this._isCompound&&(this._parent[q]=u,this._children[q]={},this._children[u][q]=!0);this._in[q]={};this._preds[q]={};this._out[q]={};this._sucs[q]={};++this._nodeCount;return this};k.prototype.node=function(q){return this._nodes[q]};
k.prototype.hasNode=function(q){return l.has(this._nodes,q)};k.prototype.removeNode=function(q){var D=this;if(l.has(this._nodes,q)){var U=function(aa){D.removeEdge(D._edgeObjs[aa])};delete this._nodes[q];this._isCompound&&(this._removeFromParentsChildList(q),delete this._parent[q],l.each(this.children(q),function(aa){D.setParent(aa)}),delete this._children[q]);l.each(l.keys(this._in[q]),U);delete this._in[q];delete this._preds[q];l.each(l.keys(this._out[q]),U);delete this._out[q];delete this._sucs[q];
--this._nodeCount}return this};k.prototype.setParent=function(q,D){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(l.isUndefined(D))D=u;else{for(var U=D+="";!l.isUndefined(U);U=this.parent(U))if(U===q)throw Error("Setting "+D+" as parent of "+q+" would create a cycle");this.setNode(D)}this.setNode(q);this._removeFromParentsChildList(q);this._parent[q]=D;this._children[D][q]=!0;return this};k.prototype._removeFromParentsChildList=function(q){delete this._children[this._parent[q]][q]};
k.prototype.parent=function(q){if(this._isCompound&&(q=this._parent[q],q!==u))return q};k.prototype.children=function(q){l.isUndefined(q)&&(q=u);if(this._isCompound){if(q=this._children[q])return l.keys(q)}else{if(q===u)return this.nodes();if(this.hasNode(q))return[]}};k.prototype.predecessors=function(q){if(q=this._preds[q])return l.keys(q)};k.prototype.successors=function(q){if(q=this._sucs[q])return l.keys(q)};k.prototype.neighbors=function(q){var D=this.predecessors(q);if(D)return l.union(D,this.successors(q))};
k.prototype.isLeaf=function(q){return 0===(this.isDirected()?this.successors(q):this.neighbors(q)).length};k.prototype.filterNodes=function(q){function D(S){var V=aa.parent(S);return void 0===V||U.hasNode(V)?X[S]=V:V in X?X[V]:D(V)}var U=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});U.setGraph(this.graph());var aa=this;l.each(this._nodes,function(S,V){q(V)&&U.setNode(V,S)});l.each(this._edgeObjs,function(S){U.hasNode(S.v)&&U.hasNode(S.w)&&
U.setEdge(S,aa.edge(S))});var X={};this._isCompound&&l.each(U.nodes(),function(S){U.setParent(S,D(S))});return U};k.prototype.setDefaultEdgeLabel=function(q){l.isFunction(q)||(q=l.constant(q));this._defaultEdgeLabelFn=q;return this};k.prototype.edgeCount=function(){return this._edgeCount};k.prototype.edges=function(){return l.values(this._edgeObjs)};k.prototype.setPath=function(q,D){var U=this,aa=arguments;l.reduce(q,function(X,S){1<aa.length?U.setEdge(X,S,D):U.setEdge(X,S);return S});return this};
k.prototype.setEdge=function(){var q=!1,D=arguments[0];if("object"===typeof D&&null!==D&&"v"in D){var U=D.v;var aa=D.w;var X=D.name;if(2===arguments.length){var S=arguments[1];q=!0}}else U=D,aa=arguments[1],X=arguments[3],2<arguments.length&&(S=arguments[2],q=!0);U=""+U;aa=""+aa;l.isUndefined(X)||(X=""+X);D=f(this._isDirected,U,aa,X);if(l.has(this._edgeLabels,D))return q&&(this._edgeLabels[D]=S),this;if(!l.isUndefined(X)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph \x3d false");
this.setNode(U);this.setNode(aa);this._edgeLabels[D]=q?S:this._defaultEdgeLabelFn(U,aa,X);U=""+U;aa=""+aa;!this._isDirected&&U>aa&&(S=U,U=aa,aa=S);S={v:U,w:aa};X&&(S.name=X);U=S.v;aa=S.w;Object.freeze(S);this._edgeObjs[D]=S;X=this._preds[aa];q=U;X[q]?X[q]++:X[q]=1;X=this._sucs[U];q=aa;X[q]?X[q]++:X[q]=1;this._in[aa][D]=S;this._out[U][D]=S;this._edgeCount++;return this};k.prototype.edge=function(q,D,U){var aa=1===arguments.length?h(this._isDirected,arguments[0]):f(this._isDirected,q,D,U);return this._edgeLabels[aa]};
k.prototype.hasEdge=function(q,D,U){var aa=1===arguments.length?h(this._isDirected,arguments[0]):f(this._isDirected,q,D,U);return l.has(this._edgeLabels,aa)};k.prototype.removeEdge=function(q,D,U){var aa=1===arguments.length?h(this._isDirected,arguments[0]):f(this._isDirected,q,D,U),X=this._edgeObjs[aa];if(X){q=X.v;D=X.w;delete this._edgeLabels[aa];delete this._edgeObjs[aa];X=this._preds[D];var S=q;--X[S]||delete X[S];X=this._sucs[q];S=D;--X[S]||delete X[S];delete this._in[D][aa];delete this._out[q][aa];
this._edgeCount--}return this};k.prototype.inEdges=function(q,D){if(q=this._in[q])return q=l.values(q),D?l.filter(q,function(U){return U.v===D}):q};k.prototype.outEdges=function(q,D){if(q=this._out[q])return q=l.values(q),D?l.filter(q,function(U){return U.w===D}):q};k.prototype.nodeEdges=function(q,D){var U=this.inEdges(q,D);if(U)return U.concat(this.outEdges(q,D))}};
shadow$provide[351]=function(Pa,da,gb,oa){gb.exports="2.1.8"};
shadow$provide[352]=function(Pa,da,gb,oa){gb.exports={Graph:da(350),version:da(351)}};
shadow$provide[353]=function(Pa,da,gb,oa){function k(u){return h.map(u.nodes(),function(q){var D=u.node(q),U=u.parent(q);q={v:q};h.isUndefined(D)||(q.value=D);h.isUndefined(U)||(q.parent=U);return q})}function f(u){return h.map(u.edges(),function(q){var D=u.edge(q),U={v:q.v,w:q.w};h.isUndefined(q.name)||(U.name=q.name);h.isUndefined(D)||(U.value=D);return U})}var h=da(349),l=da(350);gb.exports={write:function(u){var q={options:{directed:u.isDirected(),multigraph:u.isMultigraph(),compound:u.isCompound()},
nodes:k(u),edges:f(u)};h.isUndefined(u.graph())||(q.value=h.clone(u.graph()));return q},read:function(u){var q=(new l(u.options)).setGraph(u.value);h.each(u.nodes,function(D){q.setNode(D.v,D.value);D.parent&&q.setParent(D.v,D.parent)});h.each(u.edges,function(D){q.setEdge({v:D.v,w:D.w,name:D.name},D.value)});return q}}};
shadow$provide[354]=function(Pa,da,gb,oa){var k=da(349);gb.exports=function(f){function h(D){k.has(l,D)||(l[D]=!0,q.push(D),k.each(f.successors(D),h),k.each(f.predecessors(D),h))}var l={},u=[],q;k.each(f.nodes(),function(D){q=[];h(D);q.length&&u.push(q)});return u}};
shadow$provide[355]=function(Pa,da,gb,oa){function k(){this._arr=[];this._keyIndices={}}var f=da(349);gb.exports=k;k.prototype.size=function(){return this._arr.length};k.prototype.keys=function(){return this._arr.map(function(h){return h.key})};k.prototype.has=function(h){return f.has(this._keyIndices,h)};k.prototype.priority=function(h){h=this._keyIndices[h];if(void 0!==h)return this._arr[h].priority};k.prototype.min=function(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key};
k.prototype.add=function(h,l){var u=this._keyIndices;h=String(h);if(!f.has(u,h)){var q=this._arr,D=q.length;u[h]=D;q.push({key:h,priority:l});this._decrease(D);return!0}return!1};k.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var h=this._arr.pop();delete this._keyIndices[h.key];this._heapify(0);return h.key};k.prototype.decrease=function(h,l){var u=this._keyIndices[h];if(l>this._arr[u].priority)throw Error("New priority is greater than current priority. Key: "+h+" Old: "+this._arr[u].priority+
" New: "+l);this._arr[u].priority=l;this._decrease(u)};k.prototype._heapify=function(h){var l=this._arr,u=2*h,q=u+1,D=h;u<l.length&&(D=l[u].priority<l[D].priority?u:D,q<l.length&&(D=l[q].priority<l[D].priority?q:D),D!==h&&(this._swap(h,D),this._heapify(D)))};k.prototype._decrease=function(h){for(var l=this._arr,u=l[h].priority,q;0!==h;){q=h>>1;if(l[q].priority<u)break;this._swap(h,q);h=q}};k.prototype._swap=function(h,l){var u=this._arr,q=this._keyIndices,D=u[h],U=u[l];u[h]=U;u[l]=D;q[U.key]=h;q[D.key]=
l}};
shadow$provide[356]=function(Pa,da,gb,oa){function k(l,u,q,D){var U={},aa=new f,X=function(F){var t=F.v!==S?F.v:F.w,w=U[t],x=q(F),I=V.distance+x;if(0>x)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+F+" Weight: "+x);I<w.distance&&(w.distance=I,w.predecessor=S,aa.decrease(t,I))};for(l.nodes().forEach(function(F){var t=F===u?0:Number.POSITIVE_INFINITY;U[F]={distance:t};aa.add(F,t)});0<aa.size();){var S=aa.removeMin();var V=U[S];if(V.distance===Number.POSITIVE_INFINITY)break;
D(S).forEach(X)}return U}Pa=da(349);var f=da(355);gb.exports=function(l,u,q,D){return k(l,String(u),q||h,D||function(U){return l.outEdges(U)})};var h=Pa.constant(1)};
shadow$provide[357]=function(Pa,da,gb,oa){var k=da(356),f=da(349);gb.exports=function(h,l,u){return f.transform(h.nodes(),function(q,D){q[D]=k(h,D,l,u)},{})}};
shadow$provide[358]=function(Pa,da,gb,oa){var k=da(349);gb.exports=function(f){function h(U){var aa=q[U]={onStack:!0,lowlink:l,index:l++};u.push(U);f.successors(U).forEach(function(V){k.has(q,V)?q[V].onStack&&(aa.lowlink=Math.min(aa.lowlink,q[V].index)):(h(V),aa.lowlink=Math.min(aa.lowlink,q[V].lowlink))});if(aa.lowlink===aa.index){var X=[];do{var S=u.pop();q[S].onStack=!1;X.push(S)}while(U!==S);D.push(X)}}var l=0,u=[],q={},D=[];f.nodes().forEach(function(U){k.has(q,U)||h(U)});return D}};
shadow$provide[359]=function(Pa,da,gb,oa){var k=da(349),f=da(358);gb.exports=function(h){return k.filter(f(h),function(l){return 1<l.length||1===l.length&&h.hasEdge(l[0],l[0])})}};
shadow$provide[360]=function(Pa,da,gb,oa){function k(h,l,u){var q={},D=h.nodes();D.forEach(function(U){q[U]={};q[U][U]={distance:0};D.forEach(function(aa){U!==aa&&(q[U][aa]={distance:Number.POSITIVE_INFINITY})});u(U).forEach(function(aa){var X=aa.v===U?aa.w:aa.v;aa=l(aa);q[U][X]={distance:aa,predecessor:U}})});D.forEach(function(U){var aa=q[U];D.forEach(function(X){var S=q[X];D.forEach(function(V){var F=aa[V];V=S[V];var t=S[U].distance+F.distance;t<V.distance&&(V.distance=t,V.predecessor=F.predecessor)})})});
return q}Pa=da(349);gb.exports=function(h,l,u){return k(h,l||f,u||function(q){return h.outEdges(q)})};var f=Pa.constant(1)};
shadow$provide[361]=function(Pa,da,gb,oa){function k(l){function u(aa){if(h.has(D,aa))throw new f;h.has(q,aa)||(D[aa]=!0,q[aa]=!0,h.each(l.predecessors(aa),u),delete D[aa],U.push(aa))}var q={},D={},U=[];h.each(l.sinks(),u);if(h.size(q)!==l.nodeCount())throw new f;return U}function f(){}var h=da(349);gb.exports=k;k.CycleException=f;f.prototype=Error()};
shadow$provide[362]=function(Pa,da,gb,oa){var k=da(361);gb.exports=function(f){try{k(f)}catch(h){if(h instanceof k.CycleException)return!1;throw h;}return!0}};
shadow$provide[363]=function(Pa,da,gb,oa){function k(h,l,u,q,D,U){f.has(q,l)||(q[l]=!0,u||U.push(l),f.each(D(l),function(aa){k(h,aa,u,q,D,U)}),u&&U.push(l))}var f=da(349);gb.exports=function(h,l,u){f.isArray(l)||(l=[l]);var q=(h.isDirected()?h.successors:h.neighbors).bind(h),D=[],U={};f.each(l,function(aa){if(!h.hasNode(aa))throw Error("Graph does not have node: "+aa);k(h,aa,"post"===u,U,q,D)});return D}};
shadow$provide[364]=function(Pa,da,gb,oa){var k=da(363);gb.exports=function(f,h){return k(f,h,"post")}};
shadow$provide[365]=function(Pa,da,gb,oa){var k=da(363);gb.exports=function(f,h){return k(f,h,"pre")}};
shadow$provide[366]=function(Pa,da,gb,oa){var k=da(349),f=da(350),h=da(355);gb.exports=function(l,u){function q(V){var F=V.v===S?V.w:V.v,t=aa.priority(F);void 0!==t&&(V=u(V),V<t&&(U[F]=S,aa.decrease(F,V)))}var D=new f,U={},aa=new h;if(0===l.nodeCount())return D;k.each(l.nodes(),function(V){aa.add(V,Number.POSITIVE_INFINITY);D.setNode(V)});aa.decrease(l.nodes()[0],0);for(var X=!1;0<aa.size();){var S=aa.removeMin();if(k.has(U,S))D.setEdge(S,U[S]);else{if(X)throw Error("Input graph is not connected: "+
l);X=!0}l.nodeEdges(S).forEach(q)}return D}};
shadow$provide[367]=function(Pa,da,gb,oa){gb.exports={components:da(354),dijkstra:da(356),dijkstraAll:da(357),findCycles:da(359),floydWarshall:da(360),isAcyclic:da(362),postorder:da(364),preorder:da(365),prim:da(366),tarjan:da(358),topsort:da(361)}};
shadow$provide[368]=function(Pa,da,gb,oa){Pa=da(352);gb.exports={Graph:Pa.Graph,json:da(353),alg:da(367),version:Pa.version}};
shadow$provide[369]=function(Pa,da,gb,oa){if("function"===typeof da)try{var k=da(368)}catch(f){}k||(k=window.graphlib);gb.exports=k};
shadow$provide[370]=function(Pa,da,gb,oa){var k=da(261);gb.exports=function(f){return k(f,5)}};
shadow$provide[371]=function(Pa,da,gb,oa){var k=da(156),f=da(222),h=da(211),l=da(173);gb.exports=function(u,q,D){if(!l(D))return!1;var U=typeof q;return("number"==U?f(D)&&h(q,D.length):"string"==U&&q in D)?k(D[q],u):!1}};
shadow$provide[372]=function(Pa,da,gb,oa){Pa=da(335);var k=da(156),f=da(371),h=da(227),l=Object.prototype,u=l.hasOwnProperty;da=Pa(function(q,D){q=Object(q);var U=-1,aa=D.length,X=2<aa?D[2]:void 0;for(X&&f(D[0],D[1],X)&&(aa=1);++U<aa;){X=D[U];for(var S=h(X),V=-1,F=S.length;++V<F;){var t=S[V],w=q[t];if(void 0===w||k(w,l[t])&&!u.call(q,t))q[t]=X[t]}}return q});gb.exports=da};
shadow$provide[373]=function(Pa,da,gb,oa){var k=da(310),f=da(222),h=da(223);gb.exports=function(l){return function(u,q,D){var U=Object(u);if(!f(u)){var aa=k(q,3);u=h(u);q=function(X){return aa(U[X],X,U)}}q=l(u,q,D);return-1<q?U[aa?u[q]:q]:void 0}}};
shadow$provide[374]=function(Pa,da,gb,oa){var k=/\s/;gb.exports=function(f){for(var h=f.length;h--&&k.test(f.charAt(h)););return h}};
shadow$provide[375]=function(Pa,da,gb,oa){var k=da(374),f=/^\s+/;gb.exports=function(h){return h?h.slice(0,k(h)+1).replace(f,""):h}};
shadow$provide[376]=function(Pa,da,gb,oa){var k=da(375),f=da(173),h=da(291),l=0/0,u=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,D=/^0o[0-7]+$/i,U=parseInt;gb.exports=function(aa){if("number"==typeof aa)return aa;if(h(aa))return l;f(aa)&&(aa="function"==typeof aa.valueOf?aa.valueOf():aa,aa=f(aa)?aa+"":aa);if("string"!=typeof aa)return 0===aa?aa:+aa;aa=k(aa);var X=q.test(aa);return X||D.test(aa)?U(aa.slice(2),X?2:8):u.test(aa)?l:+aa}};
shadow$provide[377]=function(Pa,da,gb,oa){var k=da(376),f=1/0;gb.exports=function(h){if(!h)return 0===h?h:0;h=k(h);return h===f||h===-f?1.7976931348623157E308*(0>h?-1:1):h===h?h:0}};
shadow$provide[378]=function(Pa,da,gb,oa){var k=da(377);gb.exports=function(f){f=k(f);var h=f%1;return f===f?h?f-h:f:0}};
shadow$provide[379]=function(Pa,da,gb,oa){var k=da(336),f=da(310),h=da(378),l=Math.max;gb.exports=function(u,q,D){var U=null==u?0:u.length;if(!U)return-1;D=null==D?0:h(D);0>D&&(D=l(U+D,0));return k(u,f(q,3),D)}};
shadow$provide[380]=function(Pa,da,gb,oa){Pa=da(373);da=da(379);da=Pa(da);gb.exports=da};
shadow$provide[381]=function(Pa,da,gb,oa){var k=da(329);gb.exports=function(f){return(null==f?0:f.length)?k(f,1):[]}};
shadow$provide[382]=function(Pa,da,gb,oa){var k=da(265),f=da(270),h=da(227);gb.exports=function(l,u){return null==l?l:k(l,f(u),h)}};
shadow$provide[383]=function(Pa,da,gb,oa){gb.exports=function(k){var f=null==k?0:k.length;return f?k[f-1]:void 0}};
shadow$provide[384]=function(Pa,da,gb,oa){var k=da(201),f=da(266),h=da(310);gb.exports=function(l,u){var q={};u=h(u,3);f(l,function(D,U,aa){k(q,U,u(D,U,aa))});return q}};
shadow$provide[385]=function(Pa,da,gb,oa){var k=da(291);gb.exports=function(f,h,l){for(var u=-1,q=f.length;++u<q;){var D=f[u],U=h(D);if(null!=U&&(void 0===aa?U===U&&!k(U):l(U,aa)))var aa=U,X=D}return X}};
shadow$provide[386]=function(Pa,da,gb,oa){gb.exports=function(k,f){return k>f}};
shadow$provide[387]=function(Pa,da,gb,oa){var k=da(385),f=da(386),h=da(269);gb.exports=function(l){return l&&l.length?k(l,h,f):void 0}};
shadow$provide[388]=function(Pa,da,gb,oa){var k=da(201),f=da(156);gb.exports=function(h,l,u){(void 0===u||f(h[l],u))&&(void 0!==u||l in h)||k(h,l,u)}};
shadow$provide[389]=function(Pa,da,gb,oa){var k=da(172),f=da(236),h=da(205),l=Function.prototype.toString,u=Object.prototype.hasOwnProperty,q=l.call(Object);gb.exports=function(D){if(!h(D)||"[object Object]"!=k(D))return!1;D=f(D);if(null===D)return!0;D=u.call(D,"constructor")&&D.constructor;return"function"==typeof D&&D instanceof D&&l.call(D)==q}};
shadow$provide[390]=function(Pa,da,gb,oa){gb.exports=function(k,f){if(("constructor"!==f||"function"!==typeof k[f])&&"__proto__"!=f)return k[f]}};
shadow$provide[391]=function(Pa,da,gb,oa){var k=da(203),f=da(227);gb.exports=function(h){return k(h,f(h))}};
shadow$provide[392]=function(Pa,da,gb,oa){var k=da(388),f=da(229),h=da(253),l=da(230),u=da(256),q=da(207),D=da(208),U=da(345),aa=da(210),X=da(174),S=da(173),V=da(389),F=da(216),t=da(390),w=da(391);gb.exports=function(x,I,R,B,v,O,N){var A=t(x,R),J=t(I,R),T=N.get(J);if(T)k(x,R,T);else{I=O?O(A,J,R+"",x,I,N):void 0;if(T=void 0===I){var z=D(J),ba=!z&&aa(J),K=!z&&!ba&&F(J);I=J;if(z||ba||K)D(A)?I=A:U(A)?I=l(A):ba?(T=!1,I=f(J,!0)):K?(T=!1,I=h(J,!0)):I=[];else if(V(J)||q(J))if(I=A,q(A))I=w(A);else{if(!S(A)||
X(A))I=u(J)}else T=!1}T&&(N.set(J,I),v(I,J,B,O,N),N["delete"](J));k(x,R,I)}}};
shadow$provide[393]=function(Pa,da,gb,oa){function k(aa,X,S,V,F){aa!==X&&l(X,function(t,w){F||(F=new f);if(q(t))u(aa,X,w,S,k,V,F);else{var x=V?V(U(aa,w),t,w+"",aa,X,F):void 0;void 0===x&&(x=t);h(aa,w,x)}},D)}var f=da(198),h=da(388),l=da(265),u=da(392),q=da(173),D=da(227),U=da(390);gb.exports=k};
shadow$provide[394]=function(Pa,da,gb,oa){var k=da(335),f=da(371);gb.exports=function(h){return k(function(l,u){var q=-1,D=u.length,U=1<D?u[D-1]:void 0,aa=2<D?u[2]:void 0;U=3<h.length&&"function"==typeof U?(D--,U):void 0;aa&&f(u[0],u[1],aa)&&(U=3>D?void 0:U,D=1);for(l=Object(l);++q<D;)(aa=u[q])&&h(l,aa,q,U);return l})}};
shadow$provide[395]=function(Pa,da,gb,oa){var k=da(393);Pa=da(394)(function(f,h,l){k(f,h,l)});gb.exports=Pa};
shadow$provide[396]=function(Pa,da,gb,oa){gb.exports=function(k,f){return k<f}};
shadow$provide[397]=function(Pa,da,gb,oa){var k=da(385),f=da(396),h=da(269);gb.exports=function(l){return l&&l.length?k(l,h,f):void 0}};
shadow$provide[398]=function(Pa,da,gb,oa){var k=da(385),f=da(310),h=da(396);gb.exports=function(l,u){return l&&l.length?k(l,f(u,2),h):void 0}};
shadow$provide[399]=function(Pa,da,gb,oa){var k=da(168);gb.exports=function(){return k.Date.now()}};
shadow$provide[400]=function(Pa,da,gb,oa){var k=da(202),f=da(299),h=da(211),l=da(173),u=da(300);gb.exports=function(q,D,U,aa){if(!l(q))return q;D=f(D,q);for(var X=-1,S=D.length,V=S-1,F=q;null!=F&&++X<S;){var t=u(D[X]),w=U;if("__proto__"===t||"constructor"===t||"prototype"===t)break;if(X!=V){var x=F[t];w=aa?aa(x,t,F):void 0;void 0===w&&(w=l(x)?x:h(D[X+1])?[]:{})}k(F,t,w);F=F[t]}return q}};
shadow$provide[401]=function(Pa,da,gb,oa){var k=da(301),f=da(400),h=da(299);gb.exports=function(l,u,q){for(var D=-1,U=u.length,aa={};++D<U;){var X=u[D],S=k(l,X);q(S,X)&&f(aa,h(X,l),S)}return aa}};
shadow$provide[402]=function(Pa,da,gb,oa){var k=da(401),f=da(305);gb.exports=function(h,l){return k(h,l,function(u,q){return f(h,q)})}};
shadow$provide[403]=function(Pa,da,gb,oa){var k=da(381),f=da(331),h=da(334);gb.exports=function(l){return h(f(l,void 0,k),l+"")}};
shadow$provide[404]=function(Pa,da,gb,oa){var k=da(402);Pa=da(403)(function(f,h){return null==f?{}:k(f,h)});gb.exports=Pa};
shadow$provide[405]=function(Pa,da,gb,oa){var k=Math.ceil,f=Math.max;gb.exports=function(h,l,u,q){var D=-1;l=f(k((l-h)/(u||1)),0);for(var U=Array(l);l--;)U[q?l:++D]=h,h+=u;return U}};
shadow$provide[406]=function(Pa,da,gb,oa){var k=da(405),f=da(371),h=da(377);gb.exports=function(l){return function(u,q,D){D&&"number"!=typeof D&&f(u,q,D)&&(q=D=void 0);u=h(u);void 0===q?(q=u,u=0):q=h(q);D=void 0===D?u<q?1:-1:h(D);return k(u,q,D,l)}}};
shadow$provide[407]=function(Pa,da,gb,oa){Pa=da(406)();gb.exports=Pa};
shadow$provide[408]=function(Pa,da,gb,oa){gb.exports=function(k,f){var h=k.length;for(k.sort(f);h--;)k[h]=k[h].value;return k}};
shadow$provide[409]=function(Pa,da,gb,oa){var k=da(291);gb.exports=function(f,h){if(f!==h){var l=void 0!==f,u=null===f,q=f===f,D=k(f),U=void 0!==h,aa=null===h,X=h===h,S=k(h);if(!aa&&!S&&!D&&f>h||D&&U&&X&&!aa&&!S||u&&U&&X||!l&&X||!q)return 1;if(!u&&!D&&!S&&f<h||S&&l&&q&&!u&&!D||aa&&l&&q||!U&&q||!X)return-1}return 0}};
shadow$provide[410]=function(Pa,da,gb,oa){var k=da(409);gb.exports=function(f,h,l){for(var u=-1,q=f.criteria,D=h.criteria,U=q.length,aa=l.length;++u<U;){var X=k(q[u],D[u]);if(X)return u>=aa?X:X*("desc"==l[u]?-1:1)}return f.index-h.index}};
shadow$provide[411]=function(Pa,da,gb,oa){var k=da(296),f=da(301),h=da(310),l=da(316),u=da(408),q=da(214),D=da(410),U=da(269),aa=da(208);gb.exports=function(X,S,V){S=S.length?k(S,function(t){return aa(t)?function(w){return f(w,1===t.length?t[0]:t)}:t}):[U];var F=-1;S=k(S,q(h));X=l(X,function(t,w,x){return{criteria:k(S,function(I){return I(t)}),index:++F,value:t}});return u(X,function(t,w){return D(t,w,V)})}};
shadow$provide[412]=function(Pa,da,gb,oa){var k=da(329),f=da(411);Pa=da(335);var h=da(371);da=Pa(function(l,u){if(null==l)return[];var q=u.length;1<q&&h(l,u[0],u[1])?u=[]:2<q&&h(u[0],u[1],u[2])&&(u=[u[0]]);return f(l,k(u,1),[])});gb.exports=da};
shadow$provide[413]=function(Pa,da,gb,oa){var k=da(298),f=0;gb.exports=function(h){var l=++f;return k(h)+l}};
shadow$provide[414]=function(Pa,da,gb,oa){gb.exports=function(k,f,h){for(var l=-1,u=k.length,q=f.length,D={};++l<u;)h(D,k[l],l<q?f[l]:void 0);return D}};
shadow$provide[415]=function(Pa,da,gb,oa){var k=da(202),f=da(414);gb.exports=function(h,l){return f(h||[],l||[],k)}};
shadow$provide[416]=function(Pa,da,gb,oa){if("function"===typeof da)try{var k={cloneDeep:da(370),constant:da(263),defaults:da(372),each:da(272),filter:da(311),find:da(380),flatten:da(381),forEach:da(271),forIn:da(382),has:da(313),isUndefined:da(315),last:da(383),map:da(317),mapValues:da(384),max:da(387),merge:da(395),min:da(397),minBy:da(398),now:da(399),pick:da(404),range:da(407),reduce:da(320),sortBy:da(412),uniqueId:da(413),values:da(348),zipObject:da(415)}}catch(f){}k||(k=window._);gb.exports=
k};
shadow$provide[417]=function(Pa,da,gb,oa){function k(){var l={};this._sentinel=l._next=l._prev=l}function f(l){l._prev._next=l._next;l._next._prev=l._prev;delete l._next;delete l._prev}function h(l,u){if("_next"!==l&&"_prev"!==l)return u}gb.exports=k;k.prototype.dequeue=function(){var l=this._sentinel,u=l._prev;if(u!==l)return f(u),u};k.prototype.enqueue=function(l){var u=this._sentinel;l._prev&&l._next&&f(l);l._next=u._next;u._next._prev=l;u._next=l;l._prev=u};k.prototype.toString=function(){for(var l=
[],u=this._sentinel,q=u._prev;q!==u;)l.push(JSON.stringify(q,h)),q=q._prev;return"["+l.join(", ")+"]"}};
shadow$provide[418]=function(Pa,da,gb,oa){function k(aa,X,S){for(var V=[],F=X[X.length-1],t=X[0],w;aa.nodeCount();){for(;w=t.dequeue();)f(aa,X,S,w);for(;w=F.dequeue();)f(aa,X,S,w);if(aa.nodeCount())for(var x=X.length-2;0<x;--x)if(w=X[x].dequeue()){V=V.concat(f(aa,X,S,w,!0));break}}return V}function f(aa,X,S,V,F){var t=F?[]:void 0;u.forEach(aa.inEdges(V.v),function(w){var x=aa.edge(w),I=aa.node(w.v);F&&t.push({v:w.v,w:w.w});I.out-=x;l(X,S,I)});u.forEach(aa.outEdges(V.v),function(w){var x=aa.edge(w);
w=aa.node(w.w);w["in"]-=x;l(X,S,w)});aa.removeNode(V.v);return t}function h(aa,X){var S=new q,V=0,F=0;u.forEach(aa.nodes(),function(x){S.setNode(x,{v:x,"in":0,out:0})});u.forEach(aa.edges(),function(x){var I=S.edge(x.v,x.w)||0,R=X(x);S.setEdge(x.v,x.w,I+R);F=Math.max(F,S.node(x.v).out+=R);V=Math.max(V,S.node(x.w)["in"]+=R)});var t=u.range(F+V+3).map(function(){return new D}),w=V+1;u.forEach(S.nodes(),function(x){l(t,w,S.node(x))});return{graph:S,buckets:t,zeroIdx:w}}function l(aa,X,S){S.out?S["in"]?
aa[S.out-S["in"]+X].enqueue(S):aa[aa.length-1].enqueue(S):aa[0].enqueue(S)}var u=da(416),q=da(369).Graph,D=da(417);gb.exports=function(aa,X){if(1>=aa.nodeCount())return[];X=h(aa,X||U);X=k(X.graph,X.buckets,X.zeroIdx);return u.flatten(u.map(X,function(S){return aa.outEdges(S.v,S.w)}),!0)};var U=u.constant(1)};
shadow$provide[419]=function(Pa,da,gb,oa){function k(l){function u(aa){f.has(U,aa)||(U[aa]=!0,D[aa]=!0,f.forEach(l.outEdges(aa),function(X){f.has(D,X.w)?q.push(X):u(X.w)}),delete D[aa])}var q=[],D={},U={};f.forEach(l.nodes(),u);return q}var f=da(416),h=da(418);gb.exports={run:function(l){function u(D){return function(U){return D.edge(U).weight}}var q="greedy"===l.graph().acyclicer?h(l,u(l)):k(l);f.forEach(q,function(D){var U=l.edge(D);l.removeEdge(D);U.forwardName=D.name;U.reversed=!0;l.setEdge(D.w,
D.v,U,f.uniqueId("rev"))})},undo:function(l){f.forEach(l.edges(),function(u){var q=l.edge(u);if(q.reversed){l.removeEdge(u);var D=q.forwardName;delete q.reversed;delete q.forwardName;l.setEdge(u.w,u.v,q,D)}})}}};
shadow$provide[420]=function(Pa,da,gb,oa){function k(u,q,D,U){do var aa=h.uniqueId(U);while(u.hasNode(aa));D.dummy=q;u.setNode(aa,D);return aa}function f(u){return h.max(h.map(u.nodes(),function(q){q=u.node(q).rank;if(!h.isUndefined(q))return q}))}var h=da(416),l=da(369).Graph;gb.exports={addDummyNode:k,simplify:function(u){var q=(new l).setGraph(u.graph());h.forEach(u.nodes(),function(D){q.setNode(D,u.node(D))});h.forEach(u.edges(),function(D){var U=q.edge(D.v,D.w)||{weight:0,minlen:1},aa=u.edge(D);
q.setEdge(D.v,D.w,{weight:U.weight+aa.weight,minlen:Math.max(U.minlen,aa.minlen)})});return q},asNonCompoundGraph:function(u){var q=(new l({multigraph:u.isMultigraph()})).setGraph(u.graph());h.forEach(u.nodes(),function(D){u.children(D).length||q.setNode(D,u.node(D))});h.forEach(u.edges(),function(D){q.setEdge(D,u.edge(D))});return q},successorWeights:function(u){var q=h.map(u.nodes(),function(D){var U={};h.forEach(u.outEdges(D),function(aa){U[aa.w]=(U[aa.w]||0)+u.edge(aa).weight});return U});return h.zipObject(u.nodes(),
q)},predecessorWeights:function(u){var q=h.map(u.nodes(),function(D){var U={};h.forEach(u.inEdges(D),function(aa){U[aa.v]=(U[aa.v]||0)+u.edge(aa).weight});return U});return h.zipObject(u.nodes(),q)},intersectRect:function(u,q){var D=u.x,U=u.y,aa=q.x-D;q=q.y-U;var X=u.width/2,S=u.height/2;if(!aa&&!q)throw Error("Not possible to find intersection inside of the rectangle");Math.abs(q)*X>Math.abs(aa)*S?(0>q&&(S=-S),u=S*aa/q,aa=S):(0>aa&&(X=-X),u=X,aa=X*q/aa);return{x:D+u,y:U+aa}},buildLayerMatrix:function(u){var q=
h.map(h.range(f(u)+1),function(){return[]});h.forEach(u.nodes(),function(D){var U=u.node(D),aa=U.rank;h.isUndefined(aa)||(q[aa][U.order]=D)});return q},normalizeRanks:function(u){var q=h.min(h.map(u.nodes(),function(D){return u.node(D).rank}));h.forEach(u.nodes(),function(D){D=u.node(D);h.has(D,"rank")&&(D.rank-=q)})},removeEmptyRanks:function(u){var q=h.min(h.map(u.nodes(),function(X){return u.node(X).rank})),D=[];h.forEach(u.nodes(),function(X){var S=u.node(X).rank-q;D[S]||(D[S]=[]);D[S].push(X)});
var U=0,aa=u.graph().nodeRankFactor;h.forEach(D,function(X,S){h.isUndefined(X)&&0!==S%aa?--U:U&&h.forEach(X,function(V){u.node(V).rank+=U})})},addBorderNode:function(u,q,D,U){var aa={width:0,height:0};4<=arguments.length&&(aa.rank=D,aa.order=U);return k(u,"border",aa,q)},maxRank:f,partition:function(u,q){var D={lhs:[],rhs:[]};h.forEach(u,function(U){q(U)?D.lhs.push(U):D.rhs.push(U)});return D},time:function(u,q){var D=h.now();try{return q()}finally{console.log(u+" time: "+(h.now()-D)+"ms")}},notime:function(u,
q){return q()}}};
shadow$provide[421]=function(Pa,da,gb,oa){var k=da(416),f=da(420);gb.exports={run:function(h){h.graph().dummyChains=[];k.forEach(h.edges(),function(l){var u=l.v,q=h.node(u).rank,D=l.w,U=h.node(D).rank,aa=l.name,X=h.edge(l),S=X.labelRank;if(U!==q+1){h.removeEdge(l);var V=0;for(++q;q<U;++V,++q){X.points=[];var F={width:0,height:0,edgeLabel:X,edgeObj:l,rank:q};var t=f.addDummyNode(h,"edge",F,"_d");q===S&&(F.width=X.width,F.height=X.height,F.dummy="edge-label",F.labelpos=X.labelpos);h.setEdge(u,t,{weight:X.weight},
aa);0===V&&h.graph().dummyChains.push(t);u=t}h.setEdge(u,D,{weight:X.weight},aa)}})},undo:function(h){k.forEach(h.graph().dummyChains,function(l){var u=h.node(l),q=u.edgeLabel;for(h.setEdge(u.edgeObj,q);u.dummy;){var D=h.successors(l)[0];h.removeNode(l);q.points.push({x:u.x,y:u.y});"edge-label"===u.dummy&&(q.x=u.x,q.y=u.y,q.width=u.width,q.height=u.height);l=D;u=h.node(l)}})}}};
shadow$provide[422]=function(Pa,da,gb,oa){var k=da(416);gb.exports={longestPath:function(f){function h(u){var q=f.node(u);if(k.has(l,u))return q.rank;l[u]=!0;u=k.min(k.map(f.outEdges(u),function(D){return h(D.w)-f.edge(D).minlen}));if(u===Number.POSITIVE_INFINITY||void 0===u||null===u)u=0;return q.rank=u}var l={};k.forEach(f.sources(),h)},slack:function(f,h){return f.node(h.w).rank-f.node(h.v).rank-f.edge(h).minlen}}};
shadow$provide[423]=function(Pa,da,gb,oa){function k(D,U){function aa(X){l.forEach(U.nodeEdges(X),function(S){var V=S.v;V=X===V?S.w:V;D.hasNode(V)||q(U,S)||(D.setNode(V,{}),D.setEdge(X,V,{}),aa(V))})}l.forEach(D.nodes(),aa);return D.nodeCount()}function f(D,U){return l.minBy(U.edges(),function(aa){if(D.hasNode(aa.v)!==D.hasNode(aa.w))return q(U,aa)})}function h(D,U,aa){l.forEach(D.nodes(),function(X){U.node(X).rank+=aa})}var l=da(416),u=da(369).Graph,q=da(422).slack;gb.exports=function(D){var U=new u({directed:!1}),
aa=D.nodes()[0],X=D.nodeCount();for(U.setNode(aa,{});k(U,D)<X;)aa=f(U,D),aa=U.hasNode(aa.v)?q(D,aa):-q(D,aa),h(U,D,aa);return U}};
shadow$provide[424]=function(Pa,da,gb,oa){function k(I){I=x(I);F(I);var R=S(I);l(R);f(R,I);for(var B,v;B=q(R);)v=D(R,I,B),U(R,I,B,v)}function f(I,R){var B=w(I,I.nodes());B=B.slice(0,B.length-1);X.forEach(B,function(v){var O=I.node(v).parent;I.edge(v,O).cutvalue=h(I,R,v)})}function h(I,R,B){var v=I.node(B).parent,O=!0,N=R.edge(B,v),A=0;N||(O=!1,N=R.edge(v,B));A=N.weight;X.forEach(R.nodeEdges(B),function(J){var T=J.v===B,z=T?J.w:J.v;z!==v&&(T=T===O,J=R.edge(J).weight,A+=T?J:-J,I.hasEdge(B,z)&&(z=I.edge(B,
z).cutvalue,A+=T?-z:z))});return A}function l(I,R){2>arguments.length&&(R=I.nodes()[0]);u(I,{},1,R)}function u(I,R,B,v,O){var N=B,A=I.node(v);R[v]=!0;X.forEach(I.neighbors(v),function(J){X.has(R,J)||(B=u(I,R,B,J,v))});A.low=N;A.lim=B++;O?A.parent=O:delete A.parent;return B}function q(I){return X.find(I.edges(),function(R){return 0>I.edge(R).cutvalue})}function D(I,R,B){var v=B.v,O=B.w;R.hasEdge(v,O)||(v=B.w,O=B.v);B=I.node(v);O=I.node(O);var N=B,A=!1;B.lim>O.lim&&(N=O,A=!0);O=X.filter(R.edges(),function(J){var T=
A,z=I.node(J.v);if(T=T===(N.low<=z.lim&&z.lim<=N.lim))T=A,J=I.node(J.w),T=T!==(N.low<=J.lim&&J.lim<=N.lim);return T});return X.minBy(O,function(J){return V(R,J)})}function U(I,R,B,v){I.removeEdge(B.v,B.w);I.setEdge(v.v,v.w,{});l(I);f(I,R);aa(I,R)}function aa(I,R){var B=X.find(I.nodes(),function(v){return!R.node(v).parent});B=t(I,B);B=B.slice(1);X.forEach(B,function(v){var O=I.node(v).parent,N=R.edge(v,O),A=!1;N||(N=R.edge(O,v),A=!0);R.node(v).rank=R.node(O).rank+(A?N.minlen:-N.minlen)})}var X=da(416),
S=da(423),V=da(422).slack,F=da(422).longestPath,t=da(369).alg.preorder,w=da(369).alg.postorder,x=da(420).simplify;gb.exports=k;k.initLowLimValues=l;k.initCutValues=f;k.calcCutValue=h;k.leaveEdge=q;k.enterEdge=D;k.exchangeEdges=U};
shadow$provide[425]=function(Pa,da,gb,oa){var k=da(422).longestPath,f=da(423),h=da(424);gb.exports=function(u){switch(u.graph().ranker){case "network-simplex":h(u);break;case "tight-tree":k(u);f(u);break;case "longest-path":l(u);break;default:h(u)}};var l=k};
shadow$provide[426]=function(Pa,da,gb,oa){function k(h){function l(D){var U=q;f.forEach(h.children(D),l);u[D]={low:U,lim:q++}}var u={},q=0;f.forEach(h.children(),l);return u}var f=da(416);gb.exports=function(h){var l=k(h);f.forEach(h.graph().dummyChains,function(u){var q=h.node(u),D=q.edgeObj,U=D.v;var aa=D.w;q=[];var X=[],S=Math.min(l[U].low,l[aa].low),V=Math.max(l[U].lim,l[aa].lim);do U=h.parent(U),q.push(U);while(U&&(l[U].low>S||V>l[U].lim));S=U;for(U=aa;(U=h.parent(U))!==S;)X.push(U);aa=q.concat(X.reverse());
X=0;V=aa[X];for(U=!0;u!==D.w;){q=h.node(u);if(U){for(;(V=aa[X])!==S&&h.node(V).maxRank<q.rank;)X++;V===S&&(U=!1)}if(!U){for(;X<aa.length-1&&h.node(aa[X+1]).minRank<=q.rank;)X++;V=aa[X]}h.setParent(u,V);u=h.successors(u)[0]}})}};
shadow$provide[427]=function(Pa,da,gb,oa){function k(q,D,U,aa,X,S,V){var F=q.children(V);if(F.length){var t=u.addBorderNode(q,"_bt"),w=u.addBorderNode(q,"_bb"),x=q.node(V);q.setParent(t,V);x.borderTop=t;q.setParent(w,V);x.borderBottom=w;l.forEach(F,function(I){k(q,D,U,aa,X,S,I);var R=q.node(I),B=R.borderTop?R.borderTop:I;I=R.borderBottom?R.borderBottom:I;R=R.borderTop?aa:2*aa;var v=B!==I?1:X-S[V]+1;q.setEdge(t,B,{weight:R,minlen:v,nestingEdge:!0});q.setEdge(I,w,{weight:R,minlen:v,nestingEdge:!0})});
q.parent(V)||q.setEdge(D,t,{weight:0,minlen:X+S[V]})}else V!==D&&q.setEdge(D,V,{weight:0,minlen:U})}function f(q){function D(aa,X){var S=q.children(aa);S&&S.length&&l.forEach(S,function(V){D(V,X+1)});U[aa]=X}var U={};l.forEach(q.children(),function(aa){D(aa,1)});return U}function h(q){return l.reduce(q.edges(),function(D,U){return D+q.edge(U).weight},0)}var l=da(416),u=da(420);gb.exports={run:function(q){var D=u.addDummyNode(q,"root",{},"_root"),U=f(q),aa=l.max(l.values(U))-1,X=2*aa+1;q.graph().nestingRoot=
D;l.forEach(q.edges(),function(V){q.edge(V).minlen*=X});var S=h(q)+1;l.forEach(q.children(),function(V){k(q,D,X,S,aa,U,V)});q.graph().nodeRankFactor=X},cleanup:function(q){var D=q.graph();q.removeNode(D.nestingRoot);delete D.nestingRoot;l.forEach(q.edges(),function(U){q.edge(U).nestingEdge&&q.removeEdge(U)})}}};
shadow$provide[428]=function(Pa,da,gb,oa){function k(l,u,q,D,U,aa){var X=U[u][aa-1];q=h.addDummyNode(l,"border",{width:0,height:0,rank:aa,borderType:u},q);U[u][aa]=q;l.setParent(q,D);X&&l.setEdge(X,q,{weight:1})}var f=da(416),h=da(420);gb.exports=function(l){function u(q){var D=l.children(q),U=l.node(q);D.length&&f.forEach(D,u);if(f.has(U,"minRank")){U.borderLeft=[];U.borderRight=[];D=U.minRank;for(var aa=U.maxRank+1;D<aa;++D)k(l,"borderLeft","_bl",q,U,D),k(l,"borderRight","_br",q,U,D)}}f.forEach(l.children(),
u)}};
shadow$provide[429]=function(Pa,da,gb,oa){function k(U){D.forEach(U.nodes(),function(aa){f(U.node(aa))});D.forEach(U.edges(),function(aa){f(U.edge(aa))})}function f(U){var aa=U.width;U.width=U.height;U.height=aa}function h(U){D.forEach(U.nodes(),function(aa){l(U.node(aa))});D.forEach(U.edges(),function(aa){aa=U.edge(aa);D.forEach(aa.points,l);D.has(aa,"y")&&l(aa)})}function l(U){U.y=-U.y}function u(U){D.forEach(U.nodes(),function(aa){q(U.node(aa))});D.forEach(U.edges(),function(aa){aa=U.edge(aa);
D.forEach(aa.points,q);D.has(aa,"x")&&q(aa)})}function q(U){var aa=U.x;U.x=U.y;U.y=aa}var D=da(416);gb.exports={adjust:function(U){var aa=U.graph().rankdir.toLowerCase();"lr"!==aa&&"rl"!==aa||k(U)},undo:function(U){var aa=U.graph().rankdir.toLowerCase();"bt"!==aa&&"rl"!==aa||h(U);if("lr"===aa||"rl"===aa)u(U),k(U)}}};
shadow$provide[430]=function(Pa,da,gb,oa){var k=da(416);gb.exports=function(f){function h(U){if(!k.has(l,U)){l[U]=!0;var aa=f.node(U);D[aa.rank].push(U);k.forEach(f.successors(U),h)}}var l={},u=k.filter(f.nodes(),function(U){return!f.children(U).length}),q=k.max(k.map(u,function(U){return f.node(U).rank})),D=k.map(k.range(q+1),function(){return[]});u=k.sortBy(u,function(U){return f.node(U).rank});k.forEach(u,h);return D}};
shadow$provide[431]=function(Pa,da,gb,oa){function k(h,l,u){var q=f.zipObject(u,f.map(u,function(X,S){return S}));l=f.flatten(f.map(l,function(X){return f.sortBy(f.map(h.outEdges(X),function(S){return{pos:q[S.w],weight:h.edge(S).weight}}),"pos")}),!0);for(var D=1;D<u.length;)D<<=1;u=2*D-1;--D;var U=f.map(Array(u),function(){return 0}),aa=0;f.forEach(l.forEach(function(X){var S=X.pos+D;U[S]+=X.weight;for(var V=0;0<S;)S%2&&(V+=U[S+1]),S=S-1>>1,U[S]+=X.weight;aa+=X.weight*V}));return aa}var f=da(416);
gb.exports=function(h,l){for(var u=0,q=1;q<l.length;++q)u+=k(h,l[q-1],l[q]);return u}};
shadow$provide[432]=function(Pa,da,gb,oa){var k=da(416);gb.exports=function(f,h){return k.map(h,function(l){var u=f.inEdges(l);return u.length?(u=k.reduce(u,function(q,D){var U=f.edge(D);D=f.node(D.v);return{sum:q.sum+U.weight*D.order,weight:q.weight+U.weight}},{sum:0,weight:0}),{v:l,barycenter:u.sum/u.weight,weight:u.weight}):{v:l}})}};
shadow$provide[433]=function(Pa,da,gb,oa){function k(h){function l(U){return function(aa){if(!aa.merged&&(f.isUndefined(aa.barycenter)||f.isUndefined(U.barycenter)||aa.barycenter>=U.barycenter)){var X=0,S=0;U.weight&&(X+=U.barycenter*U.weight,S+=U.weight);aa.weight&&(X+=aa.barycenter*aa.weight,S+=aa.weight);U.vs=aa.vs.concat(U.vs);U.barycenter=X/S;U.weight=S;U.i=Math.min(aa.i,U.i);aa.merged=!0}}}function u(U){return function(aa){aa["in"].push(U);0===--aa.indegree&&h.push(aa)}}for(var q=[];h.length;){var D=
h.pop();q.push(D);f.forEach(D["in"].reverse(),l(D));f.forEach(D.out,u(D))}return f.map(f.filter(q,function(U){return!U.merged}),function(U){return f.pick(U,["vs","i","barycenter","weight"])})}var f=da(416);gb.exports=function(h,l){var u={};f.forEach(h,function(q,D){D=u[q.v]={indegree:0,"in":[],out:[],vs:[q.v],i:D};f.isUndefined(q.barycenter)||(D.barycenter=q.barycenter,D.weight=q.weight)});f.forEach(l.edges(),function(q){var D=u[q.v],U=u[q.w];f.isUndefined(D)||f.isUndefined(U)||(U.indegree++,D.out.push(u[q.w]))});
h=f.filter(u,function(q){return!q.indegree});return k(h)}};
shadow$provide[434]=function(Pa,da,gb,oa){function k(u,q,D){for(var U;q.length&&(U=h.last(q)).i<=D;)q.pop(),u.push(U.vs),D++;return D}function f(u){return function(q,D){return q.barycenter<D.barycenter?-1:q.barycenter>D.barycenter?1:u?D.i-q.i:q.i-D.i}}var h=da(416),l=da(420);gb.exports=function(u,q){u=l.partition(u,function(F){return h.has(F,"barycenter")});var D=u.lhs,U=h.sortBy(u.rhs,function(F){return-F.i}),aa=[],X=0,S=0,V=0;D.sort(f(!!q));V=k(aa,U,V);h.forEach(D,function(F){V+=F.vs.length;aa.push(F.vs);
X+=F.barycenter*F.weight;S+=F.weight;V=k(aa,U,V)});q={vs:h.flatten(aa,!0)};S&&(q.barycenter=X/S,q.weight=S);return q}};
shadow$provide[435]=function(Pa,da,gb,oa){function k(D,U,aa,X){var S=D.children(U),V=(U=D.node(U))?U.borderLeft:void 0,F=U?U.borderRight:void 0,t={};V&&(S=h.filter(S,function(x){return x!==V&&x!==F}));S=l(D,S);h.forEach(S,function(x){if(D.children(x.v).length){var I=k(D,x.v,aa,X);t[x.v]=I;h.has(I,"barycenter")&&(h.isUndefined(x.barycenter)?(x.barycenter=I.barycenter,x.weight=I.weight):(x.barycenter=(x.barycenter*x.weight+I.barycenter*I.weight)/(x.weight+I.weight),x.weight+=I.weight))}});S=u(S,aa);
f(S,t);S=q(S,X);if(V&&(S.vs=h.flatten([V,S.vs,F],!0),D.predecessors(V).length)){U=D.node(D.predecessors(V)[0]);var w=D.node(D.predecessors(F)[0]);h.has(S,"barycenter")||(S.barycenter=0,S.weight=0);S.barycenter=(S.barycenter*S.weight+U.order+w.order)/(S.weight+2);S.weight+=2}return S}function f(D,U){h.forEach(D,function(aa){aa.vs=h.flatten(aa.vs.map(function(X){return U[X]?U[X].vs:X}),!0)})}var h=da(416),l=da(432),u=da(433),q=da(434);gb.exports=k};
shadow$provide[436]=function(Pa,da,gb,oa){function k(l){for(var u;l.hasNode(u=f.uniqueId("_root")););return u}var f=da(416),h=da(369).Graph;gb.exports=function(l,u,q){var D=k(l),U=(new h({compound:!0})).setGraph({root:D}).setDefaultNodeLabel(function(aa){return l.node(aa)});f.forEach(l.nodes(),function(aa){var X=l.node(aa),S=l.parent(aa);if(X.rank===u||X.minRank<=u&&u<=X.maxRank)U.setNode(aa),U.setParent(aa,S||D),f.forEach(l[q](aa),function(V){var F=V.v===aa?V.w:V.v,t=U.edge(F,aa);t=f.isUndefined(t)?
0:t.weight;U.setEdge(F,aa,{weight:l.edge(V).weight+t})}),f.has(X,"minRank")&&U.setNode(aa,{borderLeft:X.borderLeft[u],borderRight:X.borderRight[u]})});return U}};
shadow$provide[437]=function(Pa,da,gb,oa){var k=da(416);gb.exports=function(f,h,l){var u={},q;k.forEach(l,function(D){D=f.parent(D);for(var U,aa;D;){(U=f.parent(D))?(aa=u[U],u[U]=D):(aa=q,q=D);if(aa&&aa!==D){h.setEdge(aa,D);break}D=U}})}};
shadow$provide[438]=function(Pa,da,gb,oa){function k(V,F,t){return l.map(F,function(w){return U(V,w,t)})}function f(V,F){var t=new X;l.forEach(V,function(w){var x=w.graph().root;x=D(w,x,t,F);l.forEach(x.vs,function(I,R){w.node(I).order=R});aa(w,t,x.vs)})}function h(V,F){l.forEach(F,function(t){l.forEach(t,function(w,x){V.node(w).order=x})})}var l=da(416),u=da(430),q=da(431),D=da(435),U=da(436),aa=da(437),X=da(369).Graph,S=da(420);gb.exports=function(V){var F=S.maxRank(V),t=k(V,l.range(1,F+1),"inEdges");
F=k(V,l.range(F-1,-1,-1),"outEdges");var w=u(V);h(V,w);for(var x=Number.POSITIVE_INFINITY,I,R=0,B=0;4>B;++R,++B){f(R%2?t:F,2<=R%4);w=S.buildLayerMatrix(V);var v=q(V,w);v<x&&(B=0,I=l.cloneDeep(w),x=v)}h(V,I)}};
shadow$provide[439]=function(Pa,da,gb,oa){function k(x,I){var R={};F.reduce(I,function(B,v){var O=0,N=0,A=B.length,J=F.last(v);F.forEach(v,function(T,z){var ba=h(x,T),K=ba?x.node(ba).order:A;if(ba||T===J)F.forEach(v.slice(N,z+1),function(r){F.forEach(x.predecessors(r),function(Y){var Z=x.node(Y),E=Z.order;!(E<O||K<E)||Z.dummy&&x.node(r).dummy||l(R,Y,r)})}),N=z+1,O=K});return v});return R}function f(x,I){function R(v,O,N,A,J){var T;F.forEach(F.range(O,N),function(z){T=v[z];x.node(T).dummy&&F.forEach(x.predecessors(T),
function(ba){var K=x.node(ba);K.dummy&&(K.order<A||K.order>J)&&l(B,ba,T)})})}var B={};F.reduce(I,function(v,O){var N=-1,A,J=0;F.forEach(O,function(T,z){"border"===x.node(T).dummy&&(T=x.predecessors(T),T.length&&(A=x.node(T[0]).order,R(O,J,z,N,A),J=z,N=A));R(O,J,O.length,A,v.length)});return O});return B}function h(x,I){if(x.node(I).dummy)return F.find(x.predecessors(I),function(R){return x.node(R).dummy})}function l(x,I,R){if(I>R){var B=I;I=R;R=B}(B=x[I])||(x[I]=B={});B[R]=!0}function u(x,I,R){if(I>
R){var B=I;I=R;R=B}return F.has(x[I],R)}function q(x,I,R,B){var v={},O={},N={};F.forEach(I,function(A){F.forEach(A,function(J,T){v[J]=J;O[J]=J;N[J]=T})});F.forEach(I,function(A){var J=-1;F.forEach(A,function(T){var z=B(T);if(z.length){z=F.sortBy(z,function(Y){return N[Y]});var ba=(z.length-1)/2,K=Math.floor(ba);for(ba=Math.ceil(ba);K<=ba;++K){var r=z[K];O[T]===T&&J<N[r]&&!u(R,T,r)&&(O[r]=T,O[T]=v[T]=v[r],J=N[r])}}})});return{root:v,align:O}}function D(x,I,R,B,v){function O(T,z){for(var ba=A.nodes(),
K=ba.pop(),r={};K;)r[K]?T(K):(r[K]=!0,ba.push(K),ba=ba.concat(z(K))),K=ba.pop()}var N={},A=U(x,I,R,v),J=v?"borderLeft":"borderRight";O(function(T){N[T]=A.inEdges(T).reduce(function(z,ba){return Math.max(z,N[ba.v]+A.edge(ba))},0)},A.predecessors.bind(A));O(function(T){var z=A.outEdges(T).reduce(function(K,r){return Math.min(K,N[r.w]-A.edge(r))},Number.POSITIVE_INFINITY),ba=x.node(T);z!==Number.POSITIVE_INFINITY&&ba.borderType!==J&&(N[T]=Math.max(N[T],z))},A.successors.bind(A));F.forEach(B,function(T){N[T]=
N[R[T]]});return N}function U(x,I,R,B){var v=new t,O=x.graph(),N=V(O.nodesep,O.edgesep,B);F.forEach(I,function(A){var J;F.forEach(A,function(T){var z=R[T];v.setNode(z);if(J){var ba=R[J],K=v.edge(ba,z);v.setEdge(ba,z,Math.max(N(x,T,J),K||0))}J=T})});return v}function aa(x,I){return F.minBy(F.values(I),function(R){var B=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY;F.forIn(R,function(O,N){N=x.node(N).width/2;B=Math.max(O+N,B);v=Math.min(O-N,v)});return B-v})}function X(x,I){var R=F.values(I),
B=F.min(R),v=F.max(R);F.forEach(["u","d"],function(O){F.forEach(["l","r"],function(N){var A=O+N,J=x[A],T;if(J!==I){var z=F.values(J);(T="l"===N?B-F.min(z):v-F.max(z))&&(x[A]=F.mapValues(J,function(ba){return ba+T}))}})})}function S(x,I){return F.mapValues(x.ul,function(R,B){if(I)return x[I.toLowerCase()][B];R=F.sortBy(F.map(x,B));return(R[1]+R[2])/2})}function V(x,I,R){return function(B,v,O){v=B.node(v);B=B.node(O);O=v.width/2;if(F.has(v,"labelpos"))switch(v.labelpos.toLowerCase()){case "l":var N=
-v.width/2;break;case "r":N=v.width/2}N&&(O+=R?N:-N);N=0;O+=(v.dummy?I:x)/2;O+=(B.dummy?I:x)/2;O+=B.width/2;if(F.has(B,"labelpos"))switch(B.labelpos.toLowerCase()){case "l":N=B.width/2;break;case "r":N=-B.width/2}N&&(O+=R?N:-N);return O}}var F=da(416),t=da(369).Graph,w=da(420);gb.exports={positionX:function(x){var I=w.buildLayerMatrix(x),R=F.merge(k(x,I),f(x,I)),B={},v;F.forEach(["u","d"],function(N){v="u"===N?I:F.values(I).reverse();F.forEach(["l","r"],function(A){"r"===A&&(v=F.map(v,function(T){return F.values(T).reverse()}));
var J=("u"===N?x.predecessors:x.successors).bind(x);J=q(x,v,R,J);J=D(x,v,J.root,J.align,"r"===A);"r"===A&&(J=F.mapValues(J,function(T){return-T}));B[N+A]=J})});var O=aa(x,B);X(B,O);return S(B,x.graph().align)},findType1Conflicts:k,findType2Conflicts:f,addConflict:l,hasConflict:u,verticalAlignment:q,horizontalCompaction:D,alignCoordinates:X,findSmallestWidthAlignment:aa,balance:S}};
shadow$provide[440]=function(Pa,da,gb,oa){function k(u){var q=h.buildLayerMatrix(u),D=u.graph().ranksep,U=0;f.forEach(q,function(aa){var X=f.max(f.map(aa,function(S){return u.node(S).height}));f.forEach(aa,function(S){u.node(S).y=U+X/2});U+=X+D})}var f=da(416),h=da(420),l=da(439).positionX;gb.exports=function(u){u=h.asNonCompoundGraph(u);k(u);f.forEach(l(u),function(q,D){u.node(D).x=q})}};
shadow$provide[441]=function(Pa,da,gb,oa){function k(ua,Fa){Fa("    makeSpaceForEdgeLabels",function(){l(ua)});Fa("    removeSelfEdges",function(){F(ua)});Fa("    acyclic",function(){R.run(ua)});Fa("    nestingGraph.run",function(){J.run(ua)});Fa("    rank",function(){v(r.asNonCompoundGraph(ua))});Fa("    injectEdgeLabelProxies",function(){u(ua)});Fa("    removeEmptyRanks",function(){A(ua)});Fa("    nestingGraph.cleanup",function(){J.cleanup(ua)});Fa("    normalizeRanks",function(){O(ua)});Fa("    assignRankMinMax",
function(){q(ua)});Fa("    removeEdgeLabelProxies",function(){D(ua)});Fa("    normalize.run",function(){B.run(ua)});Fa("    parentDummyChains",function(){N(ua)});Fa("    addBorderSegments",function(){T(ua)});Fa("    order",function(){ba(ua)});Fa("    insertSelfEdges",function(){t(ua)});Fa("    adjustCoordinateSystem",function(){z.adjust(ua)});Fa("    position",function(){K(ua)});Fa("    positionSelfEdges",function(){w(ua)});Fa("    removeBorderNodes",function(){V(ua)});Fa("    normalize.undo",function(){B.undo(ua)});
Fa("    fixupEdgeLabelCoords",function(){X(ua)});Fa("    undoCoordinateSystem",function(){z.undo(ua)});Fa("    translateGraph",function(){U(ua)});Fa("    assignNodeIntersects",function(){aa(ua)});Fa("    reversePoints",function(){S(ua)});Fa("    acyclic.undo",function(){R.undo(ua)})}function f(ua,Fa){I.forEach(ua.nodes(),function(Xa){var Sa=ua.node(Xa),eb=Fa.node(Xa);Sa&&(Sa.x=eb.x,Sa.y=eb.y,Fa.children(Xa).length&&(Sa.width=eb.width,Sa.height=eb.height))});I.forEach(ua.edges(),function(Xa){var Sa=
ua.edge(Xa);Xa=Fa.edge(Xa);Sa.points=Xa.points;I.has(Xa,"x")&&(Sa.x=Xa.x,Sa.y=Xa.y)});ua.graph().width=Fa.graph().width;ua.graph().height=Fa.graph().height}function h(ua){var Fa=new Y({multigraph:!0,compound:!0}),Xa=x(ua.graph());Fa.setGraph(I.merge({},E,I.mapValues(I.pick(Xa,Z),Number),I.pick(Xa,C)));I.forEach(ua.nodes(),function(Sa){var eb=x(ua.node(Sa));Fa.setNode(Sa,I.defaults(I.mapValues(I.pick(eb,W),Number),fa));Fa.setParent(Sa,ua.parent(Sa))});I.forEach(ua.edges(),function(Sa){var eb=x(ua.edge(Sa));
Fa.setEdge(Sa,I.merge({},Ba,I.mapValues(I.pick(eb,ja),Number),I.pick(eb,Ga)))});return Fa}function l(ua){var Fa=ua.graph();Fa.ranksep/=2;I.forEach(ua.edges(),function(Xa){Xa=ua.edge(Xa);Xa.minlen*=2;"c"!==Xa.labelpos.toLowerCase()&&("TB"===Fa.rankdir||"BT"===Fa.rankdir?Xa.width+=Xa.labeloffset:Xa.height+=Xa.labeloffset)})}function u(ua){I.forEach(ua.edges(),function(Fa){var Xa=ua.edge(Fa);Xa.width&&Xa.height&&(Xa=ua.node(Fa.v),Fa={rank:(ua.node(Fa.w).rank-Xa.rank)/2+Xa.rank,e:Fa},r.addDummyNode(ua,
"edge-proxy",Fa,"_ep"))})}function q(ua){var Fa=0;I.forEach(ua.nodes(),function(Xa){Xa=ua.node(Xa);Xa.borderTop&&(Xa.minRank=ua.node(Xa.borderTop).rank,Xa.maxRank=ua.node(Xa.borderBottom).rank,Fa=I.max(Fa,Xa.maxRank))});ua.graph().maxRank=Fa}function D(ua){I.forEach(ua.nodes(),function(Fa){var Xa=ua.node(Fa);"edge-proxy"===Xa.dummy&&(ua.edge(Xa.e).labelRank=Xa.rank,ua.removeNode(Fa))})}function U(ua){function Fa(ma){var Aa=ma.x,Da=ma.y,Qa=ma.width;ma=ma.height;Xa=Math.min(Xa,Aa-Qa/2);Sa=Math.max(Sa,
Aa+Qa/2);eb=Math.min(eb,Da-ma/2);Va=Math.max(Va,Da+ma/2)}var Xa=Number.POSITIVE_INFINITY,Sa=0,eb=Number.POSITIVE_INFINITY,Va=0,La=ua.graph(),Ra=La.marginx||0,la=La.marginy||0;I.forEach(ua.nodes(),function(ma){Fa(ua.node(ma))});I.forEach(ua.edges(),function(ma){ma=ua.edge(ma);I.has(ma,"x")&&Fa(ma)});Xa-=Ra;eb-=la;I.forEach(ua.nodes(),function(ma){ma=ua.node(ma);ma.x-=Xa;ma.y-=eb});I.forEach(ua.edges(),function(ma){ma=ua.edge(ma);I.forEach(ma.points,function(Aa){Aa.x-=Xa;Aa.y-=eb});I.has(ma,"x")&&(ma.x-=
Xa);I.has(ma,"y")&&(ma.y-=eb)});La.width=Sa-Xa+Ra;La.height=Va-eb+la}function aa(ua){I.forEach(ua.edges(),function(Fa){var Xa=ua.edge(Fa),Sa=ua.node(Fa.v);Fa=ua.node(Fa.w);if(Xa.points){var eb=Xa.points[0];var Va=Xa.points[Xa.points.length-1]}else Xa.points=[],eb=Fa,Va=Sa;Xa.points.unshift(r.intersectRect(Sa,eb));Xa.points.push(r.intersectRect(Fa,Va))})}function X(ua){I.forEach(ua.edges(),function(Fa){Fa=ua.edge(Fa);if(I.has(Fa,"x")){if("l"===Fa.labelpos||"r"===Fa.labelpos)Fa.width-=Fa.labeloffset;
switch(Fa.labelpos){case "l":Fa.x-=Fa.width/2+Fa.labeloffset;break;case "r":Fa.x+=Fa.width/2+Fa.labeloffset}}})}function S(ua){I.forEach(ua.edges(),function(Fa){Fa=ua.edge(Fa);Fa.reversed&&Fa.points.reverse()})}function V(ua){I.forEach(ua.nodes(),function(Fa){if(ua.children(Fa).length){Fa=ua.node(Fa);var Xa=ua.node(Fa.borderTop),Sa=ua.node(Fa.borderBottom),eb=ua.node(I.last(Fa.borderLeft)),Va=ua.node(I.last(Fa.borderRight));Fa.width=Math.abs(Va.x-eb.x);Fa.height=Math.abs(Sa.y-Xa.y);Fa.x=eb.x+Fa.width/
2;Fa.y=Xa.y+Fa.height/2}});I.forEach(ua.nodes(),function(Fa){"border"===ua.node(Fa).dummy&&ua.removeNode(Fa)})}function F(ua){I.forEach(ua.edges(),function(Fa){if(Fa.v===Fa.w){var Xa=ua.node(Fa.v);Xa.selfEdges||(Xa.selfEdges=[]);Xa.selfEdges.push({e:Fa,label:ua.edge(Fa)});ua.removeEdge(Fa)}})}function t(ua){var Fa=r.buildLayerMatrix(ua);I.forEach(Fa,function(Xa){var Sa=0;I.forEach(Xa,function(eb,Va){var La=ua.node(eb);La.order=Va+Sa;I.forEach(La.selfEdges,function(Ra){r.addDummyNode(ua,"selfedge",
{width:Ra.label.width,height:Ra.label.height,rank:La.rank,order:Va+ ++Sa,e:Ra.e,label:Ra.label},"_se")});delete La.selfEdges})})}function w(ua){I.forEach(ua.nodes(),function(Fa){var Xa=ua.node(Fa);if("selfedge"===Xa.dummy){var Sa=ua.node(Xa.e.v),eb=Sa.x+Sa.width/2,Va=Sa.y,La=Xa.x-eb;Sa=Sa.height/2;ua.setEdge(Xa.e,Xa.label);ua.removeNode(Fa);Xa.label.points=[{x:eb+2*La/3,y:Va-Sa},{x:eb+5*La/6,y:Va-Sa},{x:eb+La,y:Va},{x:eb+5*La/6,y:Va+Sa},{x:eb+2*La/3,y:Va+Sa}];Xa.label.x=Xa.x;Xa.label.y=Xa.y}})}function x(ua){var Fa=
{};I.forEach(ua,function(Xa,Sa){Fa[Sa.toLowerCase()]=Xa});return Fa}var I=da(416),R=da(419),B=da(421),v=da(425),O=da(420).normalizeRanks,N=da(426),A=da(420).removeEmptyRanks,J=da(427),T=da(428),z=da(429),ba=da(438),K=da(440),r=da(420),Y=da(369).Graph;gb.exports=function(ua,Fa){var Xa=Fa&&Fa.debugTiming?r.time:r.notime;Xa("layout",function(){var Sa=Xa("  buildLayoutGraph",function(){return h(ua)});Xa("  runLayout",function(){k(Sa,Xa)});Xa("  updateInputGraph",function(){f(ua,Sa)})})};var Z=["nodesep",
"edgesep","ranksep","marginx","marginy"],E={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},C=["acyclicer","ranker","rankdir","align"],W=["width","height"],fa={width:0,height:0},ja=["minlen","weight","width","height","labeloffset"],Ba={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ga=["labelpos"]};
shadow$provide[442]=function(Pa,da,gb,oa){var k=da(416),f=da(420),h=da(369).Graph;gb.exports={debugOrdering:function(l){var u=f.buildLayerMatrix(l),q=(new h({compound:!0,multigraph:!0})).setGraph({});k.forEach(l.nodes(),function(D){q.setNode(D,{label:D});q.setParent(D,"layer"+l.node(D).rank)});k.forEach(l.edges(),function(D){q.setEdge(D.v,D.w,{},D.name)});k.forEach(u,function(D,U){q.setNode("layer"+U,{rank:"same"});k.reduce(D,function(aa,X){q.setEdge(aa,X,{style:"invis"});return X})});return q}}};
shadow$provide[443]=function(Pa,da,gb,oa){gb.exports="0.8.5"};
shadow$provide[444]=function(Pa,da,gb,oa){gb.exports={graphlib:da(369),layout:da(441),debug:da(442),util:{time:da(420).time,notime:da(420).notime},version:da(443)}};
shadow$provide[445]=function(Pa,da,gb,oa){(function(k,f){"object"===typeof oa&&"object"===typeof gb?gb.exports=f(da(444)):"function"===typeof define&&define.amd?define(["dagre"],f):"object"===typeof oa?oa.cytoscapeDagre=f(da(444)):k.cytoscapeDagre=f(k.dagre)})(this,function(k){return function(f){function h(u){if(l[u])return l[u].exports;var q=l[u]={i:u,l:!1,exports:{}};f[u].call(q.exports,q,q.exports,h);q.l=!0;return q.exports}var l={};h.m=f;h.c=l;h.d=function(u,q,D){h.o(u,q)||Object.defineProperty(u,
q,{enumerable:!0,get:D})};h.r=function(u){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})};h.t=function(u,q){q&1&&(u=h(u));if(q&8||q&4&&"object"===typeof u&&u&&u.__esModule)return u;var D=Object.create(null);h.r(D);Object.defineProperty(D,"default",{enumerable:!0,value:u});if(q&2&&"string"!=typeof u)for(var U in u)h.d(D,U,function(aa){return u[aa]}.bind(null,U));return D};h.n=function(u){var q=
u&&u.__esModule?function(){return u["default"]}:function(){return u};h.d(q,"a",q);return q};h.o=function(u,q){return Object.prototype.hasOwnProperty.call(u,q)};h.p="";return h(h.s=0)}([function(f,h,l){var u=l(1);h=function(q){q&&q("layout","dagre",u)};"undefined"!==typeof cytoscape&&h(cytoscape);f.exports=h},function(f,h,l){function u(X){"@babel/helpers - typeof";u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"===typeof Symbol&&
S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};return u(X)}function q(X){this.options=U({},D,X)}var D=l(2),U=l(3),aa=l(4);q.prototype.run=function(){var X=this.options,S=X.cy,V=X.eles,F=function(N,A){return"function"===typeof A?A.apply(N,[N]):A},t=X.boundingBox||{x1:0,y1:0,w:S.width(),h:S.height()};void 0===t.x2&&(t.x2=t.x1+t.w);void 0===t.w&&(t.w=t.x2-t.x1);void 0===t.y2&&(t.y2=t.y1+t.h);void 0===t.h&&(t.h=t.y2-t.y1);var w=new aa.graphlib.Graph({multigraph:!0,compound:!0}),x={},
I=function(N,A){null!=A&&(x[N]=A)};I("nodesep",X.nodeSep);I("edgesep",X.edgeSep);I("ranksep",X.rankSep);I("rankdir",X.rankDir);I("ranker",X.ranker);w.setGraph(x);w.setDefaultEdgeLabel(function(){return{}});w.setDefaultNodeLabel(function(){return{}});I=V.nodes();for(var R=0;R<I.length;R++){var B=I[R],v=B.layoutDimensions(X);w.setNode(B.id(),{width:v.w,height:v.h,name:B.id()})}for(R=0;R<I.length;R++)B=I[R],B.isChild()&&w.setParent(B.id(),B.parent().id());V=V.edges().stdFilter(function(N){return!N.source().isParent()&&
!N.target().isParent()});for(R=0;R<V.length;R++)B=V[R],w.setEdge(B.source().id(),B.target().id(),{minlen:F(B,X.minLen),weight:F(B,X.edgeWeight),name:B.id()},B.id());aa.layout(w);F=w.nodes();for(V=0;V<F.length;V++)R=F[V],B=w.node(R),S.getElementById(R).scratch().dagre=B;if(X.boundingBox){var O={x1:Infinity,x2:-Infinity,y1:Infinity,y2:-Infinity};I.forEach(function(N){N=N.scratch().dagre;O.x1=Math.min(O.x1,N.x);O.x2=Math.max(O.x2,N.x);O.y1=Math.min(O.y1,N.y);O.y2=Math.max(O.y2,N.y)});O.w=O.x2-O.x1;O.h=
O.y2-O.y1}else O=t;I.layoutPositions(this,X,function(N){N="object"===u(N)?N:this;N=N.scratch().dagre;N={x:N.x,y:N.y};N=X.boundingBox?{x:t.x1+(0===O.w?0:(N.x-O.x1)/O.w)*t.w,y:t.y1+(0===O.h?0:(N.y-O.y1)/O.h)*t.h}:N;return N});return this};f.exports=q},function(f,h){f.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,ranker:void 0,minLen:function(l){return 1},edgeWeight:function(l){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(l,
u){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(l,u){return u},ready:function(){},stop:function(){}}},function(f,h){f.exports=null!=Object.assign?Object.assign.bind(Object):function(l){for(var u=arguments.length,q=Array(1<u?u-1:0),D=1;D<u;D++)q[D-1]=arguments[D];q.forEach(function(U){Object.keys(U).forEach(function(aa){return l[aa]=U[aa]})});return l}},function(f,h){f.exports=k}])})};
shadow$provide[446]=function(Pa,da,gb,oa){!function(k,f){"object"==typeof oa&&"object"==typeof gb?gb.exports=f(da(3),da(12),da(21),da(151)):"function"==typeof define&&define.amd?define(["react","react-dom","prop-types","cytoscape"],f):"object"==typeof oa?oa.ReactCytoscape=f(da(3),da(12),da(21),da(151)):k.ReactCytoscape=f(k.React,k.ReactDOM,k.PropTypes,k.cytoscape)}(window,function(k,f,h,l){return function(u){function q(U){if(D[U])return D[U].exports;var aa=D[U]={i:U,l:!1,exports:{}};return u[U].call(aa.exports,
aa,aa.exports,q),aa.l=!0,aa.exports}var D={};return q.m=u,q.c=D,q.d=function(U,aa,X){q.o(U,aa)||Object.defineProperty(U,aa,{enumerable:!0,get:X})},q.r=function(U){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"});Object.defineProperty(U,"__esModule",{value:!0})},q.t=function(U,aa){if((1&aa&&(U=q(U)),8&aa)||4&aa&&"object"==typeof U&&U&&U.__esModule)return U;var X=Object.create(null);if(q.r(X),Object.defineProperty(X,"default",{enumerable:!0,
value:U}),2&aa&&"string"!=typeof U)for(var S in U)q.d(X,S,function(V){return U[V]}.bind(null,S));return X},q.n=function(U){var aa=U&&U.__esModule?function(){return U.default}:function(){return U};return q.d(aa,"a",aa),aa},q.o=function(U,aa){return Object.prototype.hasOwnProperty.call(U,aa)},q.p="",q(q.s=2)}([function(u,q,D){Object.defineProperty(q,"__esModule",{value:!0});var U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==
typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},aa=U({});q.hashDiff=function(X,S){return null==X||null==S||X.hash()!==S.hash()};q.shallowObjDiff=function(X,S){if(!(null!=X&&null!=S||null==X&&null==S))return!0;if(X===S)return!1;if((void 0===X?"undefined":U(X))!==aa||(void 0===S?"undefined":U(S))!==aa)return X!==S;var V=Object.keys(X),F=Object.keys(S),t=function(w){return X[w]!==S[w]};return V.length!==F.length||!(!V.some(t)&&!F.some(t))}},function(u,q,D){Object.defineProperty(q,
"__esModule",{value:!0});q.get=function(U,aa){return null!=U?U[aa]:null};q.toJson=function(U){return U};q.forEach=function(U,aa){return U.forEach(aa)}},function(u,q,D){u.exports=D(3).default},function(u,q,D){function U(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(q,"__esModule",{value:!0});var aa=function(){function x(I,R){for(var B=0;B<R.length;B++){var v=R[B];v.enumerable=v.enumerable||!1;v.configurable=!0;"value"in v&&(v.writable=!0);Object.defineProperty(I,v.key,v)}}return function(I,
R,B){return R&&x(I.prototype,R),B&&x(I,B),I}}(),X=U(D(4)),S=U(D(5)),V=D(6),F=D(8),t=U(D(9)),w=D(10);u=function(x){function I(R){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function");!0;R=(I.__proto__||Object.getPrototypeOf(I)).call(this,R);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");R=!R||"object"!=typeof R&&"function"!=typeof R?this:R;return R.displayName="CytoscapeComponent",R}return function(R,B){if("function"!=typeof B&&
null!==B)throw new TypeError("Super expression must either be null or a function, not "+typeof B);R.prototype=Object.create(B&&B.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}});B&&(Object.setPrototypeOf?Object.setPrototypeOf(R,B):R.__proto__=B)}(I,X.default.Component),aa(I,null,[{key:"normalizeElements",value:function(R){if(null!=R.length)return R;var B=R.nodes;R=R.edges;return null==B&&(B=[]),null==R&&(R=[]),B.concat(R)}},{key:"propTypes",get:function(){return V.types}},
{key:"defaultProps",get:function(){return F.defaults}}]),aa(I,[{key:"componentDidMount",value:function(){var R=S.default.findDOMNode(this),B=this.props,v=B.global;R=this._cy=new t.default({container:R,headless:B.headless,styleEnabled:B.styleEnabled,hideEdgesOnViewport:B.hideEdgesOnViewport,textureOnViewport:B.textureOnViewport,motionBlur:B.motionBlur,motionBlurOpacity:B.motionBlurOpacity,wheelSensitivity:B.wheelSensitivity,pixelRatio:B.pixelRatio});v&&(window[v]=R);this.updateCytoscape(null,this.props)}},
{key:"updateCytoscape",value:function(R,B){var v=this._cy,O=B.diff,N=B.toJson,A=B.get,J=B.forEach;(0,w.patch)(v,R,B,O,N,A,J);null!=B.cy&&B.cy(v)}},{key:"componentDidUpdate",value:function(R){this.updateCytoscape(R,this.props)}},{key:"componentWillUnmount",value:function(){this._cy.destroy()}},{key:"render",value:function(){var R=this.props;return X.default.createElement("div",{id:R.id,className:R.className,style:R.style})}}]),I}();q.default=u},function(u,q){u.exports=k},function(u,q){u.exports=f},
function(u,q,D){Object.defineProperty(q,"__esModule",{value:!0});q.types=void 0;var U=(u=D(7))&&u.__esModule?u:{default:u};u=U.default.string;D=U.default.array;var aa=U.default.object,X=U.default.number,S=U.default.bool,V=U.default.oneOfType,F=U.default.any;U=U.default.func;q.types={id:u,className:u,style:V([u,aa]),elements:V([D,F]),stylesheet:V([D,F]),layout:V([aa,F]),pan:V([aa,F]),zoom:X,panningEnabled:S,userPanningEnabled:S,minZoom:X,maxZoom:X,zoomingEnabled:S,userZoomingEnabled:S,boxSelectionEnabled:S,
autoungrabify:S,autolock:S,autounselectify:S,get:U,toJson:U,diff:U,forEach:U,cy:U,headless:S,styleEnabled:S,hideEdgesOnViewport:S,textureOnViewport:S,motionBlur:S,motionBlurOpacity:X,wheelSensitivity:X,pixelRatio:V([u,aa])}},function(u,q){u.exports=h},function(u,q,D){Object.defineProperty(q,"__esModule",{value:!0});q.defaults=q.pan=q.zoom=q.stylesheet=q.elements=q.identity=void 0;u=D(0);D=D(1);var U=(q.identity=function(V){return V},q.elements=[{data:{id:"a",label:"Example node A"}},{data:{id:"b",
label:"Example node B"}},{data:{id:"e",source:"a",target:"b"}}]),aa=q.stylesheet=[{selector:"node",style:{label:"data(label)"}}],X=q.zoom=1,S=q.pan={x:0,y:0};q.defaults={diff:u.shallowObjDiff,get:D.get,toJson:D.toJson,forEach:D.forEach,elements:U,stylesheet:aa,zoom:X,pan:S}},function(u,q){u.exports=l},function(u,q,D){Object.defineProperty(q,"__esModule",{value:!0});q.patch=void 0;var U=D(1),aa=D(0),X=function(x,I,R,B){return R((0,U.get)(x,B),(0,U.get)(I,B))},S=(q.patch=function(x,I,R,B,v,O,N){x.batch(function(){(B===
aa.shallowObjDiff||X(I,R,B,"elements"))&&t(x,(0,U.get)(I,"elements"),(0,U.get)(R,"elements"),v,O,N,B);X(I,R,B,"stylesheet")&&F(x,(0,U.get)(I,"stylesheet"),(0,U.get)(R,"stylesheet"),v);"zoom minZoom maxZoom zoomingEnabled userZoomingEnabled pan panningEnabled userPanningEnabled boxSelectionEnabled autoungrabify autolock autounselectify".split(" ").forEach(function(A){X(I,R,B,A)&&S(x,A,(0,U.get)(I,A),(0,U.get)(R,A),v)})});X(I,R,B,"layout")&&V(x,(0,U.get)(I,"layout"),(0,U.get)(R,"layout"),v)},function(x,
I,R,B,v){x[I](v(B))}),V=function(x,I,R,B){I=B(R);null!=I&&x.layout(I).run()},F=function(x,I,R,B){x=x.style();null!=x&&x.fromJson(B(R)).update()},t=function(x,I,R,B,v,O,N){var A=[],J=x.collection(),T=[],z={},ba={},K=function(r){return v(v(r,"data"),"id")};O(R,function(r){var Y=K(r);ba[Y]=r});null!=I&&O(I,function(r){var Y=K(r);z[Y]=r;null!=ba[Y]||J.merge(x.getElementById(Y))});O(R,function(r){var Y=K(r),Z=z[Y];null==z[Y]?A.push(B(r)):T.push({ele1:Z,ele2:r})});0<J.length&&x.remove(J);0<A.length&&x.add(A);
T.forEach(function(r){return w(x,r.ele1,r.ele2,B,v,N)})},w=function(x,I,R,B,v,O){var N=v(v(R,"data"),"id");x=x.getElementById(N);var A={};"data position selected selectable locked grabbable classes".split(" ").forEach(function(J){var T=v(R,J);O(T,v(I,J))&&(A[J]=B(T))});N=v(R,"scratch");O(N,v(I,"scratch"))&&x.scratch(B(N));0<Object.keys(A).length&&x.json(A)}}])})};
'use strict';var edb;edb=function(a){return new $APP.J(null,3,5,$APP.M,[$APP.w_,ddb,a],null)};$APP.jza=function(a){return new $APP.J(null,2,5,$APP.M,[edb,$APP.BU(a)],null)};$APP.Cd("ui-cytoscape");var fdb=$APP.Kq(151,{});var gdb=$APP.Kq(154,{});var hdb=$APP.Kq(445,{});var ddb=$APP.Kq(446,{});fdb.use(gdb);fdb.use(hdb);$APP.hf();
}).call(this);